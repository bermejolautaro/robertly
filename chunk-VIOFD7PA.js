import{a as $}from"./chunk-KXAFYLH4.js";import"./chunk-IEXD2UPX.js";import{a as N}from"./chunk-FXAOA7UW.js";import"./chunk-VXOXAC4G.js";import{a as Z}from"./chunk-GJ5ZVB5E.js";import{a as q}from"./chunk-F7GKMS4J.js";import{d as G,w as Y}from"./chunk-GEN2MRRV.js";import{d as S,p as X}from"./chunk-PTTVQ2HQ.js";import{$b as F,Bb as C,Cb as R,Db as V,Eb as W,Fb as e,Gb as n,Hb as s,Ia as w,Ic as z,Ka as b,Kb as U,Mb as m,Nb as O,Rc as j,Ya as a,Yb as r,Zb as B,_b as v,dc as H,ib as E,kc as A,ma as k,nb as P,nc as D,ua as g,va as p,wa as L,wb as _,xb as T,zb as I,zc as c}from"./chunk-LMMDHK2G.js";function Q(i,h){i&1&&(L(),e(0,"svg",9),s(1,"path",12)(2,"path",13)(3,"path",14),n())}function ee(i,h){i&1&&(L(),e(0,"svg",10),s(1,"path",15),n())}function te(i,h){if(i&1&&(P(0,Q,4,0,":svg:svg",9)(1,ee,2,0,":svg:svg",10),e(2,"span",11),r(3),n()),i&2){let o=O();C(o.isDangerousExcess()?0:1),a(3),v("(",o.achievedPercentage()-100,"% over)")}}function ne(i,h){if(i&1&&(e(0,"span",7),r(1),n()),i&2){let o=O();a(),v("",o.goalPercentage(),"%")}}function ie(i,h){if(i&1&&(e(0,"span",7),r(1),n()),i&2){let o=O(2);a(),v("",o.excessPercentage(),"%")}}function oe(i,h){if(i&1&&(e(0,"div",16),P(1,ie,2,1,"span",7),n()),i&2){let o=O();T("width",o.excessPercentage(),"%"),a(),C(o.excessPercentage()>5?1:-1)}}var J=(()=>{class i{constructor(){this.current=w.required(),this.goal=w.required(),this.label=w("Value"),this.unit=w(""),this.isExceeded=c(()=>this.current()>this.goal()),this.goalPercentage=c(()=>this.isExceeded()?200-Math.round(this.current()*100/this.goal()):this.achievedPercentage()),this.excessPercentage=c(()=>this.isExceeded()?100-this.goalPercentage():0),this.achievedPercentage=c(()=>Math.round(this.current()/this.goal()*100)),this.isDangerousExcess=c(()=>this.achievedPercentage()>=120),this.isLow=c(()=>this.achievedPercentage()<=70)}static{this.\u0275fac=function(u){return new(u||i)}}static{this.\u0275cmp=E({type:i,selectors:[["app-progress-bar"]],inputs:{current:[1,"current"],goal:[1,"goal"],label:[1,"label"],unit:[1,"unit"]},decls:12,vars:11,consts:[[1,"progress-container"],[1,"progress-header"],[1,"label"],[1,"value"],[1,"progress-bar-container"],[1,"progress-bar-wrapper"],[1,"goal-portion"],[1,"percentage-text"],[1,"excess-portion",3,"width"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"warning-icon"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"check-icon"],[1,"excess-text"],["d","m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"],["d","M12 9v4"],["d","M12 17h.01"],["d","M20 6 9 17l-5-5"],[1,"excess-portion"]],template:function(u,t){u&1&&(e(0,"div",0)(1,"div",1)(2,"span",2),r(3),n(),e(4,"div",3),r(5),P(6,te,4,2),n()(),e(7,"div",4)(8,"div",5)(9,"div",6),P(10,ne,2,1,"span",7),n(),P(11,oe,2,3,"div",8),n()()()),u&2&&(a(3),B(t.label()),a(2),F(" ",t.current()," / ",t.goal()," ",t.unit()," "),a(),C(t.isExceeded()?6:-1),a(3),I(t.isLow()?"danger-color":null),T("width",t.goalPercentage(),"%"),a(),C(t.goalPercentage()>5?10:-1),a(),C(t.isExceeded()?11:-1))},styles:[".progress-container[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}.progress-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.label[_ngcontent-%COMP%], .value[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.value[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.2rem}.warning-icon[_ngcontent-%COMP%], .check-icon[_ngcontent-%COMP%]{margin-left:4px;height:16px;width:16px;vertical-align:middle}.warning-icon[_ngcontent-%COMP%]{color:#ef4444}.check-icon[_ngcontent-%COMP%]{color:#10b981}.excess-text[_ngcontent-%COMP%]{margin-left:4px;color:#ef4444}.progress-bar-container[_ngcontent-%COMP%]{height:24px;width:100%;background-color:var(--light-bg);border-radius:10px;overflow:hidden;position:relative;border:2px solid #505662}.progress-bar-wrapper[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;overflow:hidden}.goal-portion[_ngcontent-%COMP%]{height:100%;background-color:#27bb65;transition:width .3s ease-in-out;display:flex;align-items:center;justify-content:center}.excess-portion[_ngcontent-%COMP%]{height:100%;background-color:#ef4444;transition:width .3s ease-in-out;display:flex;align-items:center;justify-content:center}.percentage-text[_ngcontent-%COMP%]{font-size:12px;font-weight:500;color:#fff;padding:0 8px}.legend[_ngcontent-%COMP%]{display:flex;gap:16px;padding-top:4px;font-size:12px}.legend-item[_ngcontent-%COMP%]{display:flex;align-items:center}.legend-color[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:9999px;margin-right:4px}.goal-color[_ngcontent-%COMP%]{background-color:#1f2937}.danger-color[_ngcontent-%COMP%]{background-color:#ef4444}.achievement-text[_ngcontent-%COMP%]{font-size:12px;text-align:center;margin-top:8px}.dark[_nghost-%COMP%]   .progress-bar-container[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]{background-color:#374151}.dark[_nghost-%COMP%]   .goal-portion[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .goal-portion[_ngcontent-%COMP%]{background-color:#e5e7eb}.dark[_nghost-%COMP%]   .goal-portion[_ngcontent-%COMP%]   .percentage-text[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .goal-portion[_ngcontent-%COMP%]   .percentage-text[_ngcontent-%COMP%]{color:#1f2937}.dark[_nghost-%COMP%]   .excess-portion[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .excess-portion[_ngcontent-%COMP%]{background-color:#dc2626}.dark[_nghost-%COMP%]   .goal-color[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .goal-color[_ngcontent-%COMP%]{background-color:#e5e7eb}.dark[_nghost-%COMP%]   .excess-color[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .excess-color[_ngcontent-%COMP%]{background-color:#dc2626}.dark[_nghost-%COMP%]   .excess-text[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .excess-text[_ngcontent-%COMP%]{color:#f87171}.dark[_nghost-%COMP%]   .warning-icon[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .warning-icon[_ngcontent-%COMP%]{color:#f87171}.dark[_nghost-%COMP%]   .check-icon[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .check-icon[_ngcontent-%COMP%]{color:#34d399}"]})}}return i})();function re(i,h){if(i&1&&s(0,"app-exercise-log",17),i&2){let o=h.$implicit;_("exerciseLog",o)}}function ae(i,h){if(i&1&&s(0,"app-exercise-log",17),i&2){let o=h.$implicit;_("exerciseLog",o)}}var ke=(()=>{class i{constructor(){this.document=k(z),this.exerciseLogApiService=k(q),this.foodLogsApiService=k(N),this.router=k(G),this.Paths=Y,this.daysPerWeekTarget=c(()=>4),this.showMoreRecentlyUpdated=b(!1),this.recentlyUpdatedAmountToShow=c(()=>this.showMoreRecentlyUpdated()?this.recentlyUpdatedLogsResource.value()?.length??10:2),this.showMoreLatestWorkout=b(!1),this.latestWorkoutAmountToShow=c(()=>this.showMoreLatestWorkout()?this.latestWorkoutLogsResource.value()?.length??10:2),this.isLoading=c(()=>this.recentlyUpdatedLogsResource.isLoading()&&this.latestWorkoutLogsResource.isLoading()&&this.exerciseLogStats.isLoading()),this.exerciseLogStats=S({loader:()=>this.exerciseLogApiService.getDaysTrained()}),this.recentlyUpdatedLogsResource=S({loader:()=>this.exerciseLogApiService.getRecentlyUpdated()}),this.latestWorkoutLogsResource=S({loader:()=>this.exerciseLogApiService.getExerciseLogsLatestWorkout()}),this.macros=S({loader:()=>this.foodLogsApiService.getMacros(Intl.DateTimeFormat().resolvedOptions().timeZone)}),this.recentlyUpdatedLogs=c(()=>this.recentlyUpdatedLogsResource.isLoading()?[null,null]:this.recentlyUpdatedLogsResource.value()),this.latestWorkoutLogs=c(()=>this.latestWorkoutLogsResource.isLoading()?[null,null]:this.latestWorkoutLogsResource.value())}ngOnInit(){this.document.defaultView?.scroll({top:0,left:0,behavior:"smooth"})}navigateTo(o){this.router.navigate(o)}toggleShowMoreRecentlyUpdated(){this.showMoreRecentlyUpdated.update(o=>!o)}toggleShowMoreLatestWorkout(){this.showMoreLatestWorkout.update(o=>!o)}static{this.\u0275fac=function(u){return new(u||i)}}static{this.\u0275cmp=E({type:i,selectors:[["app-home-page"]],decls:81,vars:22,consts:[[1,"header-footer-padding"],[1,"container"],[1,"pb-3",2,"display","grid","grid-template-columns","1fr 1fr 1fr"],[1,"d-flex","justify-content-center","align-items-center","flex-column"],[3,"value","maxValue"],[2,"text-align","center","font-size","12px","padding","0.5rem"],[1,"pt-4"],[3,"current","goal","label"],[1,"services"],[1,"service",3,"click"],[1,"service-icon"],[1,"iconoir-book"],[1,"iconoir-plus-circle-solid"],[1,"btn","btn-link"],[1,"iconoir-pizza-slice"],[1,"iconoir-gym"],[1,"pt-4","pb-2"],[3,"exerciseLog"],[2,"font-size","14px","padding","0 0.4rem",3,"click"]],template:function(u,t){if(u&1){let l=U();e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),H(4),s(5,"app-ring",4),e(6,"div",5),r(7,"Days trained this week"),n()(),e(8,"div",3),s(9,"app-ring",4),e(10,"div",5),r(11,"Days trained this month"),n()(),e(12,"div",3),s(13,"app-ring",4),e(14,"div",5),r(15,"Days trained this year"),n()()(),e(16,"div",6),s(17,"app-progress-bar",7)(18,"app-progress-bar",7),n(),e(19,"div",6)(20,"div",8)(21,"div",9),m("click",function(){return g(l),p(t.navigateTo([t.Paths.FOOD_LOGS,t.Paths.CREATE]))}),e(22,"div",10),s(23,"i",11)(24,"i",12),n(),e(25,"span",13),r(26," Add Food Log"),n()(),e(27,"div",9),m("click",function(){return g(l),p(t.navigateTo([t.Paths.EXERCISE_LOGS,t.Paths.CREATE]))}),e(28,"div",10),s(29,"i",11)(30,"i",12),n(),e(31,"span",13),r(32,"Add Exercise Log"),n()(),e(33,"div",9),m("click",function(){return g(l),p(t.navigateTo([t.Paths.FOODS,t.Paths.CREATE]))}),e(34,"div",10),s(35,"i",14)(36,"i",12),n(),e(37,"span",13),r(38,"Add Food"),n()(),e(39,"div",9),m("click",function(){return g(l),p(t.navigateTo([t.Paths.EXERCISES,t.Paths.CREATE]))}),e(40,"div",10),s(41,"i",15)(42,"i",12),n(),e(43,"span",13),r(44,"Add Exercise"),n()(),e(45,"div",9),m("click",function(){return g(l),p(t.navigateTo([t.Paths.FOOD_LOGS]))}),e(46,"div",10),s(47,"i",11),n(),e(48,"span",13),r(49,"Food Logs"),n()(),e(50,"div",9),m("click",function(){return g(l),p(t.navigateTo([t.Paths.EXERCISE_LOGS]))}),e(51,"div",10),s(52,"i",11),n(),e(53,"span",13),r(54,"Exercise Logs"),n()(),e(55,"div",9),m("click",function(){return g(l),p(t.navigateTo([t.Paths.FOODS]))}),e(56,"div",10),s(57,"i",14),n(),e(58,"span",13),r(59,"Foods"),n()(),e(60,"div",9),m("click",function(){return g(l),p(t.navigateTo([t.Paths.EXERCISES]))}),e(61,"div",10),s(62,"i",15),n(),e(63,"span",13),r(64,"Exercises"),n()()()(),e(65,"div",16)(66,"h6"),r(67,"Recently updated"),n()(),V(68,re,1,1,"app-exercise-log",17,R),A(70,"slice"),e(71,"div",18),m("click",function(){return g(l),p(t.toggleShowMoreRecentlyUpdated())}),r(72),n(),e(73,"div",16)(74,"h6"),r(75,"Latest Workout"),n()(),V(76,ae,1,1,"app-exercise-log",17,R),A(78,"slice"),e(79,"div",18),m("click",function(){return g(l),p(t.toggleShowMoreLatestWorkout())}),r(80),n()()()}if(u&2){let l,d,y,x,M,f=t.exerciseLogStats.value();a(5),_("value",(l=f==null?null:f.daysTrainedThisWeek)!==null&&l!==void 0?l:0)("maxValue",t.daysPerWeekTarget()*1),a(4),_("value",(d=f==null?null:f.daysTrainedThisMonth)!==null&&d!==void 0?d:0)("maxValue",t.daysPerWeekTarget()*4),a(4),_("value",(y=f==null?null:f.daysTrainedThisYear)!==null&&y!==void 0?y:0)("maxValue",t.daysPerWeekTarget()*52),a(4),_("current",(x=(x=t.macros.value())==null?null:x.caloriesInDate)!==null&&x!==void 0?x:0)("goal",2300)("label","Calories"),a(),_("current",(M=(M=t.macros.value())==null?null:M.proteinInDate)!==null&&M!==void 0?M:0)("goal",130)("label","Protein"),a(50),W(D(70,14,t.recentlyUpdatedLogs(),0,t.recentlyUpdatedAmountToShow())),a(4),v(" ",t.showMoreRecentlyUpdated()?"Show less...":"Show more..."," "),a(4),W(D(78,18,t.latestWorkoutLogs(),0,t.latestWorkoutAmountToShow())),a(4),v(" ",t.showMoreLatestWorkout()?"Show less...":"Show more..."," ")}},dependencies:[X,$,Z,J,j],styles:[".services[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr 1fr;align-items:start;margin-top:.5rem;background-color:var(--light-bg);border-radius:5px;padding:.9rem 0;gap:1rem .5rem}.service[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.service[_ngcontent-%COMP%]   .iconoir-plus-circle-solid[_ngcontent-%COMP%]{width:0;height:0;position:relative;top:-26px;right:2px;font-size:18px;color:#a78cf3}.service[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0;font-size:10px;text-decoration:none;color:#fff;width:64px}.service-icon[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;border-radius:100%;color:#ffffffe6;border:2px solid rgba(255,255,255,.4);padding:1.1rem;width:36px;height:36px;margin-bottom:.15rem}.service-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:22px}"],changeDetection:0})}}return i})();export{ke as HomePageComponent};
