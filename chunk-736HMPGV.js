import{Ka as r,Kb as h,Mb as y,Nb as O,Pb as z,Ua as b,Zb as _,e as v,f as M,jb as d,kc as n,la as D,lc as w,pc as g,rb as k,rc as P,sb as N,ta as c,tb as m,ub as C,wd as S,xd as V}from"./chunk-FWPYMOW3.js";var Q=(()=>{var o;let i=class i{constructor(){v(this,o);this.value=g(0),this.maxValue=g(1),this.size=P("m"),this.count=c(0),this.percent=n(()=>Math.min(100,this.value()*100/this.maxValue())),this.percentClass=n(()=>{let t=this.percent();return t>=70?"success":t>=50?"average":"danger"}),this.dimensions=n(()=>{switch(this.size()){case"l":return 100;case"m":return 100;case"s":return 50}}),this.strokeWidth=n(()=>{switch(this.size()){case"l":return 7;case"m":return 7;case"s":return 3}}),this.fontSize=n(()=>{switch(this.size()){case"l":return 7;case"m":return 24;case"s":return 12}}),this.radius=n(()=>this.dimensions()/2-this.strokeWidth()*2),this.circumference=n(()=>this.radius()*2*Math.PI),this.strokeDashOffset=c(this.circumference()),this.transition=c("none"),this.strokeDashArray=n(()=>{let t=this.circumference();return`${t} ${t}`}),M(this,o,w(()=>{let t=this.percent(),s=this.circumference(),e=s-t/100*s,a=800;setTimeout(()=>{this.transition.set(`stroke-dashoffset ${a}ms`),this.strokeDashOffset.set(e),this.animateCountUp(this.value(),a)},1e3)}))}animateCountUp(t,s=2e3){let e=this.count(),a=performance.now(),l=T=>{let A=T-a,W=p=>p*(2-p),f=Math.min(A/s,1),F=W(f),I=Math.round(e+(t-e)*F);this.count.set(I),f<1?requestAnimationFrame(l):this.count.set(t)};requestAnimationFrame(l)}ngOnInit(){this.transition.set("none"),this.strokeDashOffset.set(this.circumference())}};o=new WeakMap,i.\u0275fac=function(s){return new(s||i)},i.\u0275cmp=b({type:i,selectors:[["app-ring"]],inputs:{value:[1,"value"],maxValue:[1,"maxValue"],size:[1,"size"]},outputs:{size:"sizeChange"},decls:5,vars:22,consts:[["tooltipClass","ring-tooltip","ontouchstart","","tabindex","-1",1,"progress-ring",3,"ngbTooltip"],["x","50%","y","52%","fill","white",1,"progress-ring__text"],["fill","transparent","stroke","",1,"progress-ring__circle","default"],["fill","transparent",1,"progress-ring__circle"]],template:function(s,e){s&1&&(D(),N(0,"svg",0)(1,"text",1),O(2),m(),C(3,"circle",2)(4,"circle",3),m()),s&2&&(k("ngbTooltip",_("",e.value()," / ",e.maxValue())),d("height",e.dimensions())("width",e.dimensions()),r(),h("font-size",e.fontSize()),r(),z(" ",e.count()," "),r(),d("stroke-width",e.strokeWidth())("r",e.radius())("cx",e.dimensions()/2)("cy",e.dimensions()/2),r(),y(e.percentClass()),h("transition",e.transition()),d("stroke-width",e.strokeWidth())("stroke-dasharray",e.strokeDashArray())("stroke-dashoffset",e.strokeDashOffset())("r",e.radius())("cx",e.dimensions()/2)("cy",e.dimensions()/2))},dependencies:[V,S],styles:["svg[_ngcontent-%COMP%]:focus{outline:none}.progress-ring__text[_ngcontent-%COMP%]{font-size:24px;font-weight:700;transform-origin:50% 50%;text-anchor:middle;dominant-baseline:middle}.progress-ring__circle[_ngcontent-%COMP%]{transform:rotate(-90deg);transform-origin:50% 50%;stroke:var(--light-bg)}.success[_ngcontent-%COMP%]{stroke:#27bb65}.average[_ngcontent-%COMP%]{stroke:#fdcd00}.danger[_ngcontent-%COMP%]{stroke:#c33e37}"],changeDetection:0});let u=i;return u})();export{Q as a};
