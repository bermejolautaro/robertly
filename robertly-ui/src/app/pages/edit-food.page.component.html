<div class="header-footer-padding">
  <div class="container">
    <div class="pb-3">
      <h4 class="title">{{ mode() === 'edit' ? 'Edit' : 'Create' }} Food</h4>
    </div>

    <div>
      <!-- #region INPUT NAME -->
      <div class="mb-3">
        <input
          type="text"
          class="form-control"
          placeholder="Name"
          [(ngModel)]="foodFormSignal.name"
          [disabled]="!foodFormEnabled()"
        />
      </div>

      <!-- #region INPUT CALORIES -->
      <div class="mb-3">
        <input
          type="text"
          class="form-control"
          placeholder="Calories"
          [(ngModel)]="foodFormSignal.calories"
          [disabled]="!foodFormEnabled()"
          onlyNumbers
        />
      </div>
      <!-- #endregion -->

      <!-- #region INPUT PROTEIN -->
      <div class="mb-3">
        <input
          type="text"
          class="form-control"
          placeholder="Protein"
          [(ngModel)]="foodFormSignal.protein"
          [disabled]="!foodFormEnabled()"
          onlyNumbers
        />
      </div>
      <!-- #endregion -->

      <!-- #region INPUT FAT -->
      <div class="mb-3">
        <input
          type="text"
          class="form-control"
          placeholder="Fat"
          [(ngModel)]="foodFormSignal.fat"
          [disabled]="!foodFormEnabled()"
          onlyNumbers
        />
      </div>
      <!-- #endregion -->

      <!-- #region TYPEAHEAD UNIT -->
      <div class="mb-3">
        <app-typeahead
          placeholder="Unit"
          [(value)]="foodFormSignal.unit"
          [items]="['g', 'ml', 'u']"
          [disabled]="!foodFormEnabled()"
        ></app-typeahead>
      </div>
      <!-- #endregion -->

      <!-- #region INPUT AMOUNT -->
      <div class="mb-3">
        <input
          type="text"
          class="form-control"
          placeholder="Amount Per Unit"
          [(ngModel)]="foodFormSignal.amount"
          [disabled]="!foodFormEnabled()"
          onlyNumbers
        />
      </div>
      <!-- #endregion -->
    </div>

    <div class="row g-2 mb-3">
      <div class="col">
        <button
          type="button"
          class="btn btn-secondary w-100"
          (click)="cancel()"
        >
          Cancel
        </button>
      </div>

      <div class="col">
        <button
          type="button"
          class="btn w-100 d-flex justify-content-center align-items-center"
          [class.btn-primary]="foodFormValid()"
          [class.btn-secondary]="!foodFormValid()"
          [disabled]="!foodFormValid() || isSaveLoading()"
          (click)="save()"
        >
          @if (!isSaveLoading()) {
            <i
              class="fa fa-save px-2"
              aria-hidden="true"
            ></i>
          } @else {
            <span
              class="spinner-border spinner-border-sm mx-2"
              aria-hidden="true"
            ></span>
            <span
              class="visually-hidden"
              role="status"
              >Loading...</span
            >
          }

          Save
        </button>
      </div>
    </div>

    @if (mode() === 'edit') {
      <button
        type="button"
        class="btn btn-danger w-100 delete-button"
        (click)="openDeleteModal()"
      >
        <i
          class="fa fa-trash px-2"
          aria-hidden="true"
        ></i>
        <span>Delete</span>
      </button>
    }
  </div>
</div>
