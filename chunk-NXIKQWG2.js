import{Aa as c,Bb as d,Wa as h,Xc as p,_ as a,_b as f,ea as o,pc as m,ta as u}from"./chunk-HR6XHDMR.js";var b=(()=>{let i=class i{constructor(){this.allowDecimals=m(!0),this.element=o(c),this._onChange=()=>{},this._onTouched=()=>{},this.value=u("")}onInput(t){let e=t.target.value;if(e=e.replace(",",".").replace(/[^0-9.]/g,""),this.allowDecimals()){e=e.replace(/[^0-9.]/g,"");let n=e.split(".");n.length>2&&(e=n[0]+"."+n.slice(1).join(""))}else e=e.replace(/\D/g,"");e.startsWith(".")?e="":e.startsWith("0")&&e[1]&&(e[1]==="0"?e=e.replace(/^0+/,"0"):e[1]!=="."&&(e=e.replace(/^0+/,""))),this.element.nativeElement.value=e,this.value.set(e),this._onChange(e)}onBlur(){this._onTouched()}onKeyPress(t){["Backspace","ArrowLeft","ArrowRight","Tab","Delete"].includes(t.key)||/[\d.,]/.test(t.key)||t.preventDefault()}writeValue(t){this.value.set(t),this.element.nativeElement.value=this.value()}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.element.nativeElement.disabled=t}};i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=h({type:i,selectors:[["","onlyNumbers",""]],hostBindings:function(e,n){e&1&&d("input",function(r){return n.onInput(r)})("blur",function(){return n.onBlur()})("keypress",function(r){return n.onKeyPress(r)})},inputs:{allowDecimals:[1,"allowDecimals"]},features:[f([{provide:p,useExisting:a(()=>i),multi:!0}])]});let s=i;return s})();export{b as a};
