import{B as ge,D as I,E as P,F,G as A,H as N,I as M,J as B,K as xe,L as _e,M as ue,N as he,O as fe,P as Ce,aa as we,k as se,l as ee,m as te,n as D,o as le,p as pe,r as de,w as me}from"./chunk-7ZCKUANY.js";import{$a as g,A as z,Bb as j,Eb as E,Fb as b,Ib as X,Jb as J,La as c,Lb as Z,M as K,Pa as Y,Wa as m,Xa as q,_b as ae,ab as u,bb as R,cb as oe,cc as L,db as v,dc as ce,eb as y,fb as r,fc as T,ga as w,gb as a,hb as h,ia as f,j as H,kb as V,la as ne,na as U,nb as S,oa as O,ob as p,r as Q,sb as l,ub as x,vb as re,zb as C}from"./chunk-7RHUOPPF.js";function Te(e,t){e&1&&h(0,"i",8)}function Se(e,t){if(e&1&&(r(0,"div",6),l(1),E(2,"titlecase"),g(3,Te,1,0,"i",7),a()),e&2){let i=p(2);q("font-size",1,"rem"),c(1),x(" ",b(2,4,i.exerciseRow.excerciseName)," "),c(2),u(3,i.showStar?3:-1)}}function Le(e,t){if(e&1&&(r(0,"div",4),g(1,Se,4,6,"div",5),a()),e&2){let i=p();m("ngClass",i.showDate&&i.showUsername?"fw-semibold":null),c(1),u(1,i.showExercise?1:-1)}}function Re(e,t){if(e&1&&(r(0,"div",9),l(1),E(2,"titlecase"),a()),e&2){let i=p();q("font-size",.8,"rem"),c(1),re(" ",i.exerciseRow.date," - ",b(2,4,i.exerciseRow.username)," ")}}var k=(()=>{let t=class t{constructor(){this.showStar=!1,this.showExercise=!0,this.showDate=!0,this.showUsername=!0}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=f({type:t,selectors:[["app-excercise-row-title"]],inputs:{showStar:"showStar",showExercise:"showExercise",showDate:"showDate",showUsername:"showUsername",exerciseRow:"exerciseRow"},standalone:!0,features:[C],decls:4,vars:2,consts:[[1,"w-100"],["class","row w-100 pb-1",3,"ngClass"],[1,"row"],["class","col d-flex text-muted",3,"fontSize"],[1,"row","w-100","pb-1",3,"ngClass"],["class","col d-flex align-items-center gap-1",3,"fontSize"],[1,"col","d-flex","align-items-center","gap-1"],["class","fa fa-star"],[1,"fa","fa-star"],[1,"col","d-flex","text-muted"]],template:function(o,n){o&1&&(r(0,"div",0),g(1,Le,2,2,"div",1),r(2,"div",2),g(3,Re,3,6,"div",3),a()()),o&2&&(c(1),u(1,n.exerciseRow?1:-1),c(2),u(3,n.showDate?3:-1))},dependencies:[L,T],styles:["[_nghost-%COMP%]{display:flex;flex:1}"],changeDetection:0});let e=t;return e})();var De=(e,t)=>t.serie;function Ie(e,t){if(e&1&&(r(0,"tr",3)(1,"td",4),l(2),a(),r(3,"td",5),l(4),a(),r(5,"td",5),l(6),a()()),e&2){let i=t.$implicit;c(2),x("Serie ",i.serie,""),c(2),x("",i.reps," reps"),c(2),x("",i.weightKg,"kg")}}function Pe(e,t){if(e&1&&(r(0,"tr",3)(1,"td",4),l(2,"Total"),a(),r(3,"td",5),l(4),a(),r(5,"td",5),l(6),a()()),e&2){let i=p(2);c(4),x("",i.exerciseRow.total," reps"),c(2),x("",i.exerciseRow.series[0].weightKg,"kg")}}function Fe(e,t){if(e&1&&(r(0,"tr",3)(1,"td",4),l(2,"Average"),a(),r(3,"td",5),l(4),a(),r(5,"td",5),l(6),a()()),e&2){let i=p(2);c(4),x("",i.exerciseRow.average," reps"),c(2),x("",i.exerciseRow.series[0].weightKg,"kg")}}function Ae(e,t){if(e&1){let i=V();r(0,"table",1),S("click",function(){U(i);let o=p();return O(o.exerciseLogService.logClicked$.next(o.exerciseRow))}),r(1,"tbody"),v(2,Ie,7,3,"tr",2,De),g(4,Pe,7,2,"tr",2)(5,Fe,7,2,"tr",2),r(6,"tr",3)(7,"td",4),l(8,"Tonnage"),a(),r(9,"td",5),l(10,"\xA0"),a(),r(11,"td",5),l(12),a()()()()}if(e&2){let i=p();c(2),y(i.exerciseRow.series),c(2),u(4,i.exerciseRow.total?4:-1),c(1),u(5,i.exerciseRow.average?5:-1),c(7),x("",i.exerciseRow.tonnage,"kg")}}var G=(()=>{let t=class t{constructor(){this.exerciseLogService=w(D)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=f({type:t,selectors:[["app-excercise-row-body"]],inputs:{exerciseRow:"exerciseRow"},standalone:!0,features:[C],decls:1,vars:1,consts:[["class","table table-striped table-sm m-0"],[1,"table","table-striped","table-sm","m-0",3,"click"],["class","row"],[1,"row"],[1,"fw-bold","col"],[1,"col","text-center"]],template:function(o,n){o&1&&g(0,Ae,13,3,"table",0),o&2&&u(0,n.exerciseRow?0:-1)},changeDetection:0});let e=t;return e})();function Ne(e,t){if(e&1&&h(0,"app-excercise-row-body",6),e&2){let i=p().$implicit;m("exerciseRow",i)}}function Me(e,t){if(e&1&&(r(0,"div",3)(1,"h2",4)(2,"button",5),h(3,"app-excercise-row-title",6),a()(),r(4,"div",7)(5,"div",8),g(6,Ne,1,1,"ng-template"),a()()()),e&2){let i=t.$implicit;m("ngClass",i.highlighted?"accordion-highlight "+i.highlighted:null),c(3),m("exerciseRow",i)}}var ve=(()=>{let t=class t{constructor(){this.exerciseRows=[]}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=f({type:t,selectors:[["app-excercise-rows"]],inputs:{exerciseRows:"exerciseRows"},standalone:!0,features:[C],decls:5,vars:0,consts:[[1,"row","my-2"],[1,"col"],["ngbAccordion",""],["ngbAccordionItem","",3,"ngClass"],["ngbAccordionHeader",""],["ngbAccordionButton",""],[3,"exerciseRow"],["ngbAccordionCollapse",""],["ngbAccordionBody",""]],template:function(o,n){o&1&&(r(0,"div",0)(1,"div",1)(2,"div",2),v(3,Me,7,2,"div",3,R),a()()()),o&2&&(c(3),y(n.exerciseRows))},dependencies:[L,B,F,M,N,A,I,P,k,G],changeDetection:0});let e=t;return e})();var ye=(()=>{let t=class t{constructor(){this.dayjsService=w(se),this.titleCasePipe=w(T)}transform(s,o="Invalid Date"){let n=this.dayjsService.parseDate(s??"");return n.isValid()?this.titleCasePipe.transform(n.format("dddd[ - ]DD/MM/YYYY")):o}};t.\u0275fac=function(o){return new(o||t)},t.\u0275pipe=ne({name:"parseToDate",type:t,pure:!0,standalone:!0});let e=t;return e})();function Be(e,t){if(e&1&&(r(0,"td",16)(1,"div"),l(2),a(),r(3,"div"),l(4),a()()),e&2){let i=t.$implicit;c(2),x("",i.reps," reps"),c(2),x("",i.weightKg,"kg")}}function $e(e,t){if(e&1&&(r(0,"tr",14)(1,"td",15),l(2),E(3,"titlecase"),a(),v(4,Be,5,2,"td",17,R),a()),e&2){let i=t.$implicit;m("ngClass",i[1].highlighted?"accordion-highlight "+i[1].highlighted:null),c(2),x(" ",b(3,2,i[1].excerciseName)," "),c(2),y(i[1].series)}}function ke(e,t){if(e&1&&v(0,$e,6,4,"tr",14,R),e&2){let i=t.$implicit;y(i[1])}}function Ge(e,t){if(e&1&&(r(0,"div",12)(1,"table",13)(2,"tbody"),v(3,ke,2,0,null,null,R),a()()()),e&2){let i=p(2).$implicit;c(3),y(i[1])}}function Ue(e,t){if(e&1&&h(0,"app-excercise-row-body",22),e&2){let i=p().$implicit;m("exerciseRow",i[1])}}function Oe(e,t){if(e&1&&(r(0,"div",20)(1,"h2",5)(2,"button",6),h(3,"app-excercise-row-title",21),a()(),r(4,"div",9)(5,"div",18),g(6,Ue,1,1,"ng-template"),a()()()),e&2){let i=t.$implicit;m("ngClass",i[1].highlighted?"accordion-highlight "+i[1].highlighted:null),c(3),m("showUsername",!1)("showDate",!1)("exerciseRow",i[1])}}function Ve(e,t){if(e&1&&(r(0,"div",2),g(1,Oe,7,4,"div",19),a()),e&2){let i=p().$implicit;c(1),m("ngForOf",i[1])}}function je(e,t){if(e&1&&(r(0,"div",4)(1,"h2",5)(2,"button",6)(3,"div",7)(4,"div",8),l(5),E(6,"titlecase"),a()()()(),r(7,"div",9)(8,"div",18),g(9,Ve,2,1,"ng-template"),a()()()),e&2){let i=t.$implicit;c(5),x(" ",b(6,1,i[0])," ")}}function We(e,t){if(e&1&&(r(0,"div",2),g(1,je,10,3,"div",3),a()),e&2){let i=p(2).$implicit;c(1),m("ngForOf",i[1])}}function He(e,t){if(e&1&&g(0,Ge,5,0,"div",11)(1,We,2,1),e&2){let i=p(2);u(0,i.exerciseLogService.selectedUsername()?0:1)}}var Qe=e=>({"p-0":e});function ze(e,t){if(e&1&&(r(0,"div",4)(1,"h2",5)(2,"button",6)(3,"div",7)(4,"div",8),l(5),E(6,"parseToDate"),a()()()(),r(7,"div",9)(8,"div",10),g(9,He,2,1,"ng-template"),a()()()),e&2){let i=t.$implicit,s=p();c(5),x(" ",b(6,2,i[0])," "),c(3),m("ngClass",j(4,Qe,s.exerciseLogService.selectedUsername()))}}var Ee=(()=>{let t=class t{constructor(){this.exerciseLogService=w(D)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=f({type:t,selectors:[["app-grouped-exercise-rows"]],standalone:!0,features:[C],decls:4,vars:1,consts:[[1,"row","my-2"],[1,"col"],["ngbAccordion",""],["ngbAccordionItem","",4,"ngFor","ngForOf"],["ngbAccordionItem",""],["ngbAccordionHeader",""],["ngbAccordionButton",""],[1,"row","w-100"],[1,"col","d-flex","align-items-center","justify-content-center","text-center"],["ngbAccordionCollapse",""],["ngbAccordionBody","",3,"ngClass"],["class","table-responsive"],[1,"table-responsive"],[1,"table","table-bordered","m-0","table-slim"],[3,"ngClass"],[1,"table-slim-cell","fw-bold",2,"width","20%","vertical-align","middle"],[1,"table-slim-cell",2,"text-wrap","nowrap","vertical-align","middle","text-align","center"],["class","table-slim-cell","style","text-wrap: nowrap; vertical-align: middle; text-align: center"],["ngbAccordionBody",""],["ngbAccordionItem","",3,"ngClass",4,"ngFor","ngForOf"],["ngbAccordionItem","",3,"ngClass"],[3,"showUsername","showDate","exerciseRow"],[3,"exerciseRow"]],template:function(o,n){o&1&&(r(0,"div",0)(1,"div",1)(2,"div",2),g(3,ze,10,6,"div",3),a()()()),o&2&&(c(3),m("ngForOf",n.exerciseLogService.groupedLogs()))},dependencies:[ce,B,F,M,N,A,I,P,T,ye,L,G,k],styles:["table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{font-size:12px;padding:.3rem}"],changeDetection:0});let e=t;return e})();function Ke(e,t){if(e&1&&h(0,"app-excercise-row-body",7),e&2){let i=p();m("exerciseRow",i.personalRecord)}}var be=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=f({type:t,selectors:[["app-personal-record"]],inputs:{personalRecord:"personalRecord"},standalone:!0,features:[C],decls:8,vars:2,consts:[["ngbAccordion",""],["ngbAccordionItem","",1,"accordion-highlight","light-blue"],["ngbAccordionHeader",""],["ngbAccordionButton",""],[3,"exerciseRow","showStar"],["ngbAccordionCollapse",""],["ngbAccordionBody",""],[3,"exerciseRow"]],template:function(o,n){o&1&&(r(0,"div",0)(1,"div",1)(2,"h2",2)(3,"button",3),h(4,"app-excercise-row-title",4),a()(),r(5,"div",5)(6,"div",6),g(7,Ke,1,1,"ng-template"),a()()()()),o&2&&(c(4),m("exerciseRow",n.personalRecord)("showStar",!0))},dependencies:[k,G,B,F,M,N,A,I,P],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0});let e=t;return e})();var Ye=["exerciseTypeaheadInput"],qe=["weightTypeaheadInput"];function Xe(e,t){if(e&1){let i=V();r(0,"button",15),S("click",function(){U(i);let o=p();return O(o.exerciseLogService.selectedType$.next(null))}),l(1,"Clear filter"),a()}}var Je=e=>({active:e});function Ze(e,t){if(e&1){let i=V();r(0,"button",16),S("click",function(){let n=U(i).$implicit,d=p();return O(d.exerciseLogService.selectedType$.next(n))}),l(1),E(2,"titlecase"),a()}if(e&2){let i=t.$implicit,s=p();m("ngClass",j(4,Je,i===s.exerciseLogService.selectedType())),c(1),x(" ",b(2,2,i)," ")}}function et(e,t){e&1&&h(0,"app-personal-record",19),e&2&&m("personalRecord",t)}function tt(e,t){e&1&&h(0,"app-grouped-exercise-rows")}function it(e,t){if(e&1&&h(0,"app-excercise-rows",20),e&2){let i=p(2);m("exerciseRows",i.exerciseLogService.exerciseRows())}}function nt(e,t){if(e&1&&(r(0,"div",17),g(1,et,1,1,"app-personal-record",18)(2,tt,1,0,"app-grouped-exercise-rows")(3,it,1,1),a()),e&2){let i=p(),s;c(1),u(1,(s=i.exerciseLogService.personalRecord())?1:-1,s),c(1),u(2,i.isGrouped?2:3)}}function ot(e,t){e&1&&(r(0,"div",21)(1,"div",22)(2,"span",23),l(3,"Loading..."),a()()())}var W="Clear Filter",ii=(()=>{let t=class t{constructor(){this.titleCasePipe=w(T),this.document=w(ae),this.exerciseLogService=w(D),this.EXERCISE_PLACEHOLDER=ee,this.WEIGHT_PLACEHOLDER=te,this.isGrouped=!1,this.exerciseTypeahead="",this.exerciseTypeaheadInput=null,this.exerciseFocus$=new H,this.exerciseSearch=s=>{let o=s.pipe(K());return z(o,this.exerciseFocus$).pipe(Q(()=>{let n=this.exerciseLogService.selectedType(),d=this.exerciseLogService.exercises().filter(_=>n?_.type.toLowerCase()===n.toLowerCase():!0).map(_=>_.exercise);return this.exerciseLogService.selectedExercise()&&d.unshift(W),this.exerciseTypeahead===""||this.exerciseTypeahead===ee?d:d.filter(_=>!!_).filter(_=>_.toLowerCase().includes(this.exerciseTypeahead.toLowerCase()))}))},this.weightTypeahead="",this.weightTypeaheadInput=null,this.weightFocus$=new H,this.weightSearch=s=>{let o=s.pipe(K());return z(o,this.weightFocus$).pipe(Q(()=>{let n=this.exerciseLogService.weights().map(d=>`${d}`);return this.exerciseLogService.selectedWeight()&&n.unshift(W),this.weightTypeahead===""||this.weightTypeahead===te?n:n.filter(d=>!!d).filter(d=>d.includes(this.weightTypeahead))}))},this.exerciseFormatter=s=>this.titleCasePipe.transform(s),this.weightFormatter=s=>isNaN(parseInt(s))?s:`${s}kg`,Y(()=>this.exerciseTypeahead=this.exerciseLogService.selectedExerciseLabel()),Y(()=>this.weightTypeahead=this.exerciseLogService.selectedWeightLabel())}ngOnInit(){this.document.defaultView?.scroll({top:0,left:0,behavior:"smooth"})}onExerciseTypeaheadChange(s){let o=this.exerciseLogService.exercises().filter(n=>n.exercise===s.item).at(0)??null;s.item===W&&(o=null),this.exerciseLogService.selectedExercise$.next(o?{name:o.exercise,type:o.type}:null),this.exerciseTypeahead=this.exerciseLogService.selectedExerciseLabel(),this.exerciseTypeaheadInput?.nativeElement.blur(),this.exerciseLogService.selectedWeight$.next(null),this.weightTypeahead=this.exerciseLogService.selectedWeightLabel()}onWeightTypeaheadChange(s){let o=this.exerciseLogService.weights().filter(n=>`${n}`===s.item).at(0)??null;s.item===W&&(o=null),this.exerciseLogService.selectedWeight$.next(o),this.weightTypeaheadInput?.nativeElement.blur()}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=f({type:t,selectors:[["app-excercise-logs-page"]],viewQuery:function(o,n){if(o&1&&(J(Ye,7),J(qe,7)),o&2){let d;X(d=Z())&&(n.exerciseTypeaheadInput=d.first),X(d=Z())&&(n.weightTypeaheadInput=d.first)}},standalone:!0,features:[C],decls:25,vars:16,consts:[[1,"container","my-4"],[1,"row","mb-2","gx-2"],[1,"col-12"],["ngbDropdown","",1,"d-flex","justify-content-center"],["type","button","ngbDropdownToggle","",1,"btn","btn-outline-primary","w-100","d-flex","justify-content-between","align-items-center"],["ngbDropdownMenu","",1,"w-100"],["ngbDropdownItem",""],["type","text",1,"form-control","mb-2",3,"ngModel","ngbTypeahead","popupClass","resultFormatter","inputFormatter","ngModelChange","selectItem","focus","blur"],["exerciseTypeaheadInput",""],["weightTypeaheadInput",""],[1,"row"],[1,"form-check","form-switch","d-flex","align-items-center","gap-1"],["type","checkbox","role","switch",1,"form-check-input",3,"ngModel","ngModelChange"],[1,"form-check-label"],["class","container"],["ngbDropdownItem","",3,"click"],["ngbDropdownItem","",3,"ngClass","click"],[1,"container"],["class","mb-3",3,"personalRecord"],[1,"mb-3",3,"personalRecord"],[3,"exerciseRows"],[1,"position-absolute","top-50","start-50","translate-middle"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],["ngbDropdownItem","",3,"ngClass"]],template:function(o,n){o&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),l(5),E(6,"titlecase"),a(),r(7,"div",5),g(8,Xe,2,0,"button",6),v(9,Ze,3,6,"button",24,oe),a()()()(),r(11,"div",2)(12,"input",7,8),S("ngModelChange",function(_){return n.exerciseTypeahead=_})("selectItem",function(_){return n.onExerciseTypeaheadChange(_)})("focus",function(){return n.exerciseTypeahead="",n.exerciseFocus$.next(n.exerciseTypeahead)})("blur",function(){return n.exerciseTypeahead=n.exerciseLogService.selectedExerciseLabel()}),a()(),r(14,"div",2)(15,"input",7,9),S("ngModelChange",function(_){return n.weightTypeahead=_})("selectItem",function(_){return n.onWeightTypeaheadChange(_)})("focus",function(){return n.weightTypeahead="",n.weightFocus$.next(n.weightTypeahead)})("blur",function(){return n.weightTypeahead=n.exerciseLogService.selectedWeightLabel()}),a()(),r(17,"div",10)(18,"div",2)(19,"div",11)(20,"input",12),S("ngModelChange",function(_){return n.isGrouped=_}),a(),r(21,"label",13),l(22,"Grouped"),a()()()()(),g(23,nt,4,2,"div",14)(24,ot,4,0)),o&2&&(c(5),x(" ",b(6,14,n.exerciseLogService.selectedTypeLabel())," "),c(3),u(8,n.exerciseLogService.selectedType()?8:-1),c(1),y(n.exerciseLogService.types()),c(3),m("ngModel",n.exerciseTypeahead)("ngbTypeahead",n.exerciseSearch)("popupClass","typeahead")("resultFormatter",n.exerciseFormatter)("inputFormatter",n.exerciseFormatter),c(3),m("ngModel",n.weightTypeahead)("ngbTypeahead",n.weightSearch)("popupClass","typeahead")("resultFormatter",n.weightFormatter)("inputFormatter",n.weightFormatter),c(5),m("ngModel",n.isGrouped),c(3),u(23,n.exerciseLogService.loaded()?23:24))},dependencies:[L,ge,pe,le,de,me,T,be,Ee,ve,Ce,fe,he,ue,xe,_e,we],changeDetection:0});let e=t;return e})();export{ii as ExcerciseLogsPageComponent};
