import{H as za,I as Ba,J as Ga,K as qa,L as Ka,M as Ya,N as Ja,O as Xa,P as Za,Q as Qa,a as qt,aa as ec,ba as tc,ca as nc,da as rc,ea as ic,fa as sc,j as Ma,k as Kt,m as La,n as ki,o as xa,p as Ua,q as Z,r as Fa,s as O,u as ja,v as $a,w as Va,x as Di,y as Ha,z as Wa}from"./chunk-RKATQ2FY.js";import{$ as ia,$b as Bn,A as ci,Aa as Ee,Ab as F,B as te,Ba as gi,C as ui,Ca as ua,D as xn,Da as ft,Db as Ea,E as ct,Ea as _e,Eb as N,F as Zo,Fb as he,G as li,Ga as ue,Gb as ze,Ha as la,I as ut,Ia as vi,Ib as _a,J as lt,Ja as da,Jb as ba,K as z,Ka as ne,Kb as Ta,La as ha,Lb as gt,Ma as yi,Mb as Sa,N as dt,Na as Vt,Nb as zt,O as We,Oa as pa,Ob as Ca,P as Qo,Pa as Ii,Q as di,Qa as jn,Qb as Hn,R as X,Ra as wi,Rb as Wn,S as ea,Sa as $n,T as ta,Ta as fa,U as hi,Ub as Bt,Vb as bi,W as ht,Wa as Ei,Wb as Aa,X as Pe,Xa as y,Xb as Gt,Y as pi,Ya as le,Yb as Ra,Z as na,Za as Vn,Zb as Ti,_ as ra,_b as zn,a as m,ab as mt,ac as Si,b as M,ba as sa,bb as U,bc as Ci,ca as j,cc as Oa,da as oa,dc as vt,e as $e,ea as P,eb as ma,ec as Pa,f as l,fb as ga,fc as Gn,g as Go,gb as $,h as qo,ha as x,hb as va,hc as Ai,i as jt,ia as _,ic as ka,j as ri,ja as ke,jc as Da,k as ii,ka as aa,kb as ya,kc as H,l as J,la as fi,lb as be,lc as Ri,m as ee,ma as k,mb as re,mc as qn,n as Ko,na as T,nb as Ia,nc as Kn,o as Yo,oa as f,ob as _i,oc as Yn,p as Ve,pa as $t,pb as Ht,q as Ln,qa as pt,qb as Wt,qc as Jn,r as si,ra as De,rb as b,s as oi,sa as Un,sb as w,sc as Na,t as K,tb as ie,tc as Oi,u as g,ua as Fn,uc as Pi,v as He,va as G,vc as Xn,w as Jo,wa as q,wb as Te,x as Xo,xa as mi,y as ai,ya as ca,yb as wa,z as v,za as we,zb as L}from"./chunk-E4QOSI7Y.js";var Jt="Service workers are disabled or not supported by this browser";function $l(t){return ct(()=>He(new Error(t)))}var yt=class{constructor(e){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=$l(Jt);else{let r=li(e,"controllerchange").pipe(v(()=>e.controller)),i=ct(()=>g(e.controller)),s=xn(i,r);this.worker=s.pipe(z(d=>!!d)),this.registration=this.worker.pipe(j(()=>e.getRegistration()));let c=li(e,"message").pipe(v(d=>d.data)).pipe(z(d=>d&&d.type)).pipe(ra());c.connect(),this.events=c}}postMessage(e,n){return this.worker.pipe(X(1),P(r=>{r.postMessage(m({action:e},n))})).toPromise().then(()=>{})}postMessageWithOperation(e,n,r){let i=this.waitForOperationCompleted(r),s=this.postMessage(e,n);return Promise.all([s,i]).then(([,o])=>o)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(e){let n;return typeof e=="string"?n=r=>r.type===e:n=r=>e.includes(r.type),this.events.pipe(z(n))}nextEventOfType(e){return this.eventsOfType(e).pipe(X(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(z(n=>n.nonce===e),X(1),v(n=>{if(n.result!==void 0)return n.result;throw new Error(n.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},Vl=(()=>{let e=class e{get isEnabled(){return this.sw.isEnabled}constructor(r){if(this.sw=r,this.pushManager=null,this.subscriptionChanges=new J,!r.isEnabled){this.messages=lt,this.notificationClicks=lt,this.subscription=lt;return}this.messages=this.sw.eventsOfType("PUSH").pipe(v(s=>s.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(v(s=>s.data)),this.pushManager=this.sw.registration.pipe(v(s=>s.pushManager));let i=this.pushManager.pipe(j(s=>s.getSubscription()));this.subscription=ut(i,this.subscriptionChanges)}requestSubscription(r){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(Jt));let i={userVisibleOnly:!0},s=this.decodeBase64(r.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(s.length));for(let a=0;a<s.length;a++)o[a]=s.charCodeAt(a);return i.applicationServerKey=o,this.pushManager.pipe(j(a=>a.subscribe(i)),X(1)).toPromise().then(a=>(this.subscriptionChanges.next(a),a))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(Jt));let r=i=>{if(i===null)throw new Error("Not subscribed to push notifications.");return i.unsubscribe().then(s=>{if(!s)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(X(1),j(r)).toPromise()}decodeBase64(r){return atob(r)}};e.\u0275fac=function(i){return new(i||e)(T(yt))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),Ni=(()=>{let e=class e{get isEnabled(){return this.sw.isEnabled}constructor(r){if(this.sw=r,!r.isEnabled){this.versionUpdates=lt,this.unrecoverable=lt;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Jt));let r=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:r},r)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Jt));let r=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:r},r)}};e.\u0275fac=function(i){return new(i||e)(T(yt))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})();var oc=new k("NGSW_REGISTER_SCRIPT");function Hl(t,e,n,r){return()=>{if(!(Oi(r)&&"serviceWorker"in navigator&&n.enabled!==!1))return;navigator.serviceWorker.addEventListener("controllerchange",()=>{navigator.serviceWorker.controller!==null&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})});let i;if(typeof n.registrationStrategy=="function")i=n.registrationStrategy();else{let[o,...a]=(n.registrationStrategy||"registerWhenStable:30000").split(":");switch(o){case"registerImmediately":i=g(null);break;case"registerWithDelay":i=ac(+a[0]||0);break;case"registerWhenStable":i=a[0]?ut(cc(t),ac(+a[0])):cc(t);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${n.registrationStrategy}`)}}t.get(U).runOutsideAngular(()=>i.pipe(X(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:n.scope}).catch(o=>console.error("Service worker registration failed with:",o))))}}function ac(t){return g(null).pipe(ta(t))}function cc(t){return t.get(vt).isStable.pipe(z(n=>n))}function Wl(t,e){return new yt(Oi(e)&&t.enabled!==!1?navigator.serviceWorker:void 0)}var Yt=class{};function uc(t,e={}){return Ee([Vl,Ni,{provide:oc,useValue:t},{provide:Yt,useValue:e},{provide:yt,useFactory:Wl,deps:[Yt,ne]},{provide:Ti,useFactory:Hl,deps:[ue,oc,Yt,ne],multi:!0}])}var Zt=class{},Qn=class{},Be=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Li=class{encodeKey(e){return lc(e)}encodeValue(e){return lc(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function Kl(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=n.get(o)||[];u.push(a),n.set(o,u)}),n}var Yl=/%(\d[a-f0-9])/gi,Jl={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function lc(t){return encodeURIComponent(t).replace(Yl,(e,n)=>Jl[n]??e)}function Zn(t){return`${t}`}var Ne=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Li,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Kl(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(Zn):[Zn(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Zn(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Zn(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var xi=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function Xl(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function dc(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function hc(t){return typeof Blob<"u"&&t instanceof Blob}function pc(t){return typeof FormData<"u"&&t instanceof FormData}function Zl(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Xt=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(Xl(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers||(this.headers=new Be),this.context||(this.context=new xi),!this.params)this.params=new Ne,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),u=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+u+o}}}serializeBody(){return this.body===null?null:dc(this.body)||hc(this.body)||pc(this.body)||Zl(this.body)||typeof this.body=="string"?this.body:this.body instanceof Ne?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||pc(this.body)?null:hc(this.body)?this.body.type||null:dc(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Ne?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.body!==void 0?e.body:this.body,o=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,a=e.reportProgress!==void 0?e.reportProgress:this.reportProgress,u=e.headers||this.headers,c=e.params||this.params,d=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((h,p)=>h.set(p,e.setHeaders[p]),u)),e.setParams&&(c=Object.keys(e.setParams).reduce((h,p)=>h.set(p,e.setParams[p]),c)),new t(n,r,s,{params:c,headers:u,context:d,reportProgress:a,responseType:i,withCredentials:o})}},It=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(It||{}),Qt=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new Be,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Ui=class t extends Qt{constructor(e={}){super(e),this.type=It.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},er=class t extends Qt{constructor(e={}){super(e),this.type=It.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},tr=class extends Qt{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}};function Mi(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Ge=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,s={}){let o;if(r instanceof Xt)o=r;else{let c;s.headers instanceof Be?c=s.headers:c=new Be(s.headers);let d;s.params&&(s.params instanceof Ne?d=s.params:d=new Ne({fromObject:s.params})),o=new Xt(r,i,s.body!==void 0?s.body:null,{headers:c,context:s.context,params:d,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=g(o).pipe(We(c=>this.handler.handle(c)));if(r instanceof Xt||s.observe==="events")return a;let u=a.pipe(z(c=>c instanceof er));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return u.pipe(v(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return u.pipe(v(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return u.pipe(v(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return u.pipe(v(c=>c.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new Ne().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,Mi(s,i))}post(r,i,s={}){return this.request("POST",r,Mi(s,i))}put(r,i,s={}){return this.request("PUT",r,Mi(s,i))}};e.\u0275fac=function(i){return new(i||e)(T(Zt))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})();function Ql(t,e){return e(t)}function ed(t,e,n){return(r,i)=>_e(n,()=>e(r,s=>t(s,i)))}var Fi=new k(""),td=new k(""),nd=new k("");var fc=(()=>{let e=class e extends Zt{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=f(Bn);let s=f(nd,{optional:!0});this.backend=s??r}handle(r){if(this.chain===null){let s=Array.from(new Set([...this.injector.get(Fi),...this.injector.get(td,[])]));this.chain=s.reduceRight((o,a)=>ed(o,a,this.injector),Ql)}let i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(ht(()=>this.pendingTasks.remove(i)))}};e.\u0275fac=function(i){return new(i||e)(T(Qn),T(ft))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})();var rd=/^\)\]\}',?\n/;function id(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var mc=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new x(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?K(i.\u0275loadImpl()):g(null)).pipe(j(()=>new jt(o=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((A,C)=>a.setRequestHeader(A,C.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let A=r.detectContentTypeHeader();A!==null&&a.setRequestHeader("Content-Type",A)}if(r.responseType){let A=r.responseType.toLowerCase();a.responseType=A!=="json"?A:"text"}let u=r.serializeBody(),c=null,d=()=>{if(c!==null)return c;let A=a.statusText||"OK",C=new Be(a.getAllResponseHeaders()),ce=id(a)||r.url;return c=new Ui({headers:C,status:a.status,statusText:A,url:ce}),c},h=()=>{let{headers:A,status:C,statusText:ce,url:ot}=d(),V=null;C!==204&&(V=typeof a.response>"u"?a.responseText:a.response),C===0&&(C=V?200:0);let at=C>=200&&C<300;if(r.responseType==="json"&&typeof V=="string"){let Ft=V;V=V.replace(rd,"");try{V=V!==""?JSON.parse(V):null}catch(Mn){V=Ft,at&&(at=!1,V={error:Mn,text:V})}}at?(o.next(new er({body:V,headers:A,status:C,statusText:ce,url:ot||void 0})),o.complete()):o.error(new tr({error:V,headers:A,status:C,statusText:ce,url:ot||void 0}))},p=A=>{let{url:C}=d(),ce=new tr({error:A,status:a.status||0,statusText:a.statusText||"Unknown Error",url:C||void 0});o.error(ce)},S=!1,B=A=>{S||(o.next(d()),S=!0);let C={type:It.DownloadProgress,loaded:A.loaded};A.lengthComputable&&(C.total=A.total),r.responseType==="text"&&a.responseText&&(C.partialText=a.responseText),o.next(C)},ae=A=>{let C={type:It.UploadProgress,loaded:A.loaded};A.lengthComputable&&(C.total=A.total),o.next(C)};return a.addEventListener("load",h),a.addEventListener("error",p),a.addEventListener("timeout",p),a.addEventListener("abort",p),r.reportProgress&&(a.addEventListener("progress",B),u!==null&&a.upload&&a.upload.addEventListener("progress",ae)),a.send(u),o.next({type:It.Sent}),()=>{a.removeEventListener("error",p),a.removeEventListener("abort",p),a.removeEventListener("load",h),a.removeEventListener("timeout",p),r.reportProgress&&(a.removeEventListener("progress",B),u!==null&&a.upload&&a.upload.removeEventListener("progress",ae)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(T(Xn))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),gc=new k("XSRF_ENABLED"),sd="XSRF-TOKEN",od=new k("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>sd}),ad="X-XSRF-TOKEN",cd=new k("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>ad}),nr=class{},ud=(()=>{let e=class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=Kn(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(T(H),T(ne),T(od))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})();function ld(t,e){let n=t.url.toLowerCase();if(!f(gc)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=f(nr).getToken(),i=f(cd);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var vc=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(vc||{});function dd(t,e){return{\u0275kind:t,\u0275providers:e}}function yc(...t){let e=[Ge,mc,fc,{provide:Zt,useExisting:fc},{provide:Qn,useExisting:mc},{provide:Fi,useValue:ld,multi:!0},{provide:gc,useValue:!0},{provide:nr,useClass:ud}];for(let n of t)e.push(...n.\u0275providers);return Ee(e)}function Ic(t){return dd(vc.Interceptors,t.map(e=>({provide:Fi,useValue:e,multi:!0})))}var Vi=class extends Da{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Hi=class t extends Vi{static makeCurrent(){ka(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=pd();return n==null?null:fd(n)}resetBaseElement(){en=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Kn(document.cookie,e)}},en=null;function pd(){return en=en||document.querySelector("base"),en?en.getAttribute("href"):null}function fd(t){return new URL(t,"http://a").pathname}var md=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),Wi=new k("EventManagerPlugins"),_c=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new x(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(T(Wi),T(U))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),rr=class{constructor(e){this._doc=e}},ji="ng-app-id",bc=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Pi(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${ji}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(ji),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(ji,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(T(H),T(vi),T(yi,8),T(ne))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),$i={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Bi=/%COMP%/g,Tc="%COMP%",gd=`_nghost-${Tc}`,vd=`_ngcontent-${Tc}`,yd=!0,Id=new k("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>yd});function wd(t){return vd.replace(Bi,t)}function Ed(t){return gd.replace(Bi,t)}function Sc(t,e){return e.map(n=>n.replace(Bi,t))}var ir=(()=>{let e=class e{constructor(r,i,s,o,a,u,c,d=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=u,this.ngZone=c,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=Pi(u),this.defaultRenderer=new tn(r,a,c,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===$t.ShadowDom&&(i=M(m({},i),{encapsulation:$t.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof sr?s.applyToHost(r):s instanceof nn&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,u=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(i.encapsulation){case $t.Emulated:o=new sr(c,d,i,this.appId,h,a,u,p);break;case $t.ShadowDom:return new zi(c,d,r,i,a,u,this.nonce,p);default:o=new nn(c,d,i,h,a,u,p);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(T(_c),T(bc),T(vi),T(Id),T(H),T(ne),T(U),T(yi))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),tn=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS($i[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(wc(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(wc(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new x(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=$i[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=$i[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Vt.DashCase|Vt.Important)?e.style.setProperty(n,r,i&Vt.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Vt.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Ai().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function wc(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var zi=class extends tn{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=Sc(i.id,i.styles);for(let d of c){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=d,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},nn=class extends tn{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?Sc(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},sr=class extends nn{constructor(e,n,r,i,s,o,a,u){let c=i+"-"+r.id;super(e,n,r,s,o,a,u,c),this.contentAttr=wd(c),this.hostAttr=Ed(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},_d=(()=>{let e=class e extends rr{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(T(H))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),Ec=["alt","control","meta","shift"],bd={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Td={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Sd=(()=>{let e=class e extends rr{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ai().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),Ec.forEach(d=>{let h=i.indexOf(d);h>-1&&(i.splice(h,1),a+=d+".")}),a+=o,i.length!=0||o.length===0)return null;let c={};return c.domEventName=s,c.fullKey=a,c}static matchEventFullKeyCode(r,i){let s=bd[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),Ec.forEach(a=>{if(a!==s){let u=Td[a];u(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(T(H))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})();function Cc(t,e){return Oa(m({rootComponent:t},Cd(e)))}function Cd(t){return{appProviders:[...kd,...t?.providers??[]],platformProviders:Pd}}function Ad(){Hi.makeCurrent()}function Rd(){return new Ei}function Od(){return la(document),document}var Pd=[{provide:ne,useValue:Na},{provide:da,useValue:Ad,multi:!0},{provide:H,useFactory:Od,deps:[]}];var kd=[{provide:ua,useValue:"root"},{provide:Ei,useFactory:Rd,deps:[]},{provide:Wi,useClass:_d,multi:!0,deps:[H,U,ne]},{provide:Wi,useClass:Sd,multi:!0,deps:[H]},ir,bc,_c,{provide:jn,useExisting:ir},{provide:Xn,useClass:md,deps:[]},[]];function Dd(){return new Gi(T(H))}var Gi=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(T(H))},e.\u0275prov=_({token:e,factory:function(i){let s=null;return i?s=new i:s=Dd(),s},providedIn:"root"});let t=e;return t})();var E="primary",yn=Symbol("RouteTitle"),Xi=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Tt(t){return new Xi(t)}function Md(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Ld(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!pe(t[n],e[n]))return!1;return!0}function pe(t,e){let n=t?Zi(t):void 0,r=e?Zi(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Nc(t[i],e[i]))return!1;return!0}function Zi(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Nc(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function Mc(t){return t.length>0?t[t.length-1]:null}function xe(t){return Jo(t)?t:wa(t)?K(Promise.resolve(t)):g(t)}var xd={exact:xc,subset:Uc},Lc={exact:Ud,subset:Fd,ignored:()=>!0};function Ac(t,e,n){return xd[n.paths](t.root,e.root,n.matrixParams)&&Lc[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function Ud(t,e){return pe(t,e)}function xc(t,e,n){if(!Ke(t.segments,e.segments)||!cr(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!xc(t.children[r],e.children[r],n))return!1;return!0}function Fd(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Nc(t[n],e[n]))}function Uc(t,e,n){return Fc(t,e,e.segments,n)}function Fc(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Ke(i,n)||e.hasChildren()||!cr(i,n,r))}else if(t.segments.length===n.length){if(!Ke(t.segments,n)||!cr(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!Uc(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Ke(t.segments,i)||!cr(t.segments,i,r)||!t.children[E]?!1:Fc(t.children[E],e,s,r)}}function cr(t,e,n){return e.every((r,i)=>Lc[n](t[i].parameters,r.parameters))}var Me=class{constructor(e=new R([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Tt(this.queryParams)),this._queryParamMap}toString(){return Vd.serialize(this)}},R=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ur(this)}},qe=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Tt(this.parameters)),this._parameterMap}toString(){return $c(this)}};function jd(t,e){return Ke(t,e)&&t.every((n,r)=>pe(n.parameters,e[r].parameters))}function Ke(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function $d(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===E&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==E&&(n=n.concat(e(i,r)))}),n}var bs=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:()=>(()=>new dr)(),providedIn:"root"});let t=e;return t})(),dr=class{parse(e){let n=new es(e);return new Me(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${rn(e.root,!0)}`,r=zd(e.queryParams),i=typeof e.fragment=="string"?`#${Hd(e.fragment)}`:"";return`${n}${r}${i}`}},Vd=new dr;function ur(t){return t.segments.map(e=>$c(e)).join("/")}function rn(t,e){if(!t.hasChildren())return ur(t);if(e){let n=t.children[E]?rn(t.children[E],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==E&&r.push(`${i}:${rn(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=$d(t,(r,i)=>i===E?[rn(t.children[E],!1)]:[`${i}:${rn(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[E]!=null?`${ur(t)}/${n[0]}`:`${ur(t)}/(${n.join("//")})`}}function jc(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function or(t){return jc(t).replace(/%3B/gi,";")}function Hd(t){return encodeURI(t)}function Qi(t){return jc(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function lr(t){return decodeURIComponent(t)}function Rc(t){return lr(t.replace(/\+/g,"%20"))}function $c(t){return`${Qi(t.path)}${Wd(t.parameters)}`}function Wd(t){return Object.keys(t).map(e=>`;${Qi(e)}=${Qi(t[e])}`).join("")}function zd(t){let e=Object.keys(t).map(n=>{let r=t[n];return Array.isArray(r)?r.map(i=>`${or(n)}=${or(i)}`).join("&"):`${or(n)}=${or(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}var Bd=/^[^\/()?;#]+/;function qi(t){let e=t.match(Bd);return e?e[0]:""}var Gd=/^[^\/()?;=#]+/;function qd(t){let e=t.match(Gd);return e?e[0]:""}var Kd=/^[^=?&#]+/;function Yd(t){let e=t.match(Kd);return e?e[0]:""}var Jd=/^[^&#]+/;function Xd(t){let e=t.match(Jd);return e?e[0]:""}var es=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new R([],{}):new R([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[E]=new R(e,n)),r}parseSegment(){let e=qi(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new x(4009,!1);return this.capture(e),new qe(lr(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=qd(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=qi(this.remaining);i&&(r=i,this.capture(r))}e[lr(n)]=lr(r)}parseQueryParam(e){let n=Yd(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=Xd(this.remaining);o&&(r=o,this.capture(r))}let i=Rc(n),s=Rc(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=qi(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new x(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=E);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[E]:new R([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new x(4011,!1)}};function Vc(t){return t.segments.length>0?new R([],{[E]:t}):t}function Hc(t){let e={};for(let r of Object.keys(t.children)){let i=t.children[r],s=Hc(i);if(r===E&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new R(t.segments,e);return Zd(n)}function Zd(t){if(t.numberOfChildren===1&&t.children[E]){let e=t.children[E];return new R(t.segments.concat(e.segments),e.children)}return t}function St(t){return t instanceof Me}function Qd(t,e,n=null,r=null){let i=Wc(t);return zc(i,e,n,r)}function Wc(t){let e;function n(s){let o={};for(let u of s.children){let c=n(u);o[u.outlet]=c}let a=new R(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=Vc(r);return e??i}function zc(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Ki(i,i,i,n,r);let s=eh(e);if(s.toRoot())return Ki(i,i,new R([],{}),n,r);let o=th(s,i,t),a=o.processChildren?an(o.segmentGroup,o.index,s.commands):Gc(o.segmentGroup,o.index,s.commands);return Ki(i,o.segmentGroup,a,n,r)}function hr(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ln(t){return typeof t=="object"&&t!=null&&t.outlets}function Ki(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,c])=>{s[u]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let o;t===e?o=n:o=Bc(t,e,n);let a=Vc(Hc(o));return new Me(a,s,i)}function Bc(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=Bc(s,e,n)}),new R(t.segments,r)}var pr=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&hr(r[0]))throw new x(4003,!1);let i=r.find(ln);if(i&&i!==Mc(r))throw new x(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function eh(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new pr(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,c])=>{a[u]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new pr(n,e,r)}var _t=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function th(t,e,n){if(t.isAbsolute)return new _t(e,!0,0);if(!n)return new _t(e,!1,NaN);if(n.parent===null)return new _t(n,!0,0);let r=hr(t.commands[0])?0:1,i=n.segments.length-1+r;return nh(n,i,t.numberOfDoubleDots)}function nh(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new x(4005,!1);i=r.segments.length}return new _t(r,!1,i-s)}function rh(t){return ln(t[0])?t[0].outlets:{[E]:t}}function Gc(t,e,n){if(t||(t=new R([],{})),t.segments.length===0&&t.hasChildren())return an(t,e,n);let r=ih(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new R(t.segments.slice(0,r.pathIndex),{});return s.children[E]=new R(t.segments.slice(r.pathIndex),t.children),an(s,0,i)}else return r.match&&i.length===0?new R(t.segments,{}):r.match&&!t.hasChildren()?ts(t,e,n):r.match?an(t,0,i):ts(t,e,n)}function an(t,e,n){if(n.length===0)return new R(t.segments,{});{let r=rh(n),i={};if(Object.keys(r).some(s=>s!==E)&&t.children[E]&&t.numberOfChildren===1&&t.children[E].segments.length===0){let s=an(t.children[E],e,n);return new R(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=Gc(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new R(t.segments,i)}}function ih(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(ln(a))break;let u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&c&&typeof c=="object"&&c.outlets===void 0){if(!Pc(u,c,o))return s;r+=2}else{if(!Pc(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function ts(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(ln(s)){let u=sh(s.outlets);return new R(r,u)}if(i===0&&hr(n[0])){let u=t.segments[e];r.push(new qe(u.path,Oc(n[0]))),i++;continue}let o=ln(s)?s.outlets[E]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&hr(a)?(r.push(new qe(o,Oc(a))),i+=2):(r.push(new qe(o,{})),i++)}return new R(r,{})}function sh(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=ts(new R([],{}),0,r))}),e}function Oc(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function Pc(t,e,n){return t==n.path&&pe(e,n.parameters)}var cn="imperative",oe=class{constructor(e,n){this.id=e,this.url=n}},dn=class extends oe{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Se=class extends oe{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Le=class extends oe{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ye=class extends oe{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}},hn=class extends oe{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},fr=class extends oe{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ns=class extends oe{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rs=class extends oe{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},is=class extends oe{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ss=class extends oe{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},os=class{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},as=class{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},cs=class{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},us=class{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ls=class{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ds=class{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var pn=class{},fn=class{constructor(e){this.url=e}};var hs=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Er,this.attachRef=null}},Er=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new hs,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),mr=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=ps(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=ps(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=fs(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return fs(e,this._root).map(n=>n.value)}};function ps(t,e){if(t===e.value)return e;for(let n of e.children){let r=ps(t,n);if(r)return r}return null}function fs(t,e){if(t===e.value)return[e];for(let n of e.children){let r=fs(t,n);if(r.length)return r.unshift(e),r}return[]}var Q=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Et(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var gr=class extends mr{constructor(e,n){super(e),this.snapshot=n,Ss(this,e)}toString(){return this.snapshot.toString()}};function qc(t,e){let n=oh(t,e),r=new ee([new qe("",{})]),i=new ee({}),s=new ee({}),o=new ee({}),a=new ee(""),u=new Je(r,i,o,a,s,E,e,n.root);return u.snapshot=n.root,new gr(new Q(u,[]),n)}function oh(t,e){let n={},r={},i={},s="",o=new mn([],n,i,s,r,E,e,null,{});return new vr("",new Q(o,[]))}var Je=class{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(v(c=>c[yn]))??g(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(v(e=>Tt(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(v(e=>Tt(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ts(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:m(m({},e.params),t.params),data:m(m({},e.data),t.data),resolve:m(m(m(m({},t.data),e.data),i?.data),t._resolvedData)}:r={params:t.params,data:t.data,resolve:m(m({},t.data),t._resolvedData??{})},i&&Yc(i)&&(r.resolve[yn]=i.title),r}var mn=class{get title(){return this.data?.[yn]}constructor(e,n,r,i,s,o,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Tt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Tt(this.queryParams)),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},vr=class extends mr{constructor(e,n){super(n),this.url=e,Ss(this,n)}toString(){return Kc(this._root)}};function Ss(t,e){e.value._routerState=t,e.children.forEach(n=>Ss(t,n))}function Kc(t){let e=t.children.length>0?` { ${t.children.map(Kc).join(", ")} } `:"";return`${t.value}${e}`}function Yi(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,pe(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),pe(e.params,n.params)||t.paramsSubject.next(n.params),Ld(e.url,n.url)||t.urlSubject.next(n.url),pe(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function ms(t,e){let n=pe(t.params,e.params)&&jd(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||ms(t.parent,e.parent))}function Yc(t){return typeof t.title=="string"||t.title===null}var Cs=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=E,this.activateEvents=new mt,this.deactivateEvents=new mt,this.attachEvents=new mt,this.detachEvents=new mt,this.parentContexts=f(Er),this.location=f(ya),this.changeDetector=f(Vn),this.environmentInjector=f(ft),this.inputBinder=f(As,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new x(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new x(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new x(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new x(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,c=new gs(r,u,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Un({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Fn]});let t=e;return t})(),gs=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Je?this.route:e===Er?this.childContexts:this.parent.get(e,n)}},As=new k("");function ah(t,e,n){let r=gn(t,e._root,n?n._root:void 0);return new gr(r,e)}function gn(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=ch(t,e,n);return new Q(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>gn(t,a)),o}}let r=uh(e.value),i=e.children.map(s=>gn(t,s));return new Q(r,i)}}function ch(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return gn(t,r,i);return gn(t,r)})}function uh(t){return new Je(new ee(t.url),new ee(t.params),new ee(t.queryParams),new ee(t.fragment),new ee(t.data),t.outlet,t.component,t)}var Jc="ngNavigationCancelingError";function Xc(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=St(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Zc(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function Zc(t,e,n){let r=new Error("NavigationCancelingError: "+(t||""));return r[Jc]=!0,r.cancellationCode=e,n&&(r.url=n),r}function lh(t){return Qc(t)&&St(t.url)}function Qc(t){return t&&t[Jc]}var dh=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=pt({type:e,selectors:[["ng-component"]],standalone:!0,features:[gt],decls:1,vars:0,template:function(i,s){i&1&&ie(0,"router-outlet")},dependencies:[Cs],encapsulation:2});let t=e;return t})();function hh(t,e){return t.providers&&!t._injector&&(t._injector=Ta(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Rs(t){let e=t.children&&t.children.map(Rs),n=e?M(m({},t),{children:e}):m({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==E&&(n.component=dh),n}function fe(t){return t.outlet||E}function ph(t,e){let n=t.filter(r=>fe(r)===e);return n.push(...t.filter(r=>fe(r)!==e)),n}function In(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var fh=(t,e,n,r)=>v(i=>(new vs(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),vs=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Yi(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Et(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Et(e);for(let o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Et(e);for(let o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Et(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new ds(s.value.snapshot))}),e.children.length&&this.forwardEvent(new us(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Yi(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Yi(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=In(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},yr=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},bt=class{constructor(e,n){this.component=e,this.route=n}};function mh(t,e,n){let r=t._root,i=e?e._root:null;return sn(r,i,n,[r.value])}function gh(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function At(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!aa(t)?t:e.get(t):r}function sn(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Et(e);return t.children.forEach(o=>{vh(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>un(a,n.getContext(o),i)),i}function vh(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=yh(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new yr(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?sn(t,e,a?a.children:null,r,i):sn(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new bt(a.outlet.component,o))}else o&&un(e,a,i),i.canActivateChecks.push(new yr(r)),s.component?sn(t,null,a?a.children:null,r,i):sn(t,null,n,r,i);return i}function yh(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Ke(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ke(t.url,e.url)||!pe(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ms(t,e)||!pe(t.queryParams,e.queryParams);case"paramsChange":default:return!ms(t,e)}}function un(t,e,n){let r=Et(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?un(o,e.children.getContext(s),n):un(o,null,n):un(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new bt(e.outlet.component,i)):n.canDeactivateChecks.push(new bt(null,i)):n.canDeactivateChecks.push(new bt(null,i))}function wn(t){return typeof t=="function"}function Ih(t){return typeof t=="boolean"}function wh(t){return t&&wn(t.canLoad)}function Eh(t){return t&&wn(t.canActivate)}function _h(t){return t&&wn(t.canActivateChild)}function bh(t){return t&&wn(t.canDeactivate)}function Th(t){return t&&wn(t.canMatch)}function eu(t){return t instanceof Xo||t?.name==="EmptyError"}var ar=Symbol("INITIAL_VALUE");function Ct(){return j(t=>ci(t.map(e=>e.pipe(X(1),sa(ar)))).pipe(v(e=>{for(let n of e)if(n!==!0){if(n===ar)return ar;if(n===!1||n instanceof Me)return n}return!0}),z(e=>e!==ar),X(1)))}function Sh(t,e){return te(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?g(M(m({},n),{guardsResult:!0})):Ch(o,r,i,t).pipe(te(a=>a&&Ih(a)?Ah(r,s,t,e):g(a)),v(a=>M(m({},n),{guardsResult:a})))})}function Ch(t,e,n,r){return K(t).pipe(te(i=>Dh(i.component,i.route,n,e,r)),Pe(i=>i!==!0,!0))}function Ah(t,e,n,r){return K(e).pipe(We(i=>xn(Oh(i.route.parent,r),Rh(i.route,r),kh(t,i.path,n),Ph(t,i.route,n))),Pe(i=>i!==!0,!0))}function Rh(t,e){return t!==null&&e&&e(new ls(t)),g(!0)}function Oh(t,e){return t!==null&&e&&e(new cs(t)),g(!0)}function Ph(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return g(!0);let i=r.map(s=>ct(()=>{let o=In(e)??n,a=At(s,o),u=Eh(a)?a.canActivate(e,t):_e(o,()=>a(e,t));return xe(u).pipe(Pe())}));return g(i).pipe(Ct())}function kh(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>gh(o)).filter(o=>o!==null).map(o=>ct(()=>{let a=o.guards.map(u=>{let c=In(o.node)??n,d=At(u,c),h=_h(d)?d.canActivateChild(r,t):_e(c,()=>d(r,t));return xe(h).pipe(Pe())});return g(a).pipe(Ct())}));return g(s).pipe(Ct())}function Dh(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return g(!0);let o=s.map(a=>{let u=In(e)??i,c=At(a,u),d=bh(c)?c.canDeactivate(t,e,n,r):_e(u,()=>c(t,e,n,r));return xe(d).pipe(Pe())});return g(o).pipe(Ct())}function Nh(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return g(!0);let s=i.map(o=>{let a=At(o,t),u=wh(a)?a.canLoad(e,n):_e(t,()=>a(e,n));return xe(u)});return g(s).pipe(Ct(),tu(r))}function tu(t){return qo(P(e=>{if(St(e))throw Xc(t,e)}),v(e=>e===!0))}function Mh(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return g(!0);let s=i.map(o=>{let a=At(o,t),u=Th(a)?a.canMatch(e,n):_e(t,()=>a(e,n));return xe(u)});return g(s).pipe(Ct(),tu(r))}var vn=class{constructor(e){this.segmentGroup=e||null}},Ir=class extends Error{constructor(e){super(),this.urlTree=e}};function wt(t){return He(new vn(t))}function Lh(t){return He(new x(4e3,!1))}function xh(t){return He(Zc(!1,3))}var ys=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new x(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return g(r);if(i.numberOfChildren>1||!i.children[E])return Lh(e.redirectTo);i=i.children[E]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Ir(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Me(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new R(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new x(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Is={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Uh(t,e,n,r,i){let s=Os(t,e,n);return s.matched?(r=hh(e,r),Mh(r,e,n,i).pipe(v(o=>o===!0?s:m({},Is)))):g(s)}function Os(t,e,n){if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?m({},Is):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Md)(n,t,e);if(!i)return m({},Is);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?m(m({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function kc(t,e,n,r){return n.length>0&&$h(t,n,r)?{segmentGroup:new R(e,jh(r,new R(n,t.children))),slicedSegments:[]}:n.length===0&&Vh(t,n,r)?{segmentGroup:new R(t.segments,Fh(t,e,n,r,t.children)),slicedSegments:n}:{segmentGroup:new R(t.segments,t.children),slicedSegments:n}}function Fh(t,e,n,r,i){let s={};for(let o of r)if(_r(t,n,o)&&!i[fe(o)]){let a=new R([],{});s[fe(o)]=a}return m(m({},i),s)}function jh(t,e){let n={};n[E]=e;for(let r of t)if(r.path===""&&fe(r)!==E){let i=new R([],{});n[fe(r)]=i}return n}function $h(t,e,n){return n.some(r=>_r(t,e,r)&&fe(r)!==E)}function Vh(t,e,n){return n.some(r=>_r(t,e,r))}function _r(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Hh(t,e,n,r){return fe(t)!==r&&(r===E||!_r(e,n,t))?!1:t.path==="**"?!0:Os(e,t,n).matched}function Wh(t,e,n){return e.length===0&&!t.children[n]}var ws=class{};function zh(t,e,n,r,i,s,o="emptyOnly"){return new Es(t,e,n,r,i,o,s).recognize()}var Bh=31,Es=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new ys(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new x(4002,!1)}recognize(){let e=kc(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(v(n=>{let r=new mn([],Object.freeze({}),Object.freeze(m({},this.urlTree.queryParams)),this.urlTree.fragment,{},E,this.rootComponentType,null,{}),i=new Q(r,n),s=new vr("",i),o=Qd(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,E).pipe(dt(r=>{if(r instanceof Ir)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof vn?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Ts(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(v(s=>s instanceof Q?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return K(i).pipe(We(s=>{let o=r.children[s],a=ph(n,s);return this.processSegmentGroup(e,a,o,s)}),ia((s,o)=>(s.push(...o),s)),di(null),na(),te(s=>{if(s===null)return wt(r);let o=nu(s);return Gh(o),g(o)}))}processSegment(e,n,r,i,s,o){return K(n).pipe(We(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(dt(u=>{if(u instanceof vn)return g(null);throw u}))),Pe(a=>!!a),dt(a=>{if(eu(a))return Wh(r,i,s)?g(new ws):wt(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return Hh(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):wt(i):wt(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:u,positionalParamSegments:c,remainingSegments:d}=i.path==="**"?Dc(s):Os(n,i,s);if(!a)return wt(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Bh&&(this.allowRedirects=!1));let h=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,c);return this.applyRedirects.lineralizeSegments(i,h).pipe(te(p=>this.processSegment(e,r,n,p.concat(d),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o;return r.path==="**"?(o=g(Dc(i)),n.children={}):o=Uh(n,r,i,e,this.urlSerializer),o.pipe(j(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(j(({routes:u})=>{let c=r._loadedInjector??e,{consumedSegments:d,remainingSegments:h,parameters:p}=a,S=new mn(d,p,Object.freeze(m({},this.urlTree.queryParams)),this.urlTree.fragment,Kh(r),fe(r),r.component??r._loadedComponent??null,r,Yh(r)),{segmentGroup:B,slicedSegments:ae}=kc(n,d,h,u);if(ae.length===0&&B.hasChildren())return this.processChildren(c,u,B).pipe(v(C=>C===null?null:new Q(S,C)));if(u.length===0&&ae.length===0)return g(new Q(S,[]));let A=fe(r)===s;return this.processSegment(c,u,B,ae,A?E:s,!0).pipe(v(C=>new Q(S,C instanceof Q?[C]:[])))}))):wt(n)))}getChildConfig(e,n,r){return n.children?g({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?g({routes:n._loadedRoutes,injector:n._loadedInjector}):Nh(e,n,r,this.urlSerializer).pipe(te(i=>i?this.configLoader.loadChildren(e,n).pipe(P(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):xh(n))):g({routes:[],injector:e})}};function Gh(t){t.sort((e,n)=>e.value.outlet===E?-1:n.value.outlet===E?1:e.value.outlet.localeCompare(n.value.outlet))}function qh(t){let e=t.value.routeConfig;return e&&e.path===""}function nu(t){let e=[],n=new Set;for(let r of t){if(!qh(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=nu(r.children);e.push(new Q(r.value,i))}return e.filter(r=>!n.has(r))}function Kh(t){return t.data||{}}function Yh(t){return t.resolve||{}}function Dc(t){return{matched:!0,parameters:t.length>0?Mc(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Jh(t,e,n,r,i,s){return te(o=>zh(t,e,n,r,o.extractedUrl,i,s).pipe(v(({state:a,tree:u})=>M(m({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function Xh(t,e){return te(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return g(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let c of ru(u))o.add(c);let a=0;return K(o).pipe(We(u=>s.has(u)?Zh(u,r,t,e):(u.data=Ts(u,u.parent,t).resolve,g(void 0))),P(()=>a++),pi(1),te(u=>a===o.size?g(n):Ve))})}function ru(t){let e=t.children.map(n=>ru(n)).flat();return[t,...e]}function Zh(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!Yc(i)&&(s[yn]=i.title),Qh(s,t,e,r).pipe(v(o=>(t._resolvedData=o,t.data=Ts(t,t.parent,n).resolve,null)))}function Qh(t,e,n,r){let i=Zi(t);if(i.length===0)return g({});let s={};return K(i).pipe(te(o=>ep(t[o],e,n,r).pipe(Pe(),P(a=>{s[o]=a}))),pi(1),ea(s),dt(o=>eu(o)?Ve:He(o)))}function ep(t,e,n,r){let i=In(e)??r,s=At(t,i),o=s.resolve?s.resolve(e,n):_e(i,()=>s(e,n));return xe(o)}function Ji(t){return j(e=>{let n=t(e);return n?K(n).pipe(v(()=>e)):g(e)})}var iu=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===E);return i}getResolvedTitleForRoute(r){return r.data[yn]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:()=>(()=>f(tp))(),providedIn:"root"});let t=e;return t})(),tp=(()=>{let e=class e extends iu{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(T(Gi))},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ps=new k("",{providedIn:"root",factory:()=>({})}),ks=new k("ROUTES"),np=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=f(Si)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return g(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=xe(r.loadComponent()).pipe(v(su),P(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),ht(()=>{this.componentLoaders.delete(r)})),s=new ii(i,()=>new J).pipe(ri());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return g({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=rp(i,this.compiler,r,this.onLoadEndListener).pipe(ht(()=>{this.childrenLoaders.delete(i)})),a=new ii(o,()=>new J).pipe(ri());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function rp(t,e,n,r){return xe(t.loadChildren()).pipe(v(su),te(i=>i instanceof ba||Array.isArray(i)?g(i):K(e.compileModuleAsync(i))),v(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(ks,[],{optional:!0,self:!0}).flat()),{routes:o.map(Rs),injector:s}}))}function ip(t){return t&&typeof t=="object"&&"default"in t}function su(t){return ip(t)?t.default:t}var Ds=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:()=>(()=>f(sp))(),providedIn:"root"});let t=e;return t})(),sp=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),op=new k("");var ap=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new J,this.transitionAbortSubject=new J,this.configLoader=f(np),this.environmentInjector=f(ft),this.urlSerializer=f(bs),this.rootContexts=f(Er),this.location=f(qn),this.inputBindingEnabled=f(As,{optional:!0})!==null,this.titleStrategy=f(iu),this.options=f(Ps,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=f(Ds),this.createViewTransition=f(op,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>g(void 0),this.rootComponentType=null;let r=s=>this.events.next(new os(s)),i=s=>this.events.next(new as(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(M(m(m({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new ee({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:cn,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(z(o=>o.id!==0),v(o=>M(m({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),j(o=>{this.currentTransition=o;let a=!1,u=!1;return g(o).pipe(P(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?M(m({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),j(c=>{let d=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=c.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!d&&h!=="reload"){let p="";return this.events.next(new Ye(c.id,this.urlSerializer.serialize(c.rawUrl),p,0)),c.resolve(null),Ve}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return g(c).pipe(j(p=>{let S=this.transitions?.getValue();return this.events.next(new dn(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),S!==this.transitions?.getValue()?Ve:Promise.resolve(p)}),Jh(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),P(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=M(m({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let S=new fr(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(S)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:p,extractedUrl:S,source:B,restoredState:ae,extras:A}=c,C=new dn(p,this.urlSerializer.serialize(S),B,ae);this.events.next(C);let ce=qc(S,this.rootComponentType).snapshot;return this.currentTransition=o=M(m({},c),{targetSnapshot:ce,urlAfterRedirects:S,extras:M(m({},A),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=S,g(o)}else{let p="";return this.events.next(new Ye(c.id,this.urlSerializer.serialize(c.extractedUrl),p,1)),c.resolve(null),Ve}}),P(c=>{let d=new ns(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),v(c=>(this.currentTransition=o=M(m({},c),{guards:mh(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),Sh(this.environmentInjector,c=>this.events.next(c)),P(c=>{if(o.guardsResult=c.guardsResult,St(c.guardsResult))throw Xc(this.urlSerializer,c.guardsResult);let d=new rs(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(d)}),z(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",3),!1)),Ji(c=>{if(c.guards.canActivateChecks.length)return g(c).pipe(P(d=>{let h=new is(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}),j(d=>{let h=!1;return g(d).pipe(Xh(this.paramsInheritanceStrategy,this.environmentInjector),P({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(d,"",2)}}))}),P(d=>{let h=new ss(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}))}),Ji(c=>{let d=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(P(S=>{h.component=S}),v(()=>{})));for(let S of h.children)p.push(...d(S));return p};return ci(d(c.targetSnapshot.root)).pipe(di(),X(1))}),Ji(()=>this.afterPreactivation()),j(()=>{let{currentSnapshot:c,targetSnapshot:d}=o,h=this.createViewTransition?.(this.environmentInjector,c.root,d.root);return h?K(h).pipe(v(()=>o)):g(o)}),v(c=>{let d=ah(r.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=M(m({},c),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),P(()=>{this.events.next(new pn)}),fh(this.rootContexts,r.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),X(1),P({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Se(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),oa(this.transitionAbortSubject.pipe(P(c=>{throw c}))),ht(()=>{if(!a&&!u){let c="";this.cancelNavigationTransition(o,c,1)}this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),dt(c=>{if(u=!0,Qc(c))this.events.next(new Le(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),lh(c)?this.events.next(new fn(c.url)):o.resolve(!1);else{this.events.next(new hn(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(c))}catch(d){o.reject(d)}}return Ve}))}))}cancelNavigationTransition(r,i,s){let o=new Le(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function cp(t){return t!==cn}var up=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:()=>(()=>f(lp))(),providedIn:"root"});let t=e;return t})(),_s=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},lp=(()=>{let e=class e extends _s{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=mi(e)))(s||e)}})(),e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ou=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:()=>(()=>f(dp))(),providedIn:"root"});let t=e;return t})(),dp=(()=>{let e=class e extends ou{constructor(){super(...arguments),this.location=f(qn),this.urlSerializer=f(bs),this.options=f(Ps,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=f(Ds),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Me,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=qc(this.currentUrlTree,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof dn)this.stateMemento=this.createStateMemento();else if(r instanceof Ye)this.rawUrlTree=i.initialUrl;else if(r instanceof fr){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof pn?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Le&&(r.code===3||r.code===2)?this.restoreHistory(i):r instanceof hn?this.restoreHistory(i,!0):r instanceof Se&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=m(m({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=m(m({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=mi(e)))(s||e)}})(),e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),on=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(on||{});function hp(t,e){t.events.pipe(z(n=>n instanceof Se||n instanceof Le||n instanceof hn||n instanceof Ye),v(n=>n instanceof Se||n instanceof Ye?on.COMPLETE:(n instanceof Le?n.code===0||n.code===1:!1)?on.REDIRECTING:on.FAILED),z(n=>n!==on.REDIRECTING),X(1)).subscribe(()=>{e()})}function pp(t){throw t}var fp={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},mp={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},br=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=f(zn),this.stateManager=f(ou),this.options=f(Ps,{optional:!0})||{},this.pendingTasks=f(Bn),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=f(ap),this.urlSerializer=f(bs),this.location=f(qn),this.urlHandlingStrategy=f(Ds),this._events=new J,this.errorHandler=this.options.errorHandler||pp,this.navigated=!1,this.routeReuseStrategy=f(up),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=f(ks,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!f(As,{optional:!0}),this.eventsSubscription=new Go,this.isNgZoneEnabled=f(U)instanceof U&&U.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Le&&i.code!==0&&i.code!==1)this.navigated=!0;else if(i instanceof Se)this.navigated=!0;else if(i instanceof fn){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),u={skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||cp(s.source)};this.scheduleNavigation(a,cn,null,u,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}vp(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),cn,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)}))}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let c=m({},s);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Rs),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:u,preserveFragment:c}=i,d=c?this.currentUrlTree.fragment:a,h=null;switch(u){case"merge":h=m(m({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let S=s?s.snapshot:this.routerState.snapshot.root;p=Wc(S)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),p=this.currentUrlTree.root}return zc(p,r,h,d??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=St(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,cn,null,i)}navigate(r,i={skipLocationChange:!1}){return gp(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=m({},fp):i===!1?s=m({},mp):s=i,St(r))return Ac(this.currentUrlTree,r,s);let o=this.parseUrl(r);return Ac(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.keys(r).reduce((i,s)=>{let o=r[s];return o!=null&&(i[s]=o),i},{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let u,c,d;a?(u=a.resolve,c=a.reject,d=a.promise):d=new Promise((p,S)=>{u=p,c=S});let h=this.pendingTasks.add();return hp(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:u,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(p=>Promise.reject(p))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function gp(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new x(4008,!1)}function vp(t){return!(t instanceof pn)&&!(t instanceof fn)}var wr=(()=>{let e=class e{constructor(r,i,s,o,a,u){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=u,this.href=null,this.commands=null,this.onChanges=new J,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=r.events.subscribe(d=>{d instanceof Se&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){if(this.urlTree===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state};return this.router.navigateByUrl(this.urlTree,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=this.urlTree!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;let r=this.href===null?null:pa(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(le(br),le(Je),ca("tabindex"),le(wi),le(Ii),le(Ri))},e.\u0275dir=Un({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&L("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&ga("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Gn],skipLocationChange:["skipLocationChange","skipLocationChange",Gn],replaceUrl:["replaceUrl","replaceUrl",Gn],routerLink:"routerLink"},standalone:!0,features:[ma,Fn]});let t=e;return t})(),au=(()=>{let e=class e{get isActive(){return this._isActive}constructor(r,i,s,o,a){this.router=r,this.element=i,this.renderer=s,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new mt,this.routerEventsSubscription=r.events.subscribe(u=>{u instanceof Se&&this.update()})}ngAfterContentInit(){g(this.links.changes,g(null)).pipe(ui()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=K(r).pipe(ui()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(s=>!!s)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(r))})}isLinkActive(r){let i=yp(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>s.urlTree?r.isActive(s.urlTree,i):!1}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};e.\u0275fac=function(i){return new(i||e)(le(br),le(Ii),le(wi),le(Vn),le(wr,8))},e.\u0275dir=Un({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,s,o){if(i&1&&Aa(o,wr,5),i&2){let a;Bt(a=Gt())&&(s.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Fn]});let t=e;return t})();function yp(t){return!!t.paths}var Ip=new k("");function cu(t,...e){return Ee([{provide:ks,multi:!0,useValue:t},[],{provide:Je,useFactory:wp,deps:[br]},{provide:Ci,multi:!0,useFactory:Ep},e.map(n=>n.\u0275providers)])}function wp(t){return t.routerState.root}function Ep(){let t=f(ue);return e=>{let n=t.get(vt);if(e!==n.components[0])return;let r=t.get(br),i=t.get(_p);t.get(bp)===1&&r.initialNavigation(),t.get(Tp,null,fi.Optional)?.setUpPreloading(),t.get(Ip,null,fi.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var _p=new k("",{factory:()=>new J}),bp=new k("",{providedIn:"root",factory:()=>1});var Tp=new k("");var uu=(()=>{let e=class e{constructor(){this.http=f(Ge),this.netApiUrl=f(Xe)}getExerciseLogsv2(){return this.http.get(`${this.netApiUrl}/logs`).pipe(v(r=>r.data))}createExerciseLog(r){return this.http.post(`${this.netApiUrl}/logs`,r)}updateExerciseLog(r){return this.http.put(`${this.netApiUrl}/logs/${r.id}`,r)}deleteExerciseLog(r){return this.http.delete(`${this.netApiUrl}/logs/${r}`)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var lu=(()=>{let e=class e{constructor(){this.http=f(Ge),this.netApiUrl=f(Xe)}getExercises(){return this.http.get(`${this.netApiUrl}/exercises`).pipe(v(r=>r.data))}createExercise(r){return this.http.post(`${this.netApiUrl}/exercises`,r)}updateExercise(r){return this.http.put(`${this.netApiUrl}/exercises/${r.id}`,r)}deleteExercise(r){return this.http.delete(`${this.netApiUrl}/exercises/${r}`)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Cp=["usernameTypeaheadInput"],Ap=["exerciseTypeaheadInput"];function Rp(t,e){if(t&1&&(b(0,"div",17),N(1),w()),t&2){let n=F();y(1),he(n.createOrUpdateLogFormGroup.errors.userRequired)}}function Op(t,e){if(t&1&&(b(0,"div",17),N(1),w()),t&2){let n=F();y(1),he(n.createOrUpdateLogFormGroup.errors.userInvalidPeron)}}function Pp(t,e){if(t&1&&(b(0,"div",17),N(1),w()),t&2){let n=F();y(1),he(n.createOrUpdateLogFormGroup.errors.exerciseRequired)}}function kp(t,e){if(t&1&&(b(0,"div",17),N(1),w()),t&2){let n=F();y(1),he(n.createOrUpdateLogFormGroup.errors.exerciseInvalidPeron)}}function Dp(t,e){if(t&1&&(b(0,"div",17),N(1),w()),t&2){let n=F();y(1),he(n.createOrUpdateLogFormGroup.errors.exerciseDoesNotExist)}}function Np(t,e){if(t&1&&(b(0,"div",18)(1,"span",19),N(2),w(),ie(3,"input",20)(4,"input",21),w()),t&2){let n=e.$implicit,r=e.$index;y(2),ze("Serie ",r+1,""),y(1),$("formControl",n.controls.reps),y(1),$("formControl",n.controls.weightInKg)}}function Mp(t,e){if(t&1&&(b(0,"div",17),N(1),w()),t&2){let n=F();y(1),he(n.createOrUpdateLogFormGroup.errors.seriesAllSeriesAreEmpty)}}function Lp(t,e){if(t&1&&(b(0,"div",17),N(1),w()),t&2){let n=F();y(1),he(n.createOrUpdateLogFormGroup.errors.seriesRepsMustBeInteger)}}function xp(t,e){if(t&1){let n=Te();b(0,"button",22),L("click",function(){G(n);let i=F();return i.exerciseLogService.deleteLog$.next(i.originalValue),q(i.modal.dismiss())}),N(1," Delete "),w()}}var Up=t=>({"justify-content-between":t}),Fp=(t,e)=>({"btn-primary":t,"btn-secondary":e}),du=(()=>{let e=class e{constructor(){this.modal=f(Za),this.exerciseLogService=f(Kt),this.mode=null,this.createOrUpdateLogFormGroup=null,this.originalValue=null,this.usernameTypeaheadInput=null,this.usernameFocus$=new J,this.usernameSearch=r=>{let i=r.pipe(hi());return ut(i,this.usernameFocus$).pipe(v(()=>{let s=this.exerciseLogService.usernames().map(o=>o);return this.createOrUpdateLogFormGroup.value.user===""?s:s.filter(o=>!!o).filter(o=>o.toLowerCase().includes(this.createOrUpdateLogFormGroup.value.user?.toLowerCase()??""))}))},this.exerciseTypeaheadInput=null,this.exerciseFocus$=new J,this.exerciseSearch=r=>{let i=r.pipe(hi());return ut(i,this.exerciseFocus$).pipe(v(s=>{let o=this.exerciseLogService.exercises().map(a=>a);return s?o.filter(a=>!!a).filter(a=>a.name.toLowerCase().includes(s.toLowerCase())):o}))},this.exerciseFormatter=r=>r.name}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=pt({type:e,selectors:[["app-exercise-row-body"]],viewQuery:function(i,s){if(i&1&&(bi(Cp,7),bi(Ap,7)),i&2){let o;Bt(o=Gt())&&(s.usernameTypeaheadInput=o.first),Bt(o=Gt())&&(s.exerciseTypeaheadInput=o.first)}},inputs:{mode:"mode",createOrUpdateLogFormGroup:"createOrUpdateLogFormGroup",originalValue:"originalValue"},standalone:!0,features:[gt],decls:33,vars:27,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3"],[1,"input-group"],["type","text","placeholder","Username",1,"form-control",3,"formControl","ngbTypeahead","popupClass","selectItem","focus"],["usernameTypeaheadInput",""],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"fa","fa-times"],["class","d-block invalid-feedback"],["type","date","placeholder","DD-MM-YYYY","placeholder","Reps",1,"form-control",3,"formControl"],["type","text","placeholder","Exercise",1,"form-control",3,"selectOnExact","formControl","ngbTypeahead","inputFormatter","resultFormatter","popupClass","selectItem","focus"],["exerciseTypeaheadInput",""],[1,"modal-footer",3,"ngClass"],["type","button","class","btn btn-danger"],["type","button",1,"btn",3,"ngClass","disabled","click"],[1,"d-block","invalid-feedback"],[1,"input-group","mb-3","align-items-center"],[1,"input-group-text"],["type","number","placeholder","Reps",1,"form-control",3,"formControl"],["type","number","placeholder","Kg",1,"form-control",3,"formControl"],["type","button",1,"btn","btn-danger",3,"click"],["class","input-group mb-3 align-items-center"]],template:function(i,s){i&1&&(b(0,"div",0)(1,"h4",1),N(2),w(),b(3,"button",2),L("click",function(){return s.modal.dismiss()}),w()(),b(4,"div",3)(5,"form")(6,"div",4)(7,"div",5)(8,"input",6,7),L("selectItem",function(a){return s.createOrUpdateLogFormGroup.controls.user.patchValue(a.item)})("focus",function(){return s.usernameFocus$.next(s.createOrUpdateLogFormGroup.value.user||"")}),w(),b(10,"button",8),L("click",function(){return s.createOrUpdateLogFormGroup.controls.user.patchValue("")}),ie(11,"i",9),w()(),be(12,Rp,2,1,"div",10)(13,Op,2,1,"div",10),w(),b(14,"div",4),ie(15,"input",11),w(),b(16,"div",4)(17,"div",5)(18,"input",12,13),L("selectItem",function(a){return s.createOrUpdateLogFormGroup.controls.exercise.patchValue(a.item)})("focus",function(){return s.exerciseFocus$.next((s.createOrUpdateLogFormGroup.value.exercise==null?null:s.createOrUpdateLogFormGroup.value.exercise.name)||"")}),w(),b(20,"button",8),L("click",function(){return s.createOrUpdateLogFormGroup.controls.exercise.patchValue(null)}),ie(21,"i",9),w()(),be(22,Pp,2,1,"div",10)(23,kp,2,1,"div",10)(24,Dp,2,1,"div",10),w(),Ht(25,Np,5,3,"div",23,Ia),be(27,Mp,2,1,"div",10)(28,Lp,2,1,"div",10),w()(),b(29,"div",14),be(30,xp,2,0,"button",15),b(31,"button",16),L("click",function(){return s.modal.close()}),N(32," Save "),w()()),i&2&&(y(2),ze("",s.mode==="update"?"Edit":"Create"," Log"),y(6),$("formControl",s.createOrUpdateLogFormGroup.controls.user)("ngbTypeahead",s.usernameSearch)("popupClass","typeahead"),y(4),re(12,!s.createOrUpdateLogFormGroup.controls.user.pristine&&s.createOrUpdateLogFormGroup.errors&&s.createOrUpdateLogFormGroup.errors.userRequired?12:-1),y(1),re(13,!s.createOrUpdateLogFormGroup.controls.user.pristine&&s.createOrUpdateLogFormGroup.errors&&s.createOrUpdateLogFormGroup.errors.userInvalidPeron?13:-1),y(2),$("formControl",s.createOrUpdateLogFormGroup.controls.date),y(3),$("selectOnExact",!0)("formControl",s.createOrUpdateLogFormGroup.controls.exercise)("ngbTypeahead",s.exerciseSearch)("inputFormatter",s.exerciseFormatter)("resultFormatter",s.exerciseFormatter)("popupClass","typeahead"),y(4),re(22,!s.createOrUpdateLogFormGroup.controls.exercise.pristine&&s.createOrUpdateLogFormGroup.errors&&s.createOrUpdateLogFormGroup.errors.exerciseRequired?22:-1),y(1),re(23,!s.createOrUpdateLogFormGroup.controls.exercise.pristine&&s.createOrUpdateLogFormGroup.errors&&s.createOrUpdateLogFormGroup.errors.exerciseInvalidPeron?23:-1),y(1),re(24,!s.createOrUpdateLogFormGroup.controls.exercise.pristine&&s.createOrUpdateLogFormGroup.errors&&s.createOrUpdateLogFormGroup.errors.exerciseDoesNotExist?24:-1),y(1),Wt(s.createOrUpdateLogFormGroup.controls.series.controls),y(2),re(27,!s.createOrUpdateLogFormGroup.controls.series.pristine&&s.createOrUpdateLogFormGroup.errors&&s.createOrUpdateLogFormGroup.errors.seriesAllSeriesAreEmpty?27:-1),y(1),re(28,!s.createOrUpdateLogFormGroup.controls.series.pristine&&s.createOrUpdateLogFormGroup.errors&&s.createOrUpdateLogFormGroup.errors.seriesRepsMustBeInteger?28:-1),y(1),$("ngClass",zt(22,Up,s.mode==="update")),y(1),re(30,s.mode==="update"?30:-1),y(1),$("ngClass",Ca(24,Fp,s.createOrUpdateLogFormGroup.valid,s.createOrUpdateLogFormGroup.invalid))("disabled",s.createOrUpdateLogFormGroup.invalid))},dependencies:[Wa,ja,La,$a,xa,Ua,Va,Ha,Fa,rc,nc,Yn],changeDetection:0});let t=e;return t})();var Tr=(()=>{let e=class e{constructor(){this.toasts=[]}show(r){this.toasts.push(r)}ok(r){this.show({text:r,type:"success"})}error(r){this.show({text:r??"An error ocurred",type:"danger"})}remove(r){this.toasts=this.toasts.filter(i=>i!==r)}clear(){this.toasts=[]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var pu=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},jp=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},fu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4,p=(a&15)<<2|c>>6,S=c&63;u||(S=64,o||(p=64)),r.push(n[d],n[h],n[p],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(pu(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):jp(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let c=i<t.length?n[t.charAt(i)]:64;++i;let h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new Ms;let p=s<<2|a>>4;if(r.push(p),c!==64){let S=a<<4&240|c>>2;if(r.push(S),h!==64){let B=c<<6&192|h;r.push(B)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Ms=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},$p=function(t){let e=pu(t);return fu.encodeByteArray(e,!0)},xs=function(t){return $p(t).replace(/\./g,"")},Us=function(t){try{return fu.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Vp(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Hp=()=>Vp().__FIREBASE_DEFAULTS__,Wp=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},zp=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Us(t[1]);return e&&JSON.parse(e)},Fs=()=>{try{return Hp()||Wp()||zp()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},mu=t=>{var e,n;return(n=(e=Fs())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]};var js=()=>{var t;return(t=Fs())===null||t===void 0?void 0:t.config},$s=t=>{var e;return(e=Fs())===null||e===void 0?void 0:e[`_${t}`]};var Sr=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function W(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gu(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(W())}function vu(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function yu(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Iu(){let t=W();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function wu(){try{return typeof indexedDB=="object"}catch{return!1}}function Eu(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var Bp="FirebaseError",de=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Bp,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ce.prototype.create)}},Ce=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Gp(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new de(i,a,r)}};function Gp(t,e){return t.replace(qp,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var qp=/\{\$([^}]+)}/g;function _u(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Rt(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(hu(s)&&hu(o)){if(!Rt(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function hu(t){return t!==null&&typeof t=="object"}function Ot(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function bu(t,e){let n=new Ls(t,e);return n.subscribe.bind(n)}var Ls=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Kp(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ns),i.error===void 0&&(i.error=Ns),i.complete===void 0&&(i.complete=Ns);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Kp(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ns(){}var KI=4*60*60*1e3;function Ue(t){return t&&t._delegate?t._delegate:t}var me=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ze="[DEFAULT]";var Vs=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Sr;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Jp(e))try{this.getOrInitializeService({instanceIdentifier:Ze})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ze){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return l(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ze){return this.instances.has(e)}getOptions(e=Ze){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Yp(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ze){return this.component?this.component.multipleInstances?e:Ze:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Yp(t){return t===Ze?void 0:t}function Jp(t){return t.instantiationMode==="EAGER"}var Cr=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Vs(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var Xp=[],D=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(D||{}),Zp={debug:D.DEBUG,verbose:D.VERBOSE,info:D.INFO,warn:D.WARN,error:D.ERROR,silent:D.SILENT},Qp=D.INFO,ef={[D.DEBUG]:"log",[D.VERBOSE]:"log",[D.INFO]:"info",[D.WARN]:"warn",[D.ERROR]:"error"},tf=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=ef[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Pt=class{constructor(e){this.name=e,this._logLevel=Qp,this._logHandler=tf,this._userLogHandler=null,Xp.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in D))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Zp[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,D.DEBUG,...e),this._logHandler(this,D.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,D.VERBOSE,...e),this._logHandler(this,D.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,D.INFO,...e),this._logHandler(this,D.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,D.WARN,...e),this._logHandler(this,D.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,D.ERROR,...e),this._logHandler(this,D.ERROR,...e)}};var nf=(t,e)=>e.some(n=>t instanceof n),Tu,Su;function rf(){return Tu||(Tu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sf(){return Su||(Su=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Cu=new WeakMap,Ws=new WeakMap,Au=new WeakMap,Hs=new WeakMap,Bs=new WeakMap;function of(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ge(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Cu.set(n,t)}).catch(()=>{}),Bs.set(e,t),e}function af(t){if(Ws.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Ws.set(t,e)}var zs={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ws.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Au.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ge(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Ru(t){zs=t(zs)}function cf(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Ar(this),e,...n);return Au.set(r,e.sort?e.sort():[e]),ge(r)}:sf().includes(t)?function(...e){return t.apply(Ar(this),e),ge(Cu.get(this))}:function(...e){return ge(t.apply(Ar(this),e))}}function uf(t){return typeof t=="function"?cf(t):(t instanceof IDBTransaction&&af(t),nf(t,rf())?new Proxy(t,zs):t)}function ge(t){if(t instanceof IDBRequest)return of(t);if(Hs.has(t))return Hs.get(t);let e=uf(t);return e!==t&&(Hs.set(t,e),Bs.set(e,t)),e}var Ar=t=>Bs.get(t);function Pu(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=ge(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ge(o.result),u.oldVersion,u.newVersion,ge(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}var lf=["get","getKey","getAll","getAllKeys","count"],df=["put","add","delete","clear"],Gs=new Map;function Ou(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Gs.get(e))return Gs.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=df.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||lf.includes(n)))return;let s=function(o,...a){return l(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),c=u.store;return r&&(c=c.index(a.shift())),(yield Promise.all([c[n](...a),i&&u.done]))[0]})};return Gs.set(e,s),s}Ru(t=>M(m({},t),{get:(e,n,r)=>Ou(e,n)||t.get(e,n,r),has:(e,n)=>!!Ou(e,n)||t.has(e,n)}));var Ks=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hf(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function hf(t){let e=t.getComponent();return e?.type==="VERSION"}var Ys="@firebase/app",ku="0.9.28";var Qe=new Pt("@firebase/app"),pf="@firebase/app-compat",ff="@firebase/analytics-compat",mf="@firebase/analytics",gf="@firebase/app-check-compat",vf="@firebase/app-check",yf="@firebase/auth",If="@firebase/auth-compat",wf="@firebase/database",Ef="@firebase/database-compat",_f="@firebase/functions",bf="@firebase/functions-compat",Tf="@firebase/installations",Sf="@firebase/installations-compat",Cf="@firebase/messaging",Af="@firebase/messaging-compat",Rf="@firebase/performance",Of="@firebase/performance-compat",Pf="@firebase/remote-config",kf="@firebase/remote-config-compat",Df="@firebase/storage",Nf="@firebase/storage-compat",Mf="@firebase/firestore",Lf="@firebase/firestore-compat",xf="firebase",Uf="10.8.1";var Js="[DEFAULT]",Ff={[Ys]:"fire-core",[pf]:"fire-core-compat",[mf]:"fire-analytics",[ff]:"fire-analytics-compat",[vf]:"fire-app-check",[gf]:"fire-app-check-compat",[yf]:"fire-auth",[If]:"fire-auth-compat",[wf]:"fire-rtdb",[Ef]:"fire-rtdb-compat",[_f]:"fire-fn",[bf]:"fire-fn-compat",[Tf]:"fire-iid",[Sf]:"fire-iid-compat",[Cf]:"fire-fcm",[Af]:"fire-fcm-compat",[Rf]:"fire-perf",[Of]:"fire-perf-compat",[Pf]:"fire-rc",[kf]:"fire-rc-compat",[Df]:"fire-gcs",[Nf]:"fire-gcs-compat",[Mf]:"fire-fst",[Lf]:"fire-fst-compat","fire-js":"fire-js",[xf]:"fire-js-all"};var En=new Map,Xs=new Map;function jf(t,e){try{t.container.addComponent(e)}catch(n){Qe.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function kt(t){let e=t.name;if(Xs.has(e))return Qe.debug(`There were multiple attempts to register component ${e}.`),!1;Xs.set(e,t);for(let n of En.values())jf(n,t);return!0}function to(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var $f={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Fe=new Ce("app","Firebase",$f);var Zs=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new me("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fe.create("app-deleted",{appName:this._name})}};var Dt=Uf;function no(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Js,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Fe.create("bad-app-name",{appName:String(i)});if(n||(n=js()),!n)throw Fe.create("no-options");let s=En.get(i);if(s){if(Rt(n,s.options)&&Rt(r,s.config))return s;throw Fe.create("duplicate-app",{appName:i})}let o=new Cr(i);for(let u of Xs.values())o.addComponent(u);let a=new Zs(n,r,o);return En.set(i,a),a}function Rr(t=Js){let e=En.get(t);if(!e&&t===Js&&js())return no();if(!e)throw Fe.create("no-app",{appName:t});return e}function Or(){return Array.from(En.values())}function Y(t,e,n){var r;let i=(r=Ff[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qe.warn(a.join(" "));return}kt(new me(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Vf="firebase-heartbeat-database",Hf=1,_n="firebase-heartbeat-store",qs=null;function Lu(){return qs||(qs=Pu(Vf,Hf,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(_n)}catch(n){console.warn(n)}}}}).catch(t=>{throw Fe.create("idb-open",{originalErrorMessage:t.message})})),qs}function Wf(t){return l(this,null,function*(){try{let n=(yield Lu()).transaction(_n),r=yield n.objectStore(_n).get(xu(t));return yield n.done,r}catch(e){if(e instanceof de)Qe.warn(e.message);else{let n=Fe.create("idb-get",{originalErrorMessage:e?.message});Qe.warn(n.message)}}})}function Du(t,e){return l(this,null,function*(){try{let r=(yield Lu()).transaction(_n,"readwrite");yield r.objectStore(_n).put(e,xu(t)),yield r.done}catch(n){if(n instanceof de)Qe.warn(n.message);else{let r=Fe.create("idb-set",{originalErrorMessage:n?.message});Qe.warn(r.message)}}})}function xu(t){return`${t.name}!${t.options.appId}`}var zf=1024,Bf=30*24*60*60*1e3,Qs=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new eo(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return l(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Nu();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=Bf}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return l(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=Nu(),{heartbeatsToSend:r,unsentEntries:i}=Gf(this._heartbeatsCache.heartbeats),s=xs(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function Nu(){return new Date().toISOString().substring(0,10)}function Gf(t,e=zf){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Mu(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Mu(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var eo=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return l(this,null,function*(){return wu()?Eu().then(()=>!0).catch(()=>!1):!1})}read(){return l(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Wf(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return l(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Du(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return l(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Du(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function Mu(t){return xs(JSON.stringify({version:2,heartbeats:t})).length}function qf(t){kt(new me("platform-logger",e=>new Ks(e),"PRIVATE")),kt(new me("heartbeat",e=>new Qs(e),"PRIVATE")),Y(Ys,ku,t),Y(Ys,ku,"esm2017"),Y("fire-js","")}qf("");var Kf="firebase",Yf="10.8.1";Y(Kf,Yf,"app");var bn=new $n("ANGULARFIRE2_VERSION");function Uu(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var io=(t,e)=>{let n=e?[e]:Or(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Pr=class{constructor(){return io(Jf)}},Jf="app-check";function Nt(){}var kr=class{zone;delegate;constructor(e,n=Yo){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},ro=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Nt,{},Nt,Nt)),n.pipe(P({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Dr=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new kr(Zone.current)),this.insideAngular=n.run(()=>new kr(Zone.current,Ko)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(T(U))};static \u0275prov=_({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Nr(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Xf(t){return Nr().ngZone.runOutsideAngular(()=>t())}function et(t){return Nr().ngZone.run(()=>t())}function Zf(t){return Qf(Nr())(t)}function Qf(t){return function(n){return n=n.lift(new ro(t.ngZone)),n.pipe(oi(t.outsideAngular),si(t.insideAngular))}}var em=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),et(()=>t.apply(void 0,r))},Mt=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=et(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Nt,{},Nt,Nt))),r[s]=em(r[s],n));let i=Xf(()=>t.apply(this,r));if(!e)if(i instanceof jt){let s=Nr();return i.pipe(oi(s.outsideAngular),si(s.insideAngular))}else return et(()=>i);return i instanceof jt?i.pipe(Zf):i instanceof Promise?et(()=>new Promise((s,o)=>i.then(a=>et(()=>s(a)),a=>et(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:et(()=>i)};var tt=class{constructor(e){return e}},Tn=class{constructor(){return Or()}};function tm(t){return t&&t.length===1?t[0]:new tt(Rr())}var so=new k("angularfire2._apps"),nm={provide:tt,useFactory:tm,deps:[[new we,so]]},rm={provide:Tn,deps:[[new we,so]]};function im(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new tt(r)}}var sm=(()=>{class t{constructor(n){Y("angularfire",bn.full,"core"),Y("angularfire",bn.full,"app"),Y("angular",fa.full,n.toString())}static \u0275fac=function(r){return new(r||t)(T(ne))};static \u0275mod=De({type:t});static \u0275inj=ke({providers:[nm,rm]})}return t})();function Fu(t,...e){return{ngModule:sm,providers:[{provide:so,useFactory:im(t),multi:!0,deps:[U,ue,Dr,...e]}]}}var ju=Mt(no,!0);function Qu(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var el=Qu,tl=new Ce("auth","Firebase",Qu());var jr=new Pt("@firebase/auth");function om(t,...e){jr.logLevel<=D.WARN&&jr.warn(`Auth (${Dt}): ${t}`,...e)}function Lr(t,...e){jr.logLevel<=D.ERROR&&jr.error(`Auth (${Dt}): ${t}`,...e)}function Ie(t,...e){throw bo(t,...e)}function ve(t,...e){return bo(t,...e)}function nl(t,e,n){let r=Object.assign(Object.assign({},el()),{[e]:n});return new Ce("auth","Firebase",r).create(e,{appName:t.name})}function am(t,e,n){let r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ie(t,"argument-error"),nl(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function bo(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return tl.create(t,...e)}function I(t,e,...n){if(!t)throw bo(e,...n)}function Ae(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Lr(e),new Error(e)}function Oe(t,e){t||Ae(e)}function co(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function cm(){return $u()==="http:"||$u()==="https:"}function $u(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function um(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cm()||vu()||"connection"in navigator)?navigator.onLine:!0}function lm(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var nt=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Oe(n>e,"Short delay should be less than long delay!"),this.isMobile=gu()||yu()}get(){return um()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function To(t,e){Oe(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var $r=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ae("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ae("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ae("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var dm={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var hm=new nt(3e4,6e4);function So(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function xt(s,o,a,u){return l(this,arguments,function*(t,e,n,r,i={}){return rl(t,i,()=>l(this,null,function*(){let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});let h=Ot(Object.assign({key:t.config.apiKey},d)).slice(1),p=yield t._getAdditionalHeaders();return p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode),$r.fetch()(il(t,t.config.apiHost,n,h),Object.assign({method:e,headers:p,referrerPolicy:"no-referrer"},c))}))})}function rl(t,e,n){return l(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},dm),e);try{let i=new uo(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Mr(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mr(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Mr(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Mr(t,"user-disabled",o);let d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw nl(t,d,c);Ie(t,d)}}catch(i){if(i instanceof de)throw i;Ie(t,"network-request-failed",{message:String(i)})}})}function pm(s,o,a,u){return l(this,arguments,function*(t,e,n,r,i={}){let c=yield xt(t,e,n,r,i);return"mfaPendingCredential"in c&&Ie(t,"multi-factor-auth-required",{_serverResponse:c}),c})}function il(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?To(t.config,i):`${t.config.apiScheme}://${i}`}var uo=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ve(this.auth,"network-request-failed")),hm.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Mr(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=ve(t,e,r);return i.customData._tokenResponse=n,i}function fm(t,e){return l(this,null,function*(){return xt(t,"POST","/v1/accounts:delete",e)})}function mm(t,e){return l(this,null,function*(){return xt(t,"POST","/v1/accounts:lookup",e)})}function Sn(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Co(t,e=!1){return l(this,null,function*(){let n=Ue(t),r=yield n.getIdToken(e),i=Ao(r);I(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Sn(oo(i.auth_time)),issuedAtTime:Sn(oo(i.iat)),expirationTime:Sn(oo(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function oo(t){return Number(t)*1e3}function Ao(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Lr("JWT malformed, contained fewer than 3 sections"),null;try{let i=Us(n);return i?JSON.parse(i):(Lr("Failed to decode base64 JWT payload"),null)}catch(i){return Lr("Caught error parsing JWT payload as JSON",i?.toString()),null}}function gm(t){let e=Ao(t);return I(e,"internal-error"),I(typeof e.exp<"u","internal-error"),I(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Cn(t,e,n=!1){return l(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof de&&vm(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function vm({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var lo=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>l(this,null,function*(){yield this.iteration()}),n)}iteration(){return l(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Vr=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sn(this.lastLoginAt),this.creationTime=Sn(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Hr(t){return l(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Cn(t,mm(n,{idToken:r}));I(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Im(s.providerUserInfo):[],a=ym(t.providerData,o),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!a?.length,d=u?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Vr(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)})}function Ro(t){return l(this,null,function*(){let e=Ue(t);yield Hr(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function ym(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Im(t){return t.map(e=>{var{providerId:n}=e,r=Ln(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function wm(t,e){return l(this,null,function*(){let n=yield rl(t,{},()=>l(this,null,function*(){let r=Ot({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=il(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",$r.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function Em(t,e){return l(this,null,function*(){return xt(t,"POST","/v2/accounts:revokeToken",So(t,e))})}var Wr=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){I(e.idToken,"internal-error"),I(typeof e.idToken<"u","internal-error"),I(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gm(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return l(this,null,function*(){return I(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return l(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield wm(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(I(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(I(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(I(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Ae("not implemented")}};function je(t,e){I(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var An=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Ln(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Vr(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return l(this,null,function*(){let n=yield Cn(this,this.stsTokenManager.getToken(this.auth,e));return I(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Co(this,e)}reload(){return Ro(this)}_assign(e){this!==e&&(I(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){I(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return l(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Hr(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return l(this,null,function*(){let e=yield this.getIdToken();return yield Cn(this,fm(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,d;let h=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,S=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,B=(o=n.photoURL)!==null&&o!==void 0?o:void 0,ae=(a=n.tenantId)!==null&&a!==void 0?a:void 0,A=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,C=(c=n.createdAt)!==null&&c!==void 0?c:void 0,ce=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:ot,emailVerified:V,isAnonymous:at,providerData:Ft,stsTokenManager:Mn}=n;I(ot&&Mn,e,"internal-error");let Fl=Wr.fromJSON(this.name,Mn);I(typeof ot=="string",e,"internal-error"),je(h,e.name),je(p,e.name),I(typeof V=="boolean",e,"internal-error"),I(typeof at=="boolean",e,"internal-error"),je(S,e.name),je(B,e.name),je(ae,e.name),je(A,e.name),je(C,e.name),je(ce,e.name);let ni=new t({uid:ot,auth:e,email:p,emailVerified:V,displayName:h,isAnonymous:at,photoURL:B,phoneNumber:S,tenantId:ae,stsTokenManager:Fl,createdAt:C,lastLoginAt:ce});return Ft&&Array.isArray(Ft)&&(ni.providerData=Ft.map(jl=>Object.assign({},jl))),A&&(ni._redirectEventId=A),ni}static _fromIdTokenResponse(e,n,r=!1){return l(this,null,function*(){let i=new Wr;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Hr(s),s})}};var Vu=new Map;function Re(t){Oe(t instanceof Function,"Expected a class definition");let e=Vu.get(t);return e?(Oe(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Vu.set(t,e),e)}var _m=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return l(this,null,function*(){return!0})}_set(n,r){return l(this,null,function*(){this.storage[n]=r})}_get(n){return l(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return l(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),ho=_m;function xr(t,e,n){return`firebase:${t}:${e}:${n}`}var zr=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=xr(this.userKey,i.apiKey,s),this.fullPersistenceKey=xr("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return l(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?An._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return l(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return l(this,null,function*(){if(!n.length)return new t(Re(ho),e,r);let i=(yield Promise.all(n.map(c=>l(this,null,function*(){if(yield c._isAvailable())return c})))).filter(c=>c),s=i[0]||Re(ho),o=xr(r,e.config.apiKey,e.name),a=null;for(let c of n)try{let d=yield c._get(o);if(d){let h=An._fromJSON(e,d);c!==s&&(a=h),s=c;break}}catch{}let u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(c=>l(this,null,function*(){if(c!==s)try{yield c._remove(o)}catch{}}))),new t(s,e,r))})}};function Hu(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(al(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sl(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ul(e))return"Blackberry";if(ll(e))return"Webos";if(Oo(e))return"Safari";if((e.includes("chrome/")||ol(e))&&!e.includes("edge/"))return"Chrome";if(cl(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function sl(t=W()){return/firefox\//i.test(t)}function Oo(t=W()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ol(t=W()){return/crios\//i.test(t)}function al(t=W()){return/iemobile/i.test(t)}function cl(t=W()){return/android/i.test(t)}function ul(t=W()){return/blackberry/i.test(t)}function ll(t=W()){return/webos/i.test(t)}function Qr(t=W()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function bm(t=W()){var e;return Qr(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Tm(){return Iu()&&document.documentMode===10}function dl(t=W()){return Qr(t)||cl(t)||ll(t)||ul(t)||/windows phone/i.test(t)||al(t)}function Sm(){try{return!!(window&&window!==window.top)}catch{return!1}}function hl(t,e=[]){let n;switch(t){case"Browser":n=Hu(W());break;case"Worker":n=`${Hu(W())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Dt}/${r}`}var po=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return l(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Cm(n){return l(this,arguments,function*(t,e={}){return xt(t,"GET","/v2/passwordPolicy",So(t,e))})}var Am=6,fo=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Am,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var mo=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Br(this),this.idTokenSubscription=new Br(this),this.beforeStateQueue=new po(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tl,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Re(n)),this._initializationPromise=this.queue(()=>l(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield zr.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return l(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return l(this,null,function*(){var n;let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return I(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return l(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return l(this,null,function*(){try{yield Hr(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=lm()}_delete(){return l(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return l(this,null,function*(){let n=e?Ue(e):null;return n&&I(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return l(this,null,function*(){if(!this._deleted)return e&&I(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>l(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return l(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>l(this,null,function*(){yield this.assertedPersistence.setPersistence(Re(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return l(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return l(this,null,function*(){let e=yield Cm(this),n=new fo(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ce("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return l(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Em(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return l(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return l(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Re(e)||this._popupRedirectResolver;I(n,this,"argument-error"),this.redirectPersistenceManager=yield zr.create(this,[Re(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return l(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>l(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return l(this,null,function*(){if(e===this.currentUser)return this.queue(()=>l(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(I(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return l(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return I(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hl(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return l(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return l(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&om(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Dn(t){return Ue(t)}var Br=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=bu(n=>this.observer=n)}get next(){return I(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Po={loadJS(){return l(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Rm(t){Po=t}function Om(t){return Po.loadJS(t)}function Pm(){return Po.gapiScript}function pl(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function ko(t,e){let n=to(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(Rt(s,e??{}))return i;Ie(i,"already-initialized")}return n.initialize({options:e})}function km(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Re);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Do(t,e,n){let r=Dn(t);I(r._canInitEmulator,r,"emulator-config-failed"),I(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=fl(e),{host:o,port:a}=Dm(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Nm()}function fl(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Dm(t){let e=fl(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:Wu(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:Wu(o)}}}function Wu(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function Nm(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Rn=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ae("not implemented")}_getIdTokenResponse(e){return Ae("not implemented")}_linkToIdToken(e,n){return Ae("not implemented")}_getReauthenticationResolver(e){return Ae("not implemented")}};function Lt(t,e){return l(this,null,function*(){return pm(t,"POST","/v1/accounts:signInWithIdp",So(t,e))})}var Mm="http://localhost",Gr=class t extends Rn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ie("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Ln(n,["providerId","signInMethod"]);if(!r||!i)return null;let o=new t(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){let n=this.buildRequest();return Lt(e,n)}_linkToIdToken(e,n){let r=this.buildRequest();return r.idToken=n,Lt(e,r)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,Lt(e,n)}buildRequest(){let e={requestUri:Mm,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ot(n)}return e}};var On=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var qr=class extends On{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Nn=(()=>{class t extends qr{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return Gr._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})();var Pn=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return l(this,null,function*(){let s=yield An._fromIdTokenResponse(e,r,i),o=zu(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return l(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=zu(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function zu(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var go=class t extends de{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function ml(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?go._fromErrorAndOperation(t,s,e,r):s})}function Lm(t,e,n=!1){return l(this,null,function*(){let r=yield Cn(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Pn._forOperation(t,"link",r)})}function xm(t,e,n=!1){return l(this,null,function*(){let{auth:r}=t,i="reauthenticate";try{let s=yield Cn(t,ml(r,i,e,t),n);I(s.idToken,r,"internal-error");let o=Ao(s.idToken);I(o,r,"internal-error");let{sub:a}=o;return I(t.uid===a,r,"user-mismatch"),Pn._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Ie(r,"user-mismatch"),s}})}function Um(t,e,n=!1){return l(this,null,function*(){let r="signIn",i=yield ml(t,r,e),s=yield Pn._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function No(t,e,n,r){return Ue(t).onIdTokenChanged(e,n,r)}function Mo(t,e,n){return Ue(t).beforeAuthStateChanged(e,n)}function Lo(t){return Ue(t).signOut()}var Kr="__sak";var Yr=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Kr,"1"),this.storage.removeItem(Kr),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function Fm(){let t=W();return Oo(t)||Qr(t)}var jm=1e3,$m=10,Vm=(()=>{class t extends Yr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Fm()&&Sm(),this.fallbackToPolling=dl(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);Tm()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,$m):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},jm)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return l(this,null,function*(){yield $e(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return l(this,null,function*(){let r=yield $e(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return l(this,null,function*(){yield $e(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),gl=Vm;var Hm=(()=>{class t extends Yr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),xo=Hm;function Wm(t){return Promise.all(t.map(e=>l(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var zm=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return l(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(a).map(d=>l(this,null,function*(){return d(r.origin,o)})),c=yield Wm(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:c})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function Uo(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var vo=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return l(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{let c=Uo("",20);i.port1.start();let d=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){let p=h;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function ye(){return window}function Bm(t){ye().location.href=t}function vl(){return typeof ye().WorkerGlobalScope<"u"&&typeof ye().importScripts=="function"}function Gm(){return l(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function qm(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Km(){return vl()?self:null}var yl="firebaseLocalStorageDb",Ym=1,Jr="firebaseLocalStorage",Il="fbase_key",rt=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function ei(t,e){return t.transaction([Jr],e?"readwrite":"readonly").objectStore(Jr)}function Jm(){let t=indexedDB.deleteDatabase(yl);return new rt(t).toPromise()}function yo(){let t=indexedDB.open(yl,Ym);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Jr,{keyPath:Il})}catch(i){n(i)}}),t.addEventListener("success",()=>l(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Jr)?e(r):(r.close(),yield Jm(),e(yield yo()))}))})}function Bu(t,e,n){return l(this,null,function*(){let r=ei(t,!0).put({[Il]:e,value:n});return new rt(r).toPromise()})}function Xm(t,e){return l(this,null,function*(){let n=ei(t,!1).get(e),r=yield new rt(n).toPromise();return r===void 0?null:r.value})}function Gu(t,e){let n=ei(t,!0).delete(e);return new rt(n).toPromise()}var Zm=800,Qm=3,eg=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return l(this,null,function*(){return this.db?this.db:(this.db=yield yo(),this.db)})}_withRetries(n){return l(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>Qm)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return l(this,null,function*(){return vl()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return l(this,null,function*(){this.receiver=zm._getInstance(Km()),this.receiver._subscribe("keyChanged",(n,r)=>l(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>l(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return l(this,null,function*(){var n,r;if(this.activeServiceWorker=yield Gm(),!this.activeServiceWorker)return;this.sender=new vo(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return l(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||qm()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return l(this,null,function*(){try{if(!indexedDB)return!1;let n=yield yo();return yield Bu(n,Kr,"1"),yield Gu(n,Kr),!0}catch{}return!1})}_withPendingWrite(n){return l(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return l(this,null,function*(){return this._withPendingWrite(()=>l(this,null,function*(){return yield this._withRetries(i=>Bu(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return l(this,null,function*(){let r=yield this._withRetries(i=>Xm(i,n));return this.localCache[n]=r,r})}_remove(n){return l(this,null,function*(){return this._withPendingWrite(()=>l(this,null,function*(){return yield this._withRetries(r=>Gu(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return l(this,null,function*(){let n=yield this._withRetries(s=>{let o=ei(s,!1).getAll();return new rt(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>l(this,null,function*(){return this._poll()}),Zm)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),wl=eg;var $w=pl("rcb"),Vw=new nt(3e4,6e4);function El(t,e){return e?Re(e):(I(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var kn=class extends Rn{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Lt(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Lt(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Lt(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function tg(t){return Um(t.auth,new kn(t),t.bypassAuthState)}function ng(t){let{auth:e,user:n}=t;return I(n,e,"internal-error"),xm(n,new kn(t),t.bypassAuthState)}function rg(t){return l(this,null,function*(){let{auth:e,user:n}=t;return I(n,e,"internal-error"),Lm(n,new kn(t),t.bypassAuthState)})}var Xr=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>l(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return l(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(c){this.reject(c)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tg;case"linkViaPopup":case"linkViaRedirect":return rg;case"reauthViaPopup":case"reauthViaRedirect":return ng;default:Ie(this.auth,"internal-error")}}resolve(e){Oe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Oe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var ig=new nt(2e3,1e4);function ti(t,e,n){return l(this,null,function*(){let r=Dn(t);am(t,e,On);let i=El(r,n);return new sg(r,"signInViaPopup",e,i).executeNotNull()})}var sg=(()=>{class t extends Xr{constructor(n,r,i,s,o){super(n,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){return l(this,null,function*(){let n=yield this.execute();return I(n,this.auth,"internal-error"),n})}onExecution(){return l(this,null,function*(){Oe(this.filter.length===1,"Popup operations only handle one event");let n=Uo();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(ve(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var n;return((n=this.authWindow)===null||n===void 0?void 0:n.associatedEvent)||null}cancel(){this.reject(ve(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let n=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ve(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,ig.get())};n()}}t.currentPopupAction=null;return t})(),og="pendingRedirect",Ur=new Map,Io=class t extends Xr{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return l(this,null,function*(){let e=Ur.get(this.auth._key());if(!e){try{let r=(yield ag(this.resolver,this.auth))?yield $e(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ur.set(this.auth._key(),e)}return this.bypassAuthState||Ur.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return l(this,null,function*(){if(e.type==="signInViaRedirect")return $e(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,$e(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return l(this,null,function*(){})}cleanUp(){}};function ag(t,e){return l(this,null,function*(){let n=lg(e),r=ug(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function cg(t,e){Ur.set(t._key(),e)}function ug(t){return Re(t._redirectPersistence)}function lg(t){return xr(og,t.config.apiKey,t.name)}function Fo(t,e){return l(this,null,function*(){return yield Dn(t)._initializationPromise,_l(t,e,!1)})}function _l(t,e,n=!1){return l(this,null,function*(){let r=Dn(t),i=El(r,e),o=yield new Io(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var dg=10*60*1e3,wo=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hg(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!bl(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ve(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=dg&&this.cachedEventUids.clear(),this.cachedEventUids.has(qu(e))}saveEventToCache(e){this.cachedEventUids.add(qu(e)),this.lastProcessedEventTime=Date.now()}};function qu(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function bl({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function hg(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bl(t);default:return!1}}function pg(n){return l(this,arguments,function*(t,e={}){return xt(t,"GET","/v1/projects",e)})}var fg=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mg=/^https?/;function gg(t){return l(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield pg(t);for(let n of e)try{if(vg(n))return}catch{}Ie(t,"unauthorized-domain")})}function vg(t){let e=co(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!mg.test(n))return!1;if(fg.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var yg=new nt(3e4,6e4);function Ku(){let t=ye().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Ig(t){return new Promise((e,n)=>{var r,i,s;function o(){Ku(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ku(),n(ve(t,"network-request-failed"))},timeout:yg.get()})}if(!((i=(r=ye().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ye().gapi)===null||s===void 0)&&s.load)o();else{let a=pl("iframefcb");return ye()[a]=()=>{gapi.load?o():n(ve(t,"network-request-failed"))},Om(`${Pm()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Fr=null,e})}var Fr=null;function wg(t){return Fr=Fr||Ig(t),Fr}var Eg=new nt(5e3,15e3),_g="__/auth/iframe",bg="emulator/auth/iframe",Tg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Sg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Cg(t){let e=t.config;I(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?To(e,bg):`https://${t.config.authDomain}/${_g}`,r={apiKey:e.apiKey,appName:t.name,v:Dt},i=Sg.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ot(r).slice(1)}`}function Ag(t){return l(this,null,function*(){let e=yield wg(t),n=ye().gapi;return I(n,t,"internal-error"),e.open({where:document.body,url:Cg(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Tg,dontclear:!0},r=>new Promise((i,s)=>l(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=ve(t,"network-request-failed"),a=ye().setTimeout(()=>{s(o)},Eg.get());function u(){ye().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var Rg={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Og=500,Pg=600,kg="_blank",Dg="http://localhost",Zr=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Ng(t,e,n,r=Og,i=Pg){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},Rg),{width:r.toString(),height:i.toString(),top:s,left:o}),c=W().toLowerCase();n&&(a=ol(c)?kg:n),sl(c)&&(e=e||Dg,u.scrollbars="yes");let d=Object.entries(u).reduce((p,[S,B])=>`${p}${S}=${B},`,"");if(bm(c)&&a!=="_self")return Mg(e||"",a),new Zr(null);let h=window.open(e||"",a,d);I(h,t,"popup-blocked");try{h.focus()}catch{}return new Zr(h)}function Mg(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Lg="__/auth/handler",xg="emulator/auth/handler",Ug=encodeURIComponent("fac");function Yu(t,e,n,r,i,s){return l(this,null,function*(){I(t.config.authDomain,t,"auth-domain-config-required"),I(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Dt,eventId:i};if(e instanceof On){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",_u(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,h]of Object.entries(s||{}))o[d]=h}if(e instanceof qr){let d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let u=yield t._getAppCheckToken(),c=u?`#${Ug}=${encodeURIComponent(u)}`:"";return`${Fg(t)}?${Ot(a).slice(1)}${c}`})}function Fg({config:t}){return t.emulator?To(t,xg):`https://${t.authDomain}/${Lg}`}var ao="webStorageSupport",Eo=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xo,this._completeRedirectFn=_l,this._overrideRedirectResult=cg}_openPopup(e,n,r,i){return l(this,null,function*(){var s;Oe((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield Yu(e,n,r,co(),i);return Ng(e,o,Uo())})}_openRedirect(e,n,r,i){return l(this,null,function*(){yield this._originValidation(e);let s=yield Yu(e,n,r,co(),i);return Bm(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Oe(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return l(this,null,function*(){let n=yield Ag(e),r=new wo(e);return n.register("authEvent",i=>(I(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ao,{type:ao},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[ao];o!==void 0&&n(!!o),Ie(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=gg(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return dl()||Oo()||Qr()}},Tl=Eo;var Ju="@firebase/auth",Xu="1.6.1";var _o=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return l(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){I(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function jg(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $g(t){kt(new me("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;I(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hl(t)},c=new mo(r,i,s,u);return km(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),kt(new me("auth-internal",e=>{let n=Dn(e.getProvider("auth").getImmediate());return(r=>new _o(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Y(Ju,Xu,jg(t)),Y(Ju,Xu,"esm2017")}var Vg=5*60,Hg=$s("authIdTokenMaxAge")||Vg,Zu=null,Wg=t=>e=>l(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Hg)return;let i=n?.token;Zu!==i&&(Zu=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function jo(t=Rr()){let e=to(t,"auth");if(e.isInitialized())return e.getImmediate();let n=ko(t,{popupRedirectResolver:Tl,persistence:[wl,gl,xo]}),r=$s("authTokenSyncURL");if(r){let s=Wg(r);Mo(n,s,()=>s(n.currentUser)),No(n,o=>s(o))}let i=mu("auth");return i&&Do(n,`http://${i}`),n}function zg(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Rm({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=ve("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",zg().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$g("Browser");var Sl="auth",it=class{constructor(e){return e}},$o=class{constructor(){return io(Sl)}};var Vo=new k("angularfire2.auth-instances");function Lv(t,e){let n=Uu(Sl,t,e);return n&&new it(n)}function xv(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new it(r)}}var Uv={provide:$o,deps:[[new we,Vo]]},Fv={provide:it,useFactory:Lv,deps:[[new we,Vo],tt]},jv=(()=>{class t{constructor(){Y("angularfire",bn.full,"auth")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=De({type:t});static \u0275inj=ke({providers:[Fv,Uv]})}return t})();function Cl(t,...e){return{ngModule:jv,providers:[{provide:Vo,useFactory:xv(t),multi:!0,deps:[U,ue,Dr,Tn,[new we,Pr],...e]}]}}var Al=Mt(jo,!0);var Rl=Mt(Fo,!0);var Ol=Mt(Lo,!0);var Ut="robertly-idtoken",Pl=(()=>{let e=class e{constructor(){this.http=f(Ge),this.apiUrl=f(Xe),this.auth=f(it),this.toastService=f(Tr)}signIn(r){return this.http.post(`${this.apiUrl}/auth/signin`,r,{responseType:"text"}).pipe(P(i=>{localStorage.setItem(Ut,i)}))}signInWithGoogle(){return l(this,null,function*(){let r=new Nn;r.addScope("https://www.googleapis.com/auth/userinfo.email"),this.auth.useDeviceLanguage();let i=yield ti(this.auth,r),s=Nn.credentialFromResult(i);if(s){let o=yield ai(this.http.post(`${this.apiUrl}/auth/signup/google`,{accessToken:s.accessToken},{responseType:"text"}));localStorage.setItem(Ut,o),this.toastService.ok("Successfully signed in with Google")}})}signOut(){return l(this,null,function*(){try{yield Ol(this.auth),this.toastService.ok("Successfully signed out"),localStorage.removeItem(Ut)}catch(r){this.toastService.error(JSON.stringify(r))}})}handleRedirectResult(){return l(this,null,function*(){window.addEventListener("beforeunload",()=>{Object.keys(window.sessionStorage).find(i=>/^firebase:pendingRedirect:/.test(i))||console.log("firebase:pendingRedirect: key missing from sessionStorage, getRedirectResult() will return null")});try{let r=yield Rl(this.auth);if(r){let i=Nn.credentialFromResult(r);if(i){let s=yield ai(this.http.post(`${this.apiUrl}/auth/signup/google`,{accessToken:i.accessToken},{responseType:"text"}));localStorage.setItem(Ut,s),this.toastService.ok("Successfully signed in with Google")}else this.toastService.error("Couldn't get credential from result.")}else this.toastService.error("Couldn't get a response from redirect.")}catch(r){let i=r;this.toastService.error(JSON.stringify(r))}})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function $v(t,e){if(t&1){let n=Te();b(0,"div",18)(1,"button",19),L("click",function(){let s=G(n).$implicit;return q(s.dismiss("Cross click"))}),w()(),b(2,"div",20)(3,"a",21),L("click",function(){let s=G(n).$implicit;return q(s.dismiss())}),N(4,"Sign In"),w(),b(5,"a",21),L("click",function(){let s=G(n).$implicit;return q(s.dismiss())}),N(6,"Sign Up"),w(),b(7,"a",22),L("click",function(){let s=G(n).$implicit;return F().authApiService.signOut(),q(s.dismiss())}),N(8,"Sign out"),w(),b(9,"a",21),L("click",function(){let s=G(n).$implicit;return q(s.dismiss())}),N(10,"Exercises"),w(),b(11,"a",21),L("click",function(){let s=G(n).$implicit;return q(s.dismiss())}),N(12,"Developer"),w()()}if(t&2){let n=F();y(3),$("routerLink",n.Paths.SIGN_IN),y(2),$("routerLink",n.Paths.SIGN_UP),y(4),$("routerLink",n.Paths.EXERCISES),y(2),$("routerLink",n.Paths.DEVELOPER)}}function Vv(t,e){if(t&1){let n=Te();b(0,"ngb-toast",23),L("hidden",function(){let s=G(n).$implicit,o=F();return q(o.toastService.remove(s))}),b(1,"ngb-alert",24),L("closed",function(){let s=G(n).$implicit,o=F();return q(o.toastService.remove(s))}),N(2),w()()}if(t&2){let n=e.$implicit;$("autohide",!0)("delay",n.delay||3e3),y(1),$("type",n.type),y(1),he(n.text)}}var Hv=t=>({active:t});function Wv(t,e){if(t&1){let n=Te();b(0,"button",29),L("click",function(){let s=G(n).$implicit,o=F(2);return q(o.exerciseLogService.selectedUsername$.next(s))}),N(1),Hn(2,"titlecase"),w()}if(t&2){let n=e.$implicit,r=F(2);$("ngClass",zt(4,Hv,n===r.exerciseLogService.selectedUsername())),y(1),ze(" ",Wn(2,2,n)," ")}}function zv(t,e){if(t&1){let n=Te();b(0,"div",25)(1,"button",26),N(2),Hn(3,"titlecase"),w(),b(4,"div",27)(5,"button",28),L("click",function(){G(n);let i=F();return q(i.exerciseLogService.selectedUsername$.next(null))}),N(6,"All Users"),w(),Ht(7,Wv,3,6,"button",30,_i),w()()}if(t&2){let n=F();y(2),ze(" ",Wn(3,1,n.exerciseLogService.selectedUsernameLabel())," "),y(5),Wt(n.exerciseLogService.usernames())}}function Bv(t,e){if(t&1&&(b(0,"div",31)(1,"button",32),N(2),Hn(3,"titlecase"),w()()),t&2){let n=F();y(2),ze(" ",Wn(3,1,n.exerciseLogService.usernames()[0])," ")}}function Gv(t,e){if(t&1){let n=Te();b(0,"button",33),L("click",function(){G(n);let i=F();return q(i.open("create"))}),ie(1,"i",34),w()}}var qv=t=>({spin:t}),Kv=()=>({exact:!0}),Ho="robertly-get-data-cache",kl="robertly-exercise-logs",Dl="robertly-exercises",Wo="robertly-create-log-value",Yv=5*60,Nl=t=>{let e=t,n=null;return ki.required(e.controls.user)&&(n=M(m({},n??{}),{userRequired:"Username is required"})),e.value.user==="peron"&&(n=M(m({},n??{}),{userInvalidPeron:"Peron is not allowed"})),ki.required(e.controls.exercise)&&(n=M(m({},n??{}),{exerciseRequired:"Exercise is required"})),e.value.exercise?.name?.toLowerCase()==="peron"&&(n=M(m({},n??{}),{exerciseInvalidPeron:"Peron is not allowed"})),e.controls.series.value.map(s=>(s.reps??0)>0&&(s.weightInKg??0)>0).every(s=>!s)&&(n=M(m({},n??{}),{seriesAllSeriesAreEmpty:"Needs at least one serie"})),e.controls.series.value.some(s=>!Number.isInteger(s.reps??0))&&(n=M(m({},n??{}),{seriesRepsMustBeInteger:"Reps needs to be whole numbers"})),n},Ml=(()=>{let e=class e{constructor(){this.exerciseLogService=f(Kt),this.toastService=f(Tr),this.authApiService=f(Pl),this.exerciseLogApiService=f(uu),this.exerciseApiService=f(lu),this.serviceWorkerUpdates=f(Ni),this.modalService=f(Qa),this.document=f(H),this.dayjsService=f(Ma),this.dayjs=this.dayjsService.instance,this.injector=f(ue),this.offcanvasService=f(ic),this.createLogFormGroup=new Z({user:new O(""),userId:new O(""),exercise:new O(null),date:new O(""),series:new Di([new Z({reps:new O,weightInKg:new O}),new Z({reps:new O,weightInKg:new O}),new Z({reps:new O,weightInKg:new O}),new Z({reps:new O,weightInKg:new O}),new Z({reps:new O,weightInKg:new O})])},[Nl]),this.updateLogFormGroup=new Z({user:new O(""),userId:new O(""),exercise:new O(null),date:new O(""),series:new Di([new Z({reps:new O,weightInKg:new O}),new Z({reps:new O,weightInKg:new O}),new Z({reps:new O,weightInKg:new O}),new Z({reps:new O,weightInKg:new O}),new Z({reps:new O,weightInKg:new O})])},[Nl]),this.isSpinning=!1,this.Paths=st;let r=localStorage.getItem(Ho),i=!1;if(!r)localStorage.setItem(Ho,this.dayjs().unix().toString()),i=!0;else{let s=this.dayjs.unix(+r);this.dayjs().diff(s,"seconds")>Yv&&(i=!0,localStorage.setItem(Ho,this.dayjs().unix().toString()))}this.fetchData(i,i),this.serviceWorkerUpdates.unrecoverable.pipe(qt()).subscribe(s=>console.error(s)),this.serviceWorkerUpdates.versionUpdates.pipe(P(s=>{console.log(s),this.toastService.show({text:s.type,type:"secondary"})}),z(s=>s.type==="VERSION_READY")).subscribe(()=>{this.document.location.reload()}),this.createLogFormGroup.valueChanges.pipe(qt(),Qo(1e3)).subscribe(s=>localStorage.setItem(Wo,JSON.stringify(s))),this.exerciseLogService.logClicked$.pipe(qt()).subscribe(s=>{this.updateLogFormGroup.reset(),this.updateLogFormGroup.patchValue({exercise:s.exercise,date:this.dayjsService.parseDate(s.date).format("YYYY-MM-DD"),user:s.username,series:s.series.map(o=>({reps:o.reps,weightInKg:o.weightInKg}))}),this.open("update",s)}),this.exerciseLogService.deleteLog$.pipe(j(s=>this.exerciseLogApiService.deleteExerciseLog(s.id).pipe(P(()=>{this.fetchData(),this.toastService.ok("Log deleted successfully!")}))),qt()).subscribe()}ngOnInit(){let r=JSON.parse(localStorage.getItem(Wo)??"null");r&&this.createLogFormGroup.patchValue(r)}open(r,i){let s=this.modalService.open(du,{centered:!0,injector:this.injector}),o=s.componentInstance;o.createOrUpdateLogFormGroup=r==="update"?this.updateLogFormGroup:this.createLogFormGroup,o.mode=r,r==="create"&&!this.createLogFormGroup.value.date&&this.createLogFormGroup.controls.date.patchValue(this.dayjs().format("YYYY-MM-DD")),i&&(o.originalValue=i),s.result.then(()=>{if(r==="create"){if(this.createLogFormGroup.invalid)return;let a=this.exerciseLogService.logs().find(c=>c.user.toLowerCase()===this.createLogFormGroup.value.user?.toLowerCase()&&!!c.userId)??null,u={date:this.dayjsService.parseDate(this.createLogFormGroup.value.date).format("YYYY-MM-DD"),exerciseId:this.createLogFormGroup.value.exercise.id,user:a?.user??this.createLogFormGroup.value.user.toLowerCase(),userId:a?.userId??null,series:(this.createLogFormGroup.value.series??[]).filter(c=>!!c.reps&&!!c.weightInKg).map(c=>({reps:+c.reps,weightInKg:+c.weightInKg.toFixed(1)}))};this.exerciseLogApiService.createExerciseLog(u).subscribe({next:()=>{this.createLogFormGroup.reset(),localStorage.removeItem(Wo),this.fetchData(),this.toastService.ok("Log created successfully!")},error:()=>{this.fetchData(),this.toastService.error()}})}else{if(this.updateLogFormGroup.invalid)return;let a=this.exerciseLogService.logs().find(c=>c.user.toLowerCase()===this.updateLogFormGroup.value.user?.toLowerCase()&&!!c.userId)??null,u={id:i.id,date:this.dayjsService.parseDate(this.updateLogFormGroup.value.date).format("YYYY-MM-DD"),exerciseId:this.updateLogFormGroup.value.exercise.id,user:a?.user??this.updateLogFormGroup.value.user.toLowerCase(),userId:a?.userId??null,series:(this.updateLogFormGroup.value.series??[]).filter(c=>!!c.reps&&!!c.weightInKg).map(c=>({reps:+c.reps,weightInKg:+c.weightInKg.toFixed(1)}))};this.exerciseLogApiService.updateExerciseLog(u).subscribe({next:()=>{this.updateLogFormGroup.reset(),this.fetchData(),this.toastService.ok("Log updated successfully!")},error:()=>{this.fetchData(),this.toastService.error()}})}},()=>{this.createLogFormGroup.markAsPristine(),this.updateLogFormGroup.markAsPristine()})}fetchData(r=!1,i=!0){let s=JSON.parse(localStorage.getItem(Dl)??"[]"),o=JSON.parse(localStorage.getItem(kl)??"[]"),a=this.exerciseApiService.getExercises(),u=this.exerciseLogApiService.getExerciseLogsv2();!r&&s.length&&(a=g(s)),!i&&o.length&&(u=g(o)),this.exerciseLogService.withLoading(Zo([u,a]).pipe(P(([c,d])=>{localStorage.setItem(kl,JSON.stringify(c)),localStorage.setItem(Dl,JSON.stringify(d)),this.exerciseLogService.updateLogs$.next(c),this.exerciseLogService.updateExercises$.next(d)})))}openSidebar(r){this.offcanvasService.open(r,{position:"end"})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=pt({type:e,selectors:[["app-root"]],standalone:!0,features:[_a([Kt]),gt],decls:27,vars:11,consts:[["content",""],[1,"toast-container"],[1,"navbar","navbar-dark","bg-primary","bg-gradient","fw-bold","px-1"],[1,"container-fluid","d-flex","justify-content-end","align-items-center"],["ngbDropdown","","display","dynamic","class","d-flex justify-content-end"],["type","button",1,"btn","me-3",2,"outline","none","border","none","padding","0"],[1,"fa","fa-refresh",2,"font-size","22px","color","white",3,"ngClass","click","animationend"],["type","button",1,"btn",2,"outline","none","border","none","padding","0"],[1,"fa","fa-bars",2,"font-size","22px","color","white",3,"click"],["class","btn btn-lg btn-primary"],[1,"navbar","navbar-dark","bg-primary","bg-gradient","fixed-bottom","fw-bold"],[1,"container-fluid"],[1,"navbar-nav","flex-row","gap-3","justify-content-center","w-100"],[1,"nav-item","w-100"],["routerLinkActive","active",1,"nav-link","text-center","d-flex","justify-content-center","align-items-center","gap-2",3,"routerLink","routerLinkActiveOptions"],[1,"fa","fa-history"],["routerLinkActive","active",1,"nav-link","text-center","d-flex","justify-content-center","align-items-center","gap-2",3,"routerLink"],[1,"fa","fa-bar-chart"],[1,"offcanvas-header"],["type","button","aria-label","Close",1,"btn-close",2,"margin-left","auto",3,"click"],[1,"offcanvas-body"],[3,"routerLink","click"],[1,"link-primary",3,"click"],[3,"autohide","delay","hidden"],[3,"type","closed"],["ngbDropdown","","display","dynamic",1,"d-flex","justify-content-end"],["type","button","ngbDropdownToggle","",1,"btn","d-flex","justify-content-between","align-items-center","me-3",2,"outline","none","border","none","color","white","font-weight","500"],["ngbDropdownMenu",""],["ngbDropdownItem","",3,"click"],["ngbDropdownItem","",3,"ngClass","click"],["ngbDropdownItem","",3,"ngClass"],["display","dynamic",1,"d-flex","justify-content-end"],["type","button",1,"btn","d-flex","justify-content-between","align-items-center","me-3",2,"outline","none","border","none","color","white","font-weight","500"],[1,"btn","btn-lg","btn-primary",3,"click"],[1,"fa","fa-plus"],[3,"autohide","delay"]],template:function(i,s){if(i&1){let o=Te();be(0,$v,13,4,"ng-template",null,0,Ra),b(2,"div",1),Ht(3,Vv,3,4,"ngb-toast",35,_i),w(),b(5,"nav",2)(6,"div",3),be(7,zv,9,3,"div",4)(8,Bv,4,3),b(9,"button",5)(10,"i",6),L("click",function(){return s.isSpinning=!0,s.fetchData(!0,!0)})("animationend",function(){return s.isSpinning=!1}),w()(),b(11,"button",7)(12,"i",8),L("click",function(){G(o);let u=Ea(1);return q(s.openSidebar(u))}),w()()()(),b(13,"div"),ie(14,"router-outlet"),w(),be(15,Gv,2,0,"button",9),b(16,"nav",10)(17,"div",11)(18,"ul",12)(19,"li",13)(20,"a",14),N(21," Logs "),ie(22,"i",15),w()(),b(23,"li",13)(24,"a",16),N(25," Stats "),ie(26,"i",17),w()()()()()}i&2&&(y(3),Wt(s.toastService.toasts),y(4),re(7,s.exerciseLogService.usernames().length>1?7:8),y(3),$("ngClass",zt(8,qv,s.isSpinning)),y(3),va("margin-bottom",8,"rem"),y(2),re(15,s.exerciseLogService.loaded()?15:-1),y(5),$("routerLink",s.Paths.LOGS)("routerLinkActiveOptions",Sa(10,Kv)),y(4),$("routerLink",s.Paths.STATS))},dependencies:[Yn,Jn,wr,au,Cs,Xa,Ja,Ya,Ka,Ga,qa,sc,tc,ec,Ba,za],styles:["nav.navbar.fixed-bottom[_ngcontent-%COMP%]{padding-bottom:max(env(safe-area-inset-bottom),.8rem);border-top-left-radius:10px;border-top-right-radius:10px}button[_ngcontent-%COMP%]:focus   i.fa.fa-refresh.spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate 1s ease-in-out 0s}@keyframes _ngcontent-%COMP%_rotate{0%{transform:rotate(0)}to{transform:rotate(720deg)}}button[_ngcontent-%COMP%]:has(.fa.fa-plus){border-radius:100%;position:fixed;right:25px;bottom:75px;z-index:4}@supports (-webkit-hyphens: none){button[_ngcontent-%COMP%]:has(.fa.fa-plus){bottom:100px}}.toast-container[_ngcontent-%COMP%]{position:fixed;top:15px;left:50%;transform:translate(-50%);z-index:1200}.toast-container[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:last-child){--bs-toast-spacing: .5rem}.offcanvas-body[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]});let t=e;return t})();var Jv="@",zo=class{constructor(e,n,r,i,s){this.doc=e,this.delegate=n,this.zone=r,this.animationType=i,this.moduleImpl=s,this._rendererFactoryPromise=null}loadImpl(){return(this.moduleImpl??import("./chunk-2TQZJVSN.js")).catch(n=>{throw new x(5300,!1)}).then(({\u0275createEngine:n,\u0275AnimationRendererFactory:r})=>{let i=n(this.animationType,this.doc),s=new r(this.delegate,i,this.zone);return this.delegate=s,s})}createRenderer(e,n){let r=this.delegate.createRenderer(e,n);if(r.\u0275type===0)return r;typeof r.throwOnSyntheticProps=="boolean"&&(r.throwOnSyntheticProps=!1);let i=new Bo(r);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(s=>{let o=s.createRenderer(e,n);i.use(o)}).catch(s=>{i.use(r)}),i}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}},Bo=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let n of this.replay)n(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,n){this.delegate.appendChild(e,n)}insertBefore(e,n,r,i){this.delegate.insertBefore(e,n,r,i)}removeChild(e,n,r){this.delegate.removeChild(e,n,r)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){this.shouldReplay(n)&&this.replay.push(i=>i.setProperty(e,n,r)),this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.shouldReplay(n)&&this.replay.push(i=>i.listen(e,n,r)),this.delegate.listen(e,n,r)}shouldReplay(e){return this.replay!==null&&e.startsWith(Jv)}};function Ll(t="animations"){return Ee([{provide:jn,useFactory:(e,n,r)=>new zo(e,n,r,t),deps:[H,ir,U]},{provide:ha,useValue:t==="noop"?"NoopAnimations":"BrowserAnimations"}])}var xl={apiUrl:"https://robertly.azurewebsites.net/api"};function Ul(t,e){let n=localStorage.getItem(Ut);return n&&(t=t.clone({setHeaders:{Authorization:`Bearer ${n}`}})),e(t)}var st={LOGS:"",STATS:"stats",EXERCISES:"exercises",SIGN_IN:"signin",SIGN_UP:"signup",DEVELOPER:"developer"},Xv=[{path:st.EXERCISES,loadComponent:()=>import("./chunk-HNS4F6UG.js").then(t=>t.ExercisesPageComponent)},{path:st.STATS,loadComponent:()=>import("./chunk-HDQBI5YP.js").then(t=>t.StatsPageComponent)},{path:st.SIGN_IN,loadComponent:()=>import("./chunk-LBMOAHIX.js").then(t=>t.SignInComponent)},{path:st.LOGS,pathMatch:"full",loadComponent:()=>import("./chunk-L2DIEPID.js").then(t=>t.ExerciseLogsPageComponent)},{path:st.DEVELOPER,pathMatch:"full",loadComponent:()=>import("./chunk-WUXZRBWO.js").then(t=>t.DeveloperPageComponent)}],Xe=new k("API_URL");Cc(Ml,{providers:[Jn,Ll(),yc(Ic([Ul])),cu(Xv),uc("ngsw-worker.js",{enabled:!Pa()}),gi(Fu(()=>ju({projectId:"gymtracker-b0b72",appId:"1:1063566206093:web:a3154a1ae143b91f05eec4",storageBucket:"gymtracker-b0b72.appspot.com",apiKey:"AIzaSyCA0ExS-7mRUULdk7CYFORL5zwYXd4lJ-E",authDomain:"auth.robertly.ar",messagingSenderId:"1063566206093"}))),gi(Cl(()=>Al())),{provide:Xe,useValue:xl.apiUrl}]}).catch(t=>console.error(t));export{lu as a,Ut as b,Pl as c,st as d,Xe as e};
