import{e as d}from"./chunk-PTTVQ2HQ.js";import{Ia as o,Ja as u,Ka as c,Mb as f,fa as l,gc as p,kb as h,ma as a}from"./chunk-LMMDHK2G.js";var _=(()=>{class s{constructor(){this.allowDecimals=o(!0),this.element=a(u),this._onChange=()=>{},this._onTouched=()=>{},this.value=c("")}onInput(t){let e=t.target.value;if(e=e.replace(",",".").replace(/[^0-9.]/g,""),this.allowDecimals()){e=e.replace(/[^0-9.]/g,"");let i=e.split(".");i.length>2&&(e=i[0]+"."+i.slice(1).join(""))}else e=e.replace(/\D/g,"");e.startsWith(".")?e="":e.startsWith("0")&&e[1]&&(e[1]==="0"?e=e.replace(/^0+/,"0"):e[1]!=="."&&(e=e.replace(/^0+/,""))),this.element.nativeElement.value=e,this.value.set(e),this._onChange(e)}onBlur(){this._onTouched()}onKeyPress(t){["Backspace","ArrowLeft","ArrowRight","Tab","Delete"].includes(t.key)||/[\d.,]/.test(t.key)||t.preventDefault()}writeValue(t){this.value.set(t),this.element.nativeElement.value=this.value()}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.element.nativeElement.disabled=t}static{this.\u0275fac=function(e){return new(e||s)}}static{this.\u0275dir=h({type:s,selectors:[["","onlyNumbers",""]],hostBindings:function(e,i){e&1&&f("input",function(n){return i.onInput(n)})("blur",function(){return i.onBlur()})("keypress",function(n){return i.onKeyPress(n)})},inputs:{allowDecimals:[1,"allowDecimals"]},features:[p([{provide:d,useExisting:l(()=>s),multi:!0}])]})}}return s})();export{_ as a};
