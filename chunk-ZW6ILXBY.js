import{A as xc,D as Uc,E as Or,J as Fc,K as Pr,a as Nc,r as Mc,s as Ar,y as Cr,z as Lc}from"./chunk-C5LQ3MSO.js";import{a as cs,b as Cc,c as Oc,d as de,e as us,f as br,g as Tr,j as Pc,k as kc,o as Dc,p as ls,q as Sr,r as Rr}from"./chunk-CMFT27PF.js";import{$ as Ha,$a as sc,$b as yc,A as Bt,Aa as Yi,B as D,Ba as Za,Bb as dc,Bc as Sc,C as Vi,Ca as mt,Cb as pe,Cc as wr,D as Se,Db as hc,E as zi,Ea as Qa,Ec as Rc,F as pr,Fa as gr,Fc as Er,G as Wt,Ga as Yt,Gb as fc,Ha as ae,Hb as Rt,Hc as as,I as Bi,Ia as Ki,Ib as pc,Ja as ec,Jb as mc,K as Wi,Ka as tc,Kb as gc,Kc as Ac,L as Ht,La as Ji,Lb as M,M as Ie,Ma as nc,Mb as L,Na as Xi,Nb as ge,Oa as rc,Pa as Re,Q as ft,Qa as ic,Qb as At,R as Tt,Ra as Zi,S as Hi,T as fe,U as Ba,Ua as Qi,Ub as Z,V as Wa,Vb as ue,Y as qt,Ya as En,Z as pt,Zb as vc,_ as qi,_a as es,a as b,aa as qa,ab as bn,ac as _c,b as ce,ba as Ga,bb as B,ca as Ya,cb as Le,d as In,da as te,db as ts,dc as Ic,e as wn,ea as Ka,ec as Q,f as bt,fa as W,fb as oc,fc as wc,g as l,gb as vr,gc as gt,h as xa,ha as X,hb as ns,i as Ua,ib as ac,j as zt,ja as O,jb as ze,k as Ui,l as Fi,la as Ja,lb as yr,m as Ve,ma as U,n as Te,na as Gi,nb as _r,o as Fa,oa as x,ob as cc,oc as ss,p as ja,pa as f,pb as rs,q as ht,qa as et,qb as is,r as fr,ra as we,rb as St,s as ji,sa as Xa,sb as uc,t as $i,ta as Gt,tb as Be,u as oe,ua as De,v as R,vc as Ec,w as ke,wa as mr,wc as Ir,x as $a,xa as Ne,xb as lc,xc as bc,y as Va,ya as Me,yb as Kt,yc as os,z as za,zc as Tc}from"./chunk-LYCTWYRR.js";var Aa=In((Sa,Ra)=>{"use strict";(function(n,t){typeof Sa=="object"&&typeof Ra<"u"?Ra.exports=t():typeof define=="function"&&define.amd?define(t):(n=typeof globalThis<"u"?globalThis:n||self).dayjs=t()})(Sa,function(){"use strict";var n=1e3,t=6e4,e=36e5,r="millisecond",i="second",s="minute",o="hour",c="day",a="week",u="month",d="quarter",h="year",y="date",p="Invalid Date",E=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,I=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,_={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(T){var v=["th","st","nd","rd"],m=T%100;return"["+T+(v[(m-20)%10]||v[m]||v[0])+"]"}},F=function(T,v,m){var w=String(T);return!w||w.length>=v?T:""+Array(v+1-w.length).join(m)+T},G={s:F,z:function(T){var v=-T.utcOffset(),m=Math.abs(v),w=Math.floor(m/60),g=m%60;return(v<=0?"+":"-")+F(w,2,"0")+":"+F(g,2,"0")},m:function T(v,m){if(v.date()<m.date())return-T(m,v);var w=12*(m.year()-v.year())+(m.month()-v.month()),g=v.clone().add(w,u),S=m-g<0,A=v.clone().add(w+(S?-1:1),u);return+(-(w+(m-g)/(S?g-A:A-g))||0)},a:function(T){return T<0?Math.ceil(T)||0:Math.floor(T)},p:function(T){return{M:u,y:h,w:a,d:c,D:y,h:o,m:s,s:i,ms:r,Q:d}[T]||String(T||"").toLowerCase().replace(/s$/,"")},u:function(T){return T===void 0}},N="en",q={};q[N]=_;var Y="$isDayjsObject",K=function(T){return T instanceof re||!(!T||!T[Y])},ne=function T(v,m,w){var g;if(!v)return N;if(typeof v=="string"){var S=v.toLowerCase();q[S]&&(g=S),m&&(q[S]=m,g=S);var A=v.split("-");if(!g&&A.length>1)return T(A[0])}else{var j=v.name;q[j]=v,g=j}return!w&&g&&(N=g),g||!w&&N},V=function(T,v){if(K(T))return T.clone();var m=typeof v=="object"?v:{};return m.date=T,m.args=arguments,new re(m)},P=G;P.l=ne,P.i=K,P.w=function(T,v){return V(T,{locale:v.$L,utc:v.$u,x:v.$x,$offset:v.$offset})};var re=function(){function T(m){this.$L=ne(m.locale,null,!0),this.parse(m),this.$x=this.$x||m.x||{},this[Y]=!0}var v=T.prototype;return v.parse=function(m){this.$d=function(w){var g=w.date,S=w.utc;if(g===null)return new Date(NaN);if(P.u(g))return new Date;if(g instanceof Date)return new Date(g);if(typeof g=="string"&&!/Z$/i.test(g)){var A=g.match(E);if(A){var j=A[2]-1||0,J=(A[7]||"0").substring(0,3);return S?new Date(Date.UTC(A[1],j,A[3]||1,A[4]||0,A[5]||0,A[6]||0,J)):new Date(A[1],j,A[3]||1,A[4]||0,A[5]||0,A[6]||0,J)}}return new Date(g)}(m),this.init()},v.init=function(){var m=this.$d;this.$y=m.getFullYear(),this.$M=m.getMonth(),this.$D=m.getDate(),this.$W=m.getDay(),this.$H=m.getHours(),this.$m=m.getMinutes(),this.$s=m.getSeconds(),this.$ms=m.getMilliseconds()},v.$utils=function(){return P},v.isValid=function(){return this.$d.toString()!==p},v.isSame=function(m,w){var g=V(m);return this.startOf(w)<=g&&g<=this.endOf(w)},v.isAfter=function(m,w){return V(m)<this.startOf(w)},v.isBefore=function(m,w){return this.endOf(w)<V(m)},v.$g=function(m,w,g){return P.u(m)?this[w]:this.set(g,m)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(m,w){var g=this,S=!!P.u(w)||w,A=P.p(m),j=function(Pe,se){var _e=P.w(g.$u?Date.UTC(g.$y,se,Pe):new Date(g.$y,se,Pe),g);return S?_e:_e.endOf(c)},J=function(Pe,se){return P.w(g.toDate()[Pe].apply(g.toDate("s"),(S?[0,0,0,0]:[23,59,59,999]).slice(se)),g)},ee=this.$W,ie=this.$M,me=this.$D,lt="set"+(this.$u?"UTC":"");switch(A){case h:return S?j(1,0):j(31,11);case u:return S?j(1,ie):j(0,ie+1);case a:var $e=this.$locale().weekStart||0,Ze=(ee<$e?ee+7:ee)-$e;return j(S?me-Ze:me+(6-Ze),ie);case c:case y:return J(lt+"Hours",0);case o:return J(lt+"Minutes",1);case s:return J(lt+"Seconds",2);case i:return J(lt+"Milliseconds",3);default:return this.clone()}},v.endOf=function(m){return this.startOf(m,!1)},v.$set=function(m,w){var g,S=P.p(m),A="set"+(this.$u?"UTC":""),j=(g={},g[c]=A+"Date",g[y]=A+"Date",g[u]=A+"Month",g[h]=A+"FullYear",g[o]=A+"Hours",g[s]=A+"Minutes",g[i]=A+"Seconds",g[r]=A+"Milliseconds",g)[S],J=S===c?this.$D+(w-this.$W):w;if(S===u||S===h){var ee=this.clone().set(y,1);ee.$d[j](J),ee.init(),this.$d=ee.set(y,Math.min(this.$D,ee.daysInMonth())).$d}else j&&this.$d[j](J);return this.init(),this},v.set=function(m,w){return this.clone().$set(m,w)},v.get=function(m){return this[P.p(m)]()},v.add=function(m,w){var g,S=this;m=Number(m);var A=P.p(w),j=function(ie){var me=V(S);return P.w(me.date(me.date()+Math.round(ie*m)),S)};if(A===u)return this.set(u,this.$M+m);if(A===h)return this.set(h,this.$y+m);if(A===c)return j(1);if(A===a)return j(7);var J=(g={},g[s]=t,g[o]=e,g[i]=n,g)[A]||1,ee=this.$d.getTime()+m*J;return P.w(ee,this)},v.subtract=function(m,w){return this.add(-1*m,w)},v.format=function(m){var w=this,g=this.$locale();if(!this.isValid())return g.invalidDate||p;var S=m||"YYYY-MM-DDTHH:mm:ssZ",A=P.z(this),j=this.$H,J=this.$m,ee=this.$M,ie=g.weekdays,me=g.months,lt=g.meridiem,$e=function(se,_e,Qe,dt){return se&&(se[_e]||se(w,S))||Qe[_e].slice(0,dt)},Ze=function(se){return P.s(j%12||12,se,"0")},Pe=lt||function(se,_e,Qe){var dt=se<12?"AM":"PM";return Qe?dt.toLowerCase():dt};return S.replace(I,function(se,_e){return _e||function(Qe){switch(Qe){case"YY":return String(w.$y).slice(-2);case"YYYY":return P.s(w.$y,4,"0");case"M":return ee+1;case"MM":return P.s(ee+1,2,"0");case"MMM":return $e(g.monthsShort,ee,me,3);case"MMMM":return $e(me,ee);case"D":return w.$D;case"DD":return P.s(w.$D,2,"0");case"d":return String(w.$W);case"dd":return $e(g.weekdaysMin,w.$W,ie,2);case"ddd":return $e(g.weekdaysShort,w.$W,ie,3);case"dddd":return ie[w.$W];case"H":return String(j);case"HH":return P.s(j,2,"0");case"h":return Ze(1);case"hh":return Ze(2);case"a":return Pe(j,J,!0);case"A":return Pe(j,J,!1);case"m":return String(J);case"mm":return P.s(J,2,"0");case"s":return String(w.$s);case"ss":return P.s(w.$s,2,"0");case"SSS":return P.s(w.$ms,3,"0");case"Z":return A}return null}(se)||A.replace(":","")})},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(m,w,g){var S,A=this,j=P.p(w),J=V(m),ee=(J.utcOffset()-this.utcOffset())*t,ie=this-J,me=function(){return P.m(A,J)};switch(j){case h:S=me()/12;break;case u:S=me();break;case d:S=me()/3;break;case a:S=(ie-ee)/6048e5;break;case c:S=(ie-ee)/864e5;break;case o:S=ie/e;break;case s:S=ie/t;break;case i:S=ie/n;break;default:S=ie}return g?S:P.a(S)},v.daysInMonth=function(){return this.endOf(u).$D},v.$locale=function(){return q[this.$L]},v.locale=function(m,w){if(!m)return this.$L;var g=this.clone(),S=ne(m,w,!0);return S&&(g.$L=S),g},v.clone=function(){return P.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},T}(),Oe=re.prototype;return V.prototype=Oe,[["$ms",r],["$s",i],["$m",s],["$H",o],["$W",c],["$M",u],["$y",h],["$D",y]].forEach(function(T){Oe[T[1]]=function(v){return this.$g(v,T[0],T[1])}}),V.extend=function(T,v){return T.$i||(T(v,re,V),T.$i=!0),V},V.locale=ne,V.isDayjs=K,V.unix=function(T){return V(1e3*T)},V.en=q[N],V.Ls=q,V.p={},V})});var Cd=In((Ca,Oa)=>{"use strict";(function(n,t){typeof Ca=="object"&&typeof Oa<"u"?Oa.exports=t():typeof define=="function"&&define.amd?define(t):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_plugin_customParseFormat=t()})(Ca,function(){"use strict";var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},t=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,e=/\d\d/,r=/\d\d?/,i=/\d*[^-_:/,()\s\d]+/,s={},o=function(p){return(p=+p)+(p>68?1900:2e3)},c=function(p){return function(E){this[p]=+E}},a=[/[+-]\d\d:?(\d\d)?|Z/,function(p){(this.zone||(this.zone={})).offset=function(E){if(!E||E==="Z")return 0;var I=E.match(/([+-]|\d\d)/g),_=60*I[1]+(+I[2]||0);return _===0?0:I[0]==="+"?-_:_}(p)}],u=function(p){var E=s[p];return E&&(E.indexOf?E:E.s.concat(E.f))},d=function(p,E){var I,_=s.meridiem;if(_){for(var F=1;F<=24;F+=1)if(p.indexOf(_(F,0,E))>-1){I=F>12;break}}else I=p===(E?"pm":"PM");return I},h={A:[i,function(p){this.afternoon=d(p,!1)}],a:[i,function(p){this.afternoon=d(p,!0)}],S:[/\d/,function(p){this.milliseconds=100*+p}],SS:[e,function(p){this.milliseconds=10*+p}],SSS:[/\d{3}/,function(p){this.milliseconds=+p}],s:[r,c("seconds")],ss:[r,c("seconds")],m:[r,c("minutes")],mm:[r,c("minutes")],H:[r,c("hours")],h:[r,c("hours")],HH:[r,c("hours")],hh:[r,c("hours")],D:[r,c("day")],DD:[e,c("day")],Do:[i,function(p){var E=s.ordinal,I=p.match(/\d+/);if(this.day=I[0],E)for(var _=1;_<=31;_+=1)E(_).replace(/\[|\]/g,"")===p&&(this.day=_)}],M:[r,c("month")],MM:[e,c("month")],MMM:[i,function(p){var E=u("months"),I=(u("monthsShort")||E.map(function(_){return _.slice(0,3)})).indexOf(p)+1;if(I<1)throw new Error;this.month=I%12||I}],MMMM:[i,function(p){var E=u("months").indexOf(p)+1;if(E<1)throw new Error;this.month=E%12||E}],Y:[/[+-]?\d+/,c("year")],YY:[e,function(p){this.year=o(p)}],YYYY:[/\d{4}/,c("year")],Z:a,ZZ:a};function y(p){var E,I;E=p,I=s&&s.formats;for(var _=(p=E.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(ne,V,P){var re=P&&P.toUpperCase();return V||I[P]||n[P]||I[re].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(Oe,T,v){return T||v.slice(1)})})).match(t),F=_.length,G=0;G<F;G+=1){var N=_[G],q=h[N],Y=q&&q[0],K=q&&q[1];_[G]=K?{regex:Y,parser:K}:N.replace(/^\[|\]$/g,"")}return function(ne){for(var V={},P=0,re=0;P<F;P+=1){var Oe=_[P];if(typeof Oe=="string")re+=Oe.length;else{var T=Oe.regex,v=Oe.parser,m=ne.slice(re),w=T.exec(m)[0];v.call(V,w),ne=ne.replace(w,"")}}return function(g){var S=g.afternoon;if(S!==void 0){var A=g.hours;S?A<12&&(g.hours+=12):A===12&&(g.hours=0),delete g.afternoon}}(V),V}}return function(p,E,I){I.p.customParseFormat=!0,p&&p.parseTwoDigitYear&&(o=p.parseTwoDigitYear);var _=E.prototype,F=_.parse;_.parse=function(G){var N=G.date,q=G.utc,Y=G.args;this.$u=q;var K=Y[1];if(typeof K=="string"){var ne=Y[2]===!0,V=Y[3]===!0,P=ne||V,re=Y[2];V&&(re=Y[2]),s=this.$locale(),!ne&&re&&(s=I.Ls[re]),this.$d=function(m,w,g){try{if(["x","X"].indexOf(w)>-1)return new Date((w==="X"?1e3:1)*m);var S=y(w)(m),A=S.year,j=S.month,J=S.day,ee=S.hours,ie=S.minutes,me=S.seconds,lt=S.milliseconds,$e=S.zone,Ze=new Date,Pe=J||(A||j?1:Ze.getDate()),se=A||Ze.getFullYear(),_e=0;A&&!j||(_e=j>0?j-1:Ze.getMonth());var Qe=ee||0,dt=ie||0,Li=me||0,xi=lt||0;return $e?new Date(Date.UTC(se,_e,Pe,Qe,dt,Li,xi+60*$e.offset*1e3)):g?new Date(Date.UTC(se,_e,Pe,Qe,dt,Li,xi)):new Date(se,_e,Pe,Qe,dt,Li,xi)}catch{return new Date("")}}(N,K,q),this.init(),re&&re!==!0&&(this.$L=this.locale(re).$L),P&&N!=this.format(K)&&(this.$d=new Date("")),s={}}else if(K instanceof Array)for(var Oe=K.length,T=1;T<=Oe;T+=1){Y[1]=K[T-1];var v=I.apply(this,Y);if(v.isValid()){this.$d=v.$d,this.$L=v.$L,this.init();break}T===Oe&&(this.$d=new Date(""))}else F.call(this,G)}}})});var Od=In((Pa,ka)=>{"use strict";(function(n,t){typeof Pa=="object"&&typeof ka<"u"?ka.exports=t():typeof define=="function"&&define.amd?define(t):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_plugin_weekOfYear=t()})(Pa,function(){"use strict";var n="week",t="year";return function(e,r,i){var s=r.prototype;s.week=function(o){if(o===void 0&&(o=null),o!==null)return this.add(7*(o-this.week()),"day");var c=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var a=i(this).startOf(t).add(1,t).date(c),u=i(this).endOf(n);if(a.isBefore(u))return 1}var d=i(this).startOf(t).date(c).startOf(n).subtract(1,"millisecond"),h=this.diff(d,n,!0);return h<0?i(this).startOf("week").week():Math.ceil(h)},s.weeks=function(o){return o===void 0&&(o=null),this.week(o)}}})});var Pd=In((Da,Na)=>{"use strict";(function(n,t){typeof Da=="object"&&typeof Na<"u"?Na.exports=t():typeof define=="function"&&define.amd?define(t):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_plugin_isoWeek=t()})(Da,function(){"use strict";var n="day";return function(t,e,r){var i=function(c){return c.add(4-c.isoWeekday(),n)},s=e.prototype;s.isoWeekYear=function(){return i(this).year()},s.isoWeek=function(c){if(!this.$utils().u(c))return this.add(7*(c-this.isoWeek()),n);var a,u,d,h,y=i(this),p=(a=this.isoWeekYear(),u=this.$u,d=(u?r.utc:r)().year(a).startOf("year"),h=4-d.isoWeekday(),d.isoWeekday()>4&&(h+=7),d.add(h,n));return y.diff(p,"week")+1},s.isoWeekday=function(c){return this.$utils().u(c)?this.day()||7:this.day(this.day()%7?c:c-7)};var o=s.startOf;s.startOf=function(c,a){var u=this.$utils(),d=!!u.u(a)||a;return u.p(c)==="isoweek"?d?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):o.bind(this)(c,a)}}})});var kd=In((Ma,La)=>{"use strict";(function(n,t){typeof Ma=="object"&&typeof La<"u"?La.exports=t(Aa()):typeof define=="function"&&define.amd?define(["dayjs"],t):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_locale_es_mx=t(n.dayjs)})(Ma,function(n){"use strict";function t(i){return i&&typeof i=="object"&&"default"in i?i:{default:i}}var e=t(n),r={name:"es-mx",weekdays:"domingo_lunes_martes_mi\xE9rcoles_jueves_viernes_s\xE1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xE9._jue._vie._s\xE1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xE1".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xEDa",dd:"%d d\xEDas",M:"un mes",MM:"%d meses",y:"un a\xF1o",yy:"%d a\xF1os"},ordinal:function(i){return i+"\xBA"},formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"}};return e.default.locale(r,null,!0),r})});var Sn="Service workers are disabled or not supported by this browser";function xd(n){return Wt(()=>ke(new Error(n)))}var Jt=class{serviceWorker;worker;registration;events;constructor(t){if(this.serviceWorker=t,!t)this.worker=this.events=this.registration=xd(Sn);else{let r=Bi(t,"controllerchange").pipe(D(()=>t.controller)),i=Wt(()=>R(t.controller)),s=pr(i,r);this.worker=s.pipe(Ie(d=>!!d)),this.registration=this.worker.pipe(te(()=>t.getRegistration()));let u=Bi(t,"message").pipe(D(d=>d.data)).pipe(Ie(d=>d&&d.type)).pipe(qa());u.connect(),this.events=u}}postMessage(t,e){return this.worker.pipe(fe(1),W(r=>{r.postMessage(b({action:t},e))})).toPromise().then(()=>{})}postMessageWithOperation(t,e,r){let i=this.waitForOperationCompleted(r),s=this.postMessage(t,e);return Promise.all([s,i]).then(([,o])=>o)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(t){let e;return typeof t=="string"?e=r=>r.type===t:e=r=>t.includes(r.type),this.events.pipe(Ie(e))}nextEventOfType(t){return this.eventsOfType(t).pipe(fe(1))}waitForOperationCompleted(t){return this.eventsOfType("OPERATION_COMPLETED").pipe(Ie(e=>e.nonce===t),fe(1),D(e=>{if(e.result!==void 0)return e.result;throw new Error(e.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},Ud=(()=>{class n{sw;messages;notificationClicks;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new Ve;constructor(e){if(this.sw=e,!e.isEnabled){this.messages=Ht,this.notificationClicks=Ht,this.subscription=Ht;return}this.messages=this.sw.eventsOfType("PUSH").pipe(D(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(D(i=>i.data)),this.pushManager=this.sw.registration.pipe(D(i=>i.pushManager));let r=this.pushManager.pipe(te(i=>i.getSubscription()));this.subscription=Wi(r,this.subscriptionChanges)}requestSubscription(e){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(Sn));let r={userVisibleOnly:!0},i=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(i.length));for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return r.applicationServerKey=s,this.pushManager.pipe(te(o=>o.subscribe(r)),fe(1)).toPromise().then(o=>(this.subscriptionChanges.next(o),o))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(Sn));let e=r=>{if(r===null)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(fe(1),te(e)).toPromise()}decodeBase64(e){return atob(e)}static \u0275fac=function(r){return new(r||n)(x(Jt))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),fs=(()=>{class n{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}constructor(e){if(this.sw=e,!e.isEnabled){this.versionUpdates=Ht,this.unrecoverable=Ht;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Sn));let e=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Sn));let e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}static \u0275fac=function(r){return new(r||n)(x(Jt))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})();var jc=new U("");function Fd(n,t,e,r){return()=>{if(!(ls(r)&&"serviceWorker"in navigator&&e.enabled!==!1))return;let i=n.get(ae),s=n.get(St);i.runOutsideAngular(()=>{let c=navigator.serviceWorker,a=()=>c.controller?.postMessage({action:"INITIALIZE"});c.addEventListener("controllerchange",a),s.onDestroy(()=>{c.removeEventListener("controllerchange",a)})});let o;if(typeof e.registrationStrategy=="function")o=e.registrationStrategy();else{let[c,...a]=(e.registrationStrategy||"registerWhenStable:30000").split(":");switch(c){case"registerImmediately":o=R(null);break;case"registerWithDelay":o=$c(+a[0]||0);break;case"registerWhenStable":let u=oe(n.get(St).whenStable());o=a[0]?Wi(u,$c(+a[0])):u;break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${e.registrationStrategy}`)}}i.runOutsideAngular(()=>o.pipe(fe(1)).subscribe(()=>navigator.serviceWorker.register(t,{scope:e.scope}).catch(c=>console.error("Service worker registration failed with:",c))))}}function $c(n){return R(null).pipe(Wa(n))}function jd(n,t){return new Jt(ls(t)&&n.enabled!==!1?navigator.serviceWorker:void 0)}var Tn=class{enabled;scope;registrationStrategy};function Vc(n,t={}){return we([Ud,fs,{provide:jc,useValue:n},{provide:Tn,useValue:t},{provide:Jt,useFactory:jd,deps:[Tn,Re]},{provide:rs,useFactory:Fd,deps:[mt,jc,Tn,Re],multi:!0}])}var An=class{},Dr=class{},tt=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let r=e.indexOf(":");if(r>0){let i=e.slice(0,r),s=e.slice(r+1).trim();this.addHeaderEntry(i,s)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,r)=>{this.addHeaderEntry(r,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,r])=>{this.setHeaderEntries(e,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new n;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,e);let i=(t.op==="a"?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":let s=t.value;if(!s)this.headers.delete(e),this.normalizedNames.delete(e);else{let o=this.headers.get(e);if(!o)return;o=o.filter(c=>s.indexOf(c)===-1),o.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}break}}addHeaderEntry(t,e){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(e):this.headers.set(r,[e])}setHeaderEntries(t,e){let r=(Array.isArray(e)?e:[e]).map(s=>s.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var ms=class{encodeKey(t){return zc(t)}encodeValue(t){return zc(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function zd(n,t){let e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,c]=s==-1?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,s)),t.decodeValue(i.slice(s+1))],a=e.get(o)||[];a.push(c),e.set(o,a)}),e}var Bd=/%(\d[a-f0-9])/gi,Wd={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function zc(n){return encodeURIComponent(n).replace(Bd,(t,e)=>Wd[e]??t)}function kr(n){return`${n}`}var vt=class n{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new ms,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=zd(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let r=t.fromObject[e],i=Array.isArray(r)?r.map(kr):[kr(r)];this.map.set(e,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(r=>{let i=t[r];Array.isArray(i)?i.forEach(s=>{e.push({param:r,value:s,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new n({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(kr(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],i=r.indexOf(kr(t.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var gs=class{map=new Map;set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function Hd(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Bc(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Wc(n){return typeof Blob<"u"&&n instanceof Blob}function Hc(n){return typeof FormData<"u"&&n instanceof FormData}function qd(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Rn=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(t,e,r,i){this.url=e,this.method=t.toUpperCase();let s;if(Hd(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new tt,this.context??=new gs,!this.params)this.params=new vt,this.urlWithParams=e;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=e;else{let c=e.indexOf("?"),a=c===-1?"?":c<e.length-1?"&":"";this.urlWithParams=e+a+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Bc(this.body)||Wc(this.body)||Hc(this.body)||qd(this.body)?this.body:this.body instanceof vt?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Hc(this.body)?null:Wc(this.body)?this.body.type||null:Bc(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof vt?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(t={}){let e=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,s=t.transferCache??this.transferCache,o=t.body!==void 0?t.body:this.body,c=t.withCredentials??this.withCredentials,a=t.reportProgress??this.reportProgress,u=t.headers||this.headers,d=t.params||this.params,h=t.context??this.context;return t.setHeaders!==void 0&&(u=Object.keys(t.setHeaders).reduce((y,p)=>y.set(p,t.setHeaders[p]),u)),t.setParams&&(d=Object.keys(t.setParams).reduce((y,p)=>y.set(p,t.setParams[p]),d)),new n(e,r,o,{params:d,headers:u,context:h,reportProgress:a,responseType:i,withCredentials:c,transferCache:s})}},yt=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(yt||{}),Cn=class{headers;status;statusText;url;ok;type;constructor(t,e=200,r="OK"){this.headers=t.headers||new tt,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},Nr=class n extends Cn{constructor(t={}){super(t)}type=yt.ResponseHeader;clone(t={}){return new n({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},On=class n extends Cn{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=yt.Response;clone(t={}){return new n({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},We=class extends Cn{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},Kc=200,Gd=204,Pn=function(n){return n[n.Continue=100]="Continue",n[n.SwitchingProtocols=101]="SwitchingProtocols",n[n.Processing=102]="Processing",n[n.EarlyHints=103]="EarlyHints",n[n.Ok=200]="Ok",n[n.Created=201]="Created",n[n.Accepted=202]="Accepted",n[n.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",n[n.NoContent=204]="NoContent",n[n.ResetContent=205]="ResetContent",n[n.PartialContent=206]="PartialContent",n[n.MultiStatus=207]="MultiStatus",n[n.AlreadyReported=208]="AlreadyReported",n[n.ImUsed=226]="ImUsed",n[n.MultipleChoices=300]="MultipleChoices",n[n.MovedPermanently=301]="MovedPermanently",n[n.Found=302]="Found",n[n.SeeOther=303]="SeeOther",n[n.NotModified=304]="NotModified",n[n.UseProxy=305]="UseProxy",n[n.Unused=306]="Unused",n[n.TemporaryRedirect=307]="TemporaryRedirect",n[n.PermanentRedirect=308]="PermanentRedirect",n[n.BadRequest=400]="BadRequest",n[n.Unauthorized=401]="Unauthorized",n[n.PaymentRequired=402]="PaymentRequired",n[n.Forbidden=403]="Forbidden",n[n.NotFound=404]="NotFound",n[n.MethodNotAllowed=405]="MethodNotAllowed",n[n.NotAcceptable=406]="NotAcceptable",n[n.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",n[n.RequestTimeout=408]="RequestTimeout",n[n.Conflict=409]="Conflict",n[n.Gone=410]="Gone",n[n.LengthRequired=411]="LengthRequired",n[n.PreconditionFailed=412]="PreconditionFailed",n[n.PayloadTooLarge=413]="PayloadTooLarge",n[n.UriTooLong=414]="UriTooLong",n[n.UnsupportedMediaType=415]="UnsupportedMediaType",n[n.RangeNotSatisfiable=416]="RangeNotSatisfiable",n[n.ExpectationFailed=417]="ExpectationFailed",n[n.ImATeapot=418]="ImATeapot",n[n.MisdirectedRequest=421]="MisdirectedRequest",n[n.UnprocessableEntity=422]="UnprocessableEntity",n[n.Locked=423]="Locked",n[n.FailedDependency=424]="FailedDependency",n[n.TooEarly=425]="TooEarly",n[n.UpgradeRequired=426]="UpgradeRequired",n[n.PreconditionRequired=428]="PreconditionRequired",n[n.TooManyRequests=429]="TooManyRequests",n[n.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",n[n.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",n[n.InternalServerError=500]="InternalServerError",n[n.NotImplemented=501]="NotImplemented",n[n.BadGateway=502]="BadGateway",n[n.ServiceUnavailable=503]="ServiceUnavailable",n[n.GatewayTimeout=504]="GatewayTimeout",n[n.HttpVersionNotSupported=505]="HttpVersionNotSupported",n[n.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",n[n.InsufficientStorage=507]="InsufficientStorage",n[n.LoopDetected=508]="LoopDetected",n[n.NotExtended=510]="NotExtended",n[n.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",n}(Pn||{});function ps(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var Ct=(()=>{class n{handler;constructor(e){this.handler=e}request(e,r,i={}){let s;if(e instanceof Rn)s=e;else{let a;i.headers instanceof tt?a=i.headers:a=new tt(i.headers);let u;i.params&&(i.params instanceof vt?u=i.params:u=new vt({fromObject:i.params})),s=new Rn(e,r,i.body!==void 0?i.body:null,{headers:a,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let o=R(s).pipe(Tt(a=>this.handler.handle(a)));if(e instanceof Rn||i.observe==="events")return o;let c=o.pipe(Ie(a=>a instanceof On));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(D(a=>{if(a.body!==null&&!(a.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return a.body}));case"blob":return c.pipe(D(a=>{if(a.body!==null&&!(a.body instanceof Blob))throw new Error("Response is not a Blob.");return a.body}));case"text":return c.pipe(D(a=>{if(a.body!==null&&typeof a.body!="string")throw new Error("Response is not a string.");return a.body}));case"json":default:return c.pipe(D(a=>a.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:new vt().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,ps(i,r))}post(e,r,i={}){return this.request("POST",e,ps(i,r))}put(e,r,i={}){return this.request("PUT",e,ps(i,r))}static \u0275fac=function(r){return new(r||n)(x(An))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),Yd=/^\)\]\}',?\n/,Kd="X-Request-URL";function qc(n){if(n.url)return n.url;let t=Kd.toLocaleLowerCase();return n.headers.get(t)}var Jd=(()=>{class n{fetchImpl=f(vs,{optional:!0})?.fetch??((...e)=>globalThis.fetch(...e));ngZone=f(ae);handle(e){return new zt(r=>{let i=new AbortController;return this.doRequest(e,i.signal,r).then(ys,s=>r.error(new We({error:s}))),()=>i.abort()})}doRequest(e,r,i){return l(this,null,function*(){let s=this.createRequestInit(e),o;try{let p=this.ngZone.runOutsideAngular(()=>this.fetchImpl(e.urlWithParams,b({signal:r},s)));Xd(p),i.next({type:yt.Sent}),o=yield p}catch(p){i.error(new We({error:p,status:p.status??0,statusText:p.statusText,url:e.urlWithParams,headers:p.headers}));return}let c=new tt(o.headers),a=o.statusText,u=qc(o)??e.urlWithParams,d=o.status,h=null;if(e.reportProgress&&i.next(new Nr({headers:c,status:d,statusText:a,url:u})),o.body){let p=o.headers.get("content-length"),E=[],I=o.body.getReader(),_=0,F,G,N=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>l(this,null,function*(){for(;;){let{done:Y,value:K}=yield I.read();if(Y)break;if(E.push(K),_+=K.length,e.reportProgress){G=e.responseType==="text"?(G??"")+(F??=new TextDecoder).decode(K,{stream:!0}):void 0;let ne=()=>i.next({type:yt.DownloadProgress,total:p?+p:void 0,loaded:_,partialText:G});N?N.run(ne):ne()}}}));let q=this.concatChunks(E,_);try{let Y=o.headers.get("Content-Type")??"";h=this.parseBody(e,q,Y)}catch(Y){i.error(new We({error:Y,headers:new tt(o.headers),status:o.status,statusText:o.statusText,url:qc(o)??e.urlWithParams}));return}}d===0&&(d=h?Kc:0),d>=200&&d<300?(i.next(new On({body:h,headers:c,status:d,statusText:a,url:u})),i.complete()):i.error(new We({error:h,headers:c,status:d,statusText:a,url:u}))})}parseBody(e,r,i){switch(e.responseType){case"json":let s=new TextDecoder().decode(r).replace(Yd,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(e){let r={},i=e.withCredentials?"include":void 0;if(e.headers.forEach((s,o)=>r[s]=o.join(",")),e.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!e.headers.has("Content-Type")){let s=e.detectContentTypeHeader();s!==null&&(r["Content-Type"]=s)}return{body:e.serializeBody(),method:e.method,headers:r,credentials:i}}concatChunks(e,r){let i=new Uint8Array(r),s=0;for(let o of e)i.set(o,s),s+=o.length;return i}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),vs=class{};function ys(){}function Xd(n){n.then(ys,ys)}function Zd(n,t){return t(n)}function Qd(n,t,e){return(r,i)=>De(e,()=>t(r,s=>n(s,i)))}var _s=new U(""),eh=new U(""),th=new U("",{providedIn:"root",factory:()=>!0});var Gc=(()=>{class n extends An{backend;injector;chain=null;pendingTasks=f(gr);contributeToStability=f(th);constructor(e,r){super(),this.backend=e,this.injector=r}handle(e){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(_s),...this.injector.get(eh,[])]));this.chain=r.reduceRight((i,s)=>Qd(i,s,this.injector),Zd)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(e,i=>this.backend.handle(i)).pipe(qt(()=>this.pendingTasks.remove(r)))}else return this.chain(e,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(x(Dr),x(Gt))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})();var nh=/^\)\]\}',?\n/;function rh(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var Yc=(()=>{class n{xhrFactory;constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new X(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?oe(r.\u0275loadImpl()):R(null)).pipe(te(()=>new zt(s=>{let o=r.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((I,_)=>o.setRequestHeader(I,_.join(","))),e.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){let I=e.detectContentTypeHeader();I!==null&&o.setRequestHeader("Content-Type",I)}if(e.responseType){let I=e.responseType.toLowerCase();o.responseType=I!=="json"?I:"text"}let c=e.serializeBody(),a=null,u=()=>{if(a!==null)return a;let I=o.statusText||"OK",_=new tt(o.getAllResponseHeaders()),F=rh(o)||e.url;return a=new Nr({headers:_,status:o.status,statusText:I,url:F}),a},d=()=>{let{headers:I,status:_,statusText:F,url:G}=u(),N=null;_!==Gd&&(N=typeof o.response>"u"?o.responseText:o.response),_===0&&(_=N?Kc:0);let q=_>=200&&_<300;if(e.responseType==="json"&&typeof N=="string"){let Y=N;N=N.replace(nh,"");try{N=N!==""?JSON.parse(N):null}catch(K){N=Y,q&&(q=!1,N={error:K,text:N})}}q?(s.next(new On({body:N,headers:I,status:_,statusText:F,url:G||void 0})),s.complete()):s.error(new We({error:N,headers:I,status:_,statusText:F,url:G||void 0}))},h=I=>{let{url:_}=u(),F=new We({error:I,status:o.status||0,statusText:o.statusText||"Unknown Error",url:_||void 0});s.error(F)},y=!1,p=I=>{y||(s.next(u()),y=!0);let _={type:yt.DownloadProgress,loaded:I.loaded};I.lengthComputable&&(_.total=I.total),e.responseType==="text"&&o.responseText&&(_.partialText=o.responseText),s.next(_)},E=I=>{let _={type:yt.UploadProgress,loaded:I.loaded};I.lengthComputable&&(_.total=I.total),s.next(_)};return o.addEventListener("load",d),o.addEventListener("error",h),o.addEventListener("timeout",h),o.addEventListener("abort",h),e.reportProgress&&(o.addEventListener("progress",p),c!==null&&o.upload&&o.upload.addEventListener("progress",E)),o.send(c),s.next({type:yt.Sent}),()=>{o.removeEventListener("error",h),o.removeEventListener("abort",h),o.removeEventListener("load",d),o.removeEventListener("timeout",h),e.reportProgress&&(o.removeEventListener("progress",p),c!==null&&o.upload&&o.upload.removeEventListener("progress",E)),o.readyState!==o.DONE&&o.abort()}})))}static \u0275fac=function(r){return new(r||n)(x(Rr))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),Jc=new U(""),ih="XSRF-TOKEN",sh=new U("",{providedIn:"root",factory:()=>ih}),oh="X-XSRF-TOKEN",ah=new U("",{providedIn:"root",factory:()=>oh}),Mr=class{},ch=(()=>{class n{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,r,i){this.doc=e,this.platform=r,this.cookieName=i}getToken(){if(this.platform==="server")return null;let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Tr(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(r){return new(r||n)(x(de),x(Re),x(sh))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})();function uh(n,t){let e=n.url.toLowerCase();if(!f(Jc)||n.method==="GET"||n.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return t(n);let r=f(Mr).getToken(),i=f(ah);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),t(n)}var Xc=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Xc||{});function lh(n,t){return{\u0275kind:n,\u0275providers:t}}function Zc(...n){let t=[Ct,Yc,Gc,{provide:An,useExisting:Gc},{provide:Dr,useFactory:()=>f(Jd,{optional:!0})??f(Yc)},{provide:_s,useValue:uh,multi:!0},{provide:Jc,useValue:!0},{provide:Mr,useClass:ch}];for(let e of n)t.push(...e.\u0275providers);return we(t)}function Qc(n){return lh(Xc.Interceptors,n.map(t=>({provide:_s,useValue:t,multi:!0})))}var ws=class extends Oc{supportsDOMEvents=!0},Es=class n extends ws{static makeCurrent(){Cc(new n)}onAndCancel(t,e,r){return t.addEventListener(e,r),()=>{t.removeEventListener(e,r)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=hh();return e==null?null:fh(e)}resetBaseElement(){kn=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Tr(document.cookie,t)}},kn=null;function hh(){return kn=kn||document.querySelector("base"),kn?kn.getAttribute("href"):null}function fh(n){return new URL(n,document.baseURI).pathname}var ph=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),bs=new U(""),iu=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,r){this._zone=r,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,i){return this._findPluginFor(r).addEventListener(e,r,i)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(s=>s.supports(e)),!r)throw new X(5101,!1);return this._eventNameToPlugin.set(e,r),r}static \u0275fac=function(r){return new(r||n)(x(bs),x(ae))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),Lr=class{_doc;constructor(t){this._doc=t}manager},Ts="ng-app-id";function eu(n){for(let t of n)t.remove()}function tu(n,t){let e=t.createElement("style");return e.textContent=n,e}function mh(n,t,e){let r=n.head?.querySelectorAll(`style[${Ts}="${t}"]`);if(r)for(let i of r)i.textContent&&(i.removeAttribute(Ts),e.set(i.textContent,{usage:0,elements:[i]}))}function Ss(n,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",n),e}var su=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,r,i,s={}){this.doc=e,this.appId=r,this.nonce=i,this.isServer=Sr(s),mh(e,r,this.inline),this.hosts.add(e.head)}addStyles(e,r){for(let i of e)this.addUsage(i,this.inline,tu);r?.forEach(i=>this.addUsage(i,this.external,Ss))}removeStyles(e,r){for(let i of e)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(e,r,i){let s=r.get(e);s?s.usage++:r.set(e,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,i(e,this.doc)))})}removeUsage(e,r){let i=r.get(e);i&&(i.usage--,i.usage<=0&&(eu(i.elements),r.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])eu(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(e,tu(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(e,Ss(r,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Ts,this.appId),e.appendChild(r)}static \u0275fac=function(r){return new(r||n)(x(de),x(Xi),x(Zi,8),x(Re))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),Is={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},As=/%COMP%/g,ou="%COMP%",gh=`_nghost-${ou}`,vh=`_ngcontent-${ou}`,yh=!0,_h=new U("",{providedIn:"root",factory:()=>yh});function Ih(n){return vh.replace(As,n)}function wh(n){return gh.replace(As,n)}function au(n,t){return t.map(e=>e.replace(As,n))}var xr=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,r,i,s,o,c,a,u=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=c,this.ngZone=a,this.nonce=u,this.platformIsServer=Sr(c),this.defaultRenderer=new Dn(e,o,a,this.platformIsServer)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===En.ShadowDom&&(r=ce(b({},r),{encapsulation:En.Emulated}));let i=this.getOrCreateRenderer(e,r);return i instanceof Ur?i.applyToHost(e):i instanceof Nn&&i.applyStyles(),i}getOrCreateRenderer(e,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,c=this.ngZone,a=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(r.encapsulation){case En.Emulated:s=new Ur(a,u,r,this.appId,d,o,c,h);break;case En.ShadowDom:return new Rs(a,u,e,r,o,c,this.nonce,h);default:s=new Nn(a,u,r,d,o,c,h);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static \u0275fac=function(r){return new(r||n)(x(iu),x(su),x(Xi),x(_h),x(de),x(Re),x(ae),x(Zi))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),Dn=class{eventManager;doc;ngZone;platformIsServer;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,r,i){this.eventManager=t,this.doc=e,this.ngZone=r,this.platformIsServer=i}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(Is[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(nu(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(nu(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){e.remove()}selectRootElement(t,e){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new X(-5104,!1);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,i){if(i){e=i+":"+e;let s=Is[i];s?t.setAttributeNS(s,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){let i=Is[r];i?t.removeAttributeNS(i,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,i){i&(bn.DashCase|bn.Important)?t.style.setProperty(e,r,i&bn.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&bn.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t!=null&&(t[e]=r)}setValue(t,e){t.nodeValue=e}listen(t,e,r){if(typeof t=="string"&&(t=cs().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(r))}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))===!1&&e.preventDefault()}}};function nu(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Rs=class extends Dn{sharedStylesHost;hostEl;shadowRoot;constructor(t,e,r,i,s,o,c,a){super(t,s,o,a),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=au(i.id,i.styles);for(let h of u){let y=document.createElement("style");c&&y.setAttribute("nonce",c),y.textContent=h,this.shadowRoot.appendChild(y)}let d=i.getExternalStyles?.();if(d)for(let h of d){let y=Ss(h,s);c&&y.setAttribute("nonce",c),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Nn=class extends Dn{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,r,i,s,o,c,a){super(t,s,o,c),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i,this.styles=a?au(a,r.styles):r.styles,this.styleUrls=r.getExternalStyles?.(a)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Ur=class extends Nn{contentAttr;hostAttr;constructor(t,e,r,i,s,o,c,a){let u=i+"-"+r.id;super(t,e,r,s,o,c,a,u),this.contentAttr=Ih(u),this.hostAttr=wh(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}},Eh=(()=>{class n extends Lr{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i){return e.addEventListener(r,i,!1),()=>this.removeEventListener(e,r,i)}removeEventListener(e,r,i){return e.removeEventListener(r,i)}static \u0275fac=function(r){return new(r||n)(x(de))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),ru=["alt","control","meta","shift"],bh={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Th={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},Sh=(()=>{class n extends Lr{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,r,i){let s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>cs().onAndCancel(e,s.domEventName,o))}static parseEventName(e){let r=e.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=n._normalizeKey(r.pop()),o="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),o="code."),ru.forEach(u=>{let d=r.indexOf(u);d>-1&&(r.splice(d,1),o+=u+".")}),o+=s,r.length!=0||s.length===0)return null;let a={};return a.domEventName=i,a.fullKey=o,a}static matchEventFullKeyCode(e,r){let i=bh[e.key]||e.key,s="";return r.indexOf("code.")>-1&&(i=e.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),ru.forEach(o=>{if(o!==i){let c=Th[o];c(e)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(e,r,i){return s=>{n.matchEventFullKeyCode(s,e)&&i.runGuarded(()=>r(s))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(r){return new(r||n)(x(de))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})();function cu(n,t){return Rc(b({rootComponent:n},Rh(t)))}function Rh(n){return{appProviders:[...kh,...n?.providers??[]],platformProviders:Ph}}function Ah(){Es.makeCurrent()}function Ch(){return new Ki}function Oh(){return nc(document),document}var Ph=[{provide:Re,useValue:Dc},{provide:rc,useValue:Ah,multi:!0},{provide:de,useFactory:Oh,deps:[]}];var kh=[{provide:Xa,useValue:"root"},{provide:Ki,useFactory:Ch,deps:[]},{provide:bs,useClass:Eh,multi:!0,deps:[de,ae,Re]},{provide:bs,useClass:Sh,multi:!0,deps:[de]},xr,su,iu,{provide:vr,useExisting:xr},{provide:Rr,useClass:ph,deps:[]},[]];var uu=(()=>{class n{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(r){return new(r||n)(x(de))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var k="primary",Kn=Symbol("RouteTitle"),Ds=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function nn(n){return new Ds(n)}function Nh(n,t,e){let r=e.path.split("/");if(r.length>n.length||e.pathMatch==="full"&&(t.hasChildren()||r.length<n.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],c=n[s];if(o[0]===":")i[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Mh(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!He(n[e],t[e]))return!1;return!0}function He(n,t){let e=n?Ns(n):void 0,r=t?Ns(t):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let s=0;s<e.length;s++)if(i=e[s],!vu(n[i],t[i]))return!1;return!0}function Ns(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function vu(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let e=[...n].sort(),r=[...t].sort();return e.every((i,s)=>r[s]===i)}else return n===t}function yu(n){return n.length>0?n[n.length-1]:null}function _t(n){return $a(n)?n:cc(n)?oe(Promise.resolve(n)):R(n)}var Lh={exact:Iu,subset:wu},_u={exact:xh,subset:Uh,ignored:()=>!0};function lu(n,t,e){return Lh[e.paths](n.root,t.root,e.matrixParams)&&_u[e.queryParams](n.queryParams,t.queryParams)&&!(e.fragment==="exact"&&n.fragment!==t.fragment)}function xh(n,t){return He(n,t)}function Iu(n,t,e){if(!Pt(n.segments,t.segments)||!$r(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!n.children[r]||!Iu(n.children[r],t.children[r],e))return!1;return!0}function Uh(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>vu(n[e],t[e]))}function wu(n,t,e){return Eu(n,t,t.segments,e)}function Eu(n,t,e,r){if(n.segments.length>e.length){let i=n.segments.slice(0,e.length);return!(!Pt(i,e)||t.hasChildren()||!$r(i,e,r))}else if(n.segments.length===e.length){if(!Pt(n.segments,e)||!$r(n.segments,e,r))return!1;for(let i in t.children)if(!n.children[i]||!wu(n.children[i],t.children[i],r))return!1;return!0}else{let i=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!Pt(n.segments,i)||!$r(n.segments,i,r)||!n.children[k]?!1:Eu(n.children[k],t,s,r)}}function $r(n,t,e){return t.every((r,i)=>_u[e](n[i].parameters,r.parameters))}var rt=class{root;queryParams;fragment;_queryParamMap;constructor(t=new $([],{}),e={},r=null){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap??=nn(this.queryParams),this._queryParamMap}toString(){return $h.serialize(this)}},$=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vr(this)}},Ot=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=nn(this.parameters),this._parameterMap}toString(){return Tu(this)}};function Fh(n,t){return Pt(n,t)&&n.every((e,r)=>He(e.parameters,t[r].parameters))}function Pt(n,t){return n.length!==t.length?!1:n.every((e,r)=>e.path===t[r].path)}function jh(n,t){let e=[];return Object.entries(n.children).forEach(([r,i])=>{r===k&&(e=e.concat(t(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==k&&(e=e.concat(t(i,r)))}),e}var so=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:()=>new $n,providedIn:"root"})}return n})(),$n=class{parse(t){let e=new Ls(t);return new rt(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${Mn(t.root,!0)}`,r=Bh(t.queryParams),i=typeof t.fragment=="string"?`#${Vh(t.fragment)}`:"";return`${e}${r}${i}`}},$h=new $n;function Vr(n){return n.segments.map(t=>Tu(t)).join("/")}function Mn(n,t){if(!n.hasChildren())return Vr(n);if(t){let e=n.children[k]?Mn(n.children[k],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==k&&r.push(`${i}:${Mn(s,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}else{let e=jh(n,(r,i)=>i===k?[Mn(n.children[k],!1)]:[`${i}:${Mn(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[k]!=null?`${Vr(n)}/${e[0]}`:`${Vr(n)}/(${e.join("//")})`}}function bu(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Fr(n){return bu(n).replace(/%3B/gi,";")}function Vh(n){return encodeURI(n)}function Ms(n){return bu(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function zr(n){return decodeURIComponent(n)}function du(n){return zr(n.replace(/\+/g,"%20"))}function Tu(n){return`${Ms(n.path)}${zh(n.parameters)}`}function zh(n){return Object.entries(n).map(([t,e])=>`;${Ms(t)}=${Ms(e)}`).join("")}function Bh(n){let t=Object.entries(n).map(([e,r])=>Array.isArray(r)?r.map(i=>`${Fr(e)}=${Fr(i)}`).join("&"):`${Fr(e)}=${Fr(r)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var Wh=/^[^\/()?;#]+/;function Cs(n){let t=n.match(Wh);return t?t[0]:""}var Hh=/^[^\/()?;=#]+/;function qh(n){let t=n.match(Hh);return t?t[0]:""}var Gh=/^[^=?&#]+/;function Yh(n){let t=n.match(Gh);return t?t[0]:""}var Kh=/^[^&#]+/;function Jh(n){let t=n.match(Kh);return t?t[0]:""}var Ls=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new $([],{}):new $([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[k]=new $(t,e)),r}parseSegment(){let t=Cs(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new X(4009,!1);return this.capture(t),new Ot(zr(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=qh(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let i=Cs(this.remaining);i&&(r=i,this.capture(r))}t[zr(e)]=zr(r)}parseQueryParam(t){let e=Yh(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let o=Jh(this.remaining);o&&(r=o,this.capture(r))}let i=du(e),s=du(r);if(t.hasOwnProperty(i)){let o=t[i];Array.isArray(o)||(o=[o],t[i]=o),o.push(s)}else t[i]=s}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Cs(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new X(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=k);let o=this.parseChildren();e[s]=Object.keys(o).length===1?o[k]:new $([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new X(4011,!1)}};function Su(n){return n.segments.length>0?new $([],{[k]:n}):n}function Ru(n){let t={};for(let[r,i]of Object.entries(n.children)){let s=Ru(i);if(r===k&&s.segments.length===0&&s.hasChildren())for(let[o,c]of Object.entries(s.children))t[o]=c;else(s.segments.length>0||s.hasChildren())&&(t[r]=s)}let e=new $(n.segments,t);return Xh(e)}function Xh(n){if(n.numberOfChildren===1&&n.children[k]){let t=n.children[k];return new $(n.segments.concat(t.segments),t.children)}return n}function kt(n){return n instanceof rt}function Zh(n,t,e=null,r=null){let i=Au(n);return Cu(i,t,e,r)}function Au(n){let t;function e(s){let o={};for(let a of s.children){let u=e(a);o[a.outlet]=u}let c=new $(s.url,o);return s===n&&(t=c),c}let r=e(n.root),i=Su(r);return t??i}function Cu(n,t,e,r){let i=n;for(;i.parent;)i=i.parent;if(t.length===0)return Os(i,i,i,e,r);let s=Qh(t);if(s.toRoot())return Os(i,i,new $([],{}),e,r);let o=ef(s,i,n),c=o.processChildren?Un(o.segmentGroup,o.index,s.commands):Pu(o.segmentGroup,o.index,s.commands);return Os(i,o.segmentGroup,c,e,r)}function Br(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Vn(n){return typeof n=="object"&&n!=null&&n.outlets}function Os(n,t,e,r,i){let s={};r&&Object.entries(r).forEach(([a,u])=>{s[a]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let o;n===t?o=e:o=Ou(n,t,e);let c=Su(Ru(o));return new rt(c,s,i)}function Ou(n,t,e){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===t?r[i]=e:r[i]=Ou(s,t,e)}),new $(n.segments,r)}var Wr=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&Br(r[0]))throw new X(4003,!1);let i=r.find(Vn);if(i&&i!==yu(r))throw new X(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Qh(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Wr(!0,0,n);let t=0,e=!1,r=n.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([a,u])=>{c[a]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((c,a)=>{a==0&&c==="."||(a==0&&c===""?e=!0:c===".."?t++:c!=""&&i.push(c))}),i):[...i,s]},[]);return new Wr(e,t,r)}var Qt=class{segmentGroup;processChildren;index;constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}};function ef(n,t,e){if(n.isAbsolute)return new Qt(t,!0,0);if(!e)return new Qt(t,!1,NaN);if(e.parent===null)return new Qt(e,!0,0);let r=Br(n.commands[0])?0:1,i=e.segments.length-1+r;return tf(e,i,n.numberOfDoubleDots)}function tf(n,t,e){let r=n,i=t,s=e;for(;s>i;){if(s-=i,r=r.parent,!r)throw new X(4005,!1);i=r.segments.length}return new Qt(r,!1,i-s)}function nf(n){return Vn(n[0])?n[0].outlets:{[k]:n}}function Pu(n,t,e){if(n??=new $([],{}),n.segments.length===0&&n.hasChildren())return Un(n,t,e);let r=rf(n,t,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new $(n.segments.slice(0,r.pathIndex),{});return s.children[k]=new $(n.segments.slice(r.pathIndex),n.children),Un(s,0,i)}else return r.match&&i.length===0?new $(n.segments,{}):r.match&&!n.hasChildren()?xs(n,t,e):r.match?Un(n,0,i):xs(n,t,e)}function Un(n,t,e){if(e.length===0)return new $(n.segments,{});{let r=nf(e),i={};if(Object.keys(r).some(s=>s!==k)&&n.children[k]&&n.numberOfChildren===1&&n.children[k].segments.length===0){let s=Un(n.children[k],t,e);return new $(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=Pu(n.children[s],t,o))}),Object.entries(n.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new $(n.segments,i)}}function rf(n,t,e){let r=0,i=t,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=e.length)return s;let o=n.segments[i],c=e[r];if(Vn(c))break;let a=`${c}`,u=r<e.length-1?e[r+1]:null;if(i>0&&a===void 0)break;if(a&&u&&typeof u=="object"&&u.outlets===void 0){if(!fu(a,u,o))return s;r+=2}else{if(!fu(a,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function xs(n,t,e){let r=n.segments.slice(0,t),i=0;for(;i<e.length;){let s=e[i];if(Vn(s)){let a=sf(s.outlets);return new $(r,a)}if(i===0&&Br(e[0])){let a=n.segments[t];r.push(new Ot(a.path,hu(e[0]))),i++;continue}let o=Vn(s)?s.outlets[k]:`${s}`,c=i<e.length-1?e[i+1]:null;o&&c&&Br(c)?(r.push(new Ot(o,hu(c))),i+=2):(r.push(new Ot(o,{})),i++)}return new $(r,{})}function sf(n){let t={};return Object.entries(n).forEach(([e,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[e]=xs(new $([],{}),0,r))}),t}function hu(n){let t={};return Object.entries(n).forEach(([e,r])=>t[e]=`${r}`),t}function fu(n,t,e){return n==e.path&&He(t,e.parameters)}var Fn="imperative",le=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(le||{}),Ae=class{id;url;constructor(t,e){this.id=t,this.url=e}},zn=class extends Ae{type=le.NavigationStart;navigationTrigger;restoredState;constructor(t,e,r="imperative",i=null){super(t,e),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},it=class extends Ae{urlAfterRedirects;type=le.NavigationEnd;constructor(t,e,r){super(t,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},be=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(be||{}),Us=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Us||{}),nt=class extends Ae{reason;code;type=le.NavigationCancel;constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Dt=class extends Ae{reason;code;type=le.NavigationSkipped;constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i}},Bn=class extends Ae{error;target;type=le.NavigationError;constructor(t,e,r,i){super(t,e),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Hr=class extends Ae{urlAfterRedirects;state;type=le.RoutesRecognized;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fs=class extends Ae{urlAfterRedirects;state;type=le.GuardsCheckStart;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},js=class extends Ae{urlAfterRedirects;state;shouldActivate;type=le.GuardsCheckEnd;constructor(t,e,r,i,s){super(t,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},$s=class extends Ae{urlAfterRedirects;state;type=le.ResolveStart;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vs=class extends Ae{urlAfterRedirects;state;type=le.ResolveEnd;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zs=class{route;type=le.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Bs=class{route;type=le.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ws=class{snapshot;type=le.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Hs=class{snapshot;type=le.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qs=class{snapshot;type=le.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Gs=class{snapshot;type=le.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Wn=class{},rn=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function of(n,t){return n.providers&&!n._injector&&(n._injector=ac(n.providers,t,`Route: ${n.path}`)),n._injector??t}function xe(n){return n.outlet||k}function af(n,t){let e=n.filter(r=>xe(r)===t);return e.push(...n.filter(r=>xe(r)!==t)),e}function Jn(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Ys=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Jn(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Zr(this.rootInjector)}},Zr=(()=>{class n{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,r){let i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){let r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new Ys(this.rootInjector),this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(r){return new(r||n)(x(Gt))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),qr=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=Ks(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){let e=Ks(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=Js(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Js(t,this._root).map(e=>e.value)}};function Ks(n,t){if(n===t.value)return t;for(let e of t.children){let r=Ks(n,e);if(r)return r}return null}function Js(n,t){if(n===t.value)return[t];for(let e of t.children){let r=Js(n,e);if(r.length)return r.unshift(t),r}return[]}var Ee=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function Zt(n){let t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}var Gr=class extends qr{snapshot;constructor(t,e){super(t),this.snapshot=e,oo(this,t)}toString(){return this.snapshot.toString()}};function ku(n){let t=cf(n),e=new Te([new Ot("",{})]),r=new Te({}),i=new Te({}),s=new Te({}),o=new Te(""),c=new Nt(e,r,s,o,i,k,n,t.root);return c.snapshot=t.root,new Gr(new Ee(c,[]),t)}function cf(n){let t={},e={},r={},i="",s=new en([],t,r,i,e,k,n,null,{});return new Kr("",new Ee(s,[]))}var Nt=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,r,i,s,o,c,a){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=a,this.title=this.dataSubject?.pipe(D(u=>u[Kn]))??R(void 0),this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(D(t=>nn(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(D(t=>nn(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Yr(n,t,e="emptyOnly"){let r,{routeConfig:i}=n;return t!==null&&(e==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:b(b({},t.params),n.params),data:b(b({},t.data),n.data),resolve:b(b(b(b({},n.data),t.data),i?.data),n._resolvedData)}:r={params:b({},n.params),data:b({},n.data),resolve:b(b({},n.data),n._resolvedData??{})},i&&Nu(i)&&(r.resolve[Kn]=i.title),r}var en=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Kn]}constructor(t,e,r,i,s,o,c,a,u){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=c,this.routeConfig=a,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=nn(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=nn(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},Kr=class extends qr{url;constructor(t,e){super(e),this.url=t,oo(this,e)}toString(){return Du(this._root)}};function oo(n,t){t.value._routerState=n,t.children.forEach(e=>oo(n,e))}function Du(n){let t=n.children.length>0?` { ${n.children.map(Du).join(", ")} } `:"";return`${n.value}${t}`}function Ps(n){if(n.snapshot){let t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,He(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),He(t.params,e.params)||n.paramsSubject.next(e.params),Mh(t.url,e.url)||n.urlSubject.next(e.url),He(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Xs(n,t){let e=He(n.params,t.params)&&Fh(n.url,t.url),r=!n.parent!=!t.parent;return e&&!r&&(!n.parent||Xs(n.parent,t.parent))}function Nu(n){return typeof n.title=="string"||n.title===null}var uf=new U(""),ao=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=k;activateEvents=new Yt;deactivateEvents=new Yt;attachEvents=new Yt;detachEvents=new Yt;routerOutletData=tc(void 0);parentContexts=f(Zr);location=f(uc);changeDetector=f(wr);inputBinder=f(co,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new X(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new X(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new X(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new X(4013,!1);this._activatedRoute=e;let i=this.location,o=e.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,a=new Zs(e,c,i.injector,this.routerOutletData);this.activated=i.createComponent(o,{index:i.length,injector:a,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=yr({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[mr]})}return n})(),Zs=class n{route;childContexts;parent;outletData;__ngOutletInjector(t){return new n(this.route,this.childContexts,t,this.outletData)}constructor(t,e,r,i){this.route=t,this.childContexts=e,this.parent=r,this.outletData=i}get(t,e){return t===Nt?this.route:t===Zr?this.childContexts:t===uf?this.outletData:this.parent.get(t,e)}},co=new U("");function lf(n,t,e){let r=Hn(n,t._root,e?e._root:void 0);return new Gr(r,t)}function Hn(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){let r=e.value;r._futureSnapshot=t.value;let i=df(n,t,e);return new Ee(r,i)}else{if(n.shouldAttach(t.value)){let s=n.retrieve(t.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(c=>Hn(n,c)),o}}let r=hf(t.value),i=t.children.map(s=>Hn(n,s));return new Ee(r,i)}}function df(n,t,e){return t.children.map(r=>{for(let i of e.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Hn(n,r,i);return Hn(n,r)})}function hf(n){return new Nt(new Te(n.url),new Te(n.params),new Te(n.queryParams),new Te(n.fragment),new Te(n.data),n.outlet,n.component,n)}var qn=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},Mu="ngNavigationCancelingError";function Jr(n,t){let{redirectTo:e,navigationBehaviorOptions:r}=kt(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=Lu(!1,be.Redirect);return i.url=e,i.navigationBehaviorOptions=r,i}function Lu(n,t){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[Mu]=!0,e.cancellationCode=t,e}function ff(n){return xu(n)&&kt(n.url)}function xu(n){return!!n&&n[Mu]}var pf=(n,t,e,r)=>D(i=>(new Qs(t,i.targetRouterState,i.currentRouterState,e,r).activate(n),i)),Qs=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,r,i,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(t){let e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),Ps(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){let i=Zt(e);t.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(t,e,r){let i=t.value,s=e?e.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,r);else s&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,s=Zt(t);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:c})}}deactivateRouteAndOutlet(t,e){let r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,s=Zt(t);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,e,r){let i=Zt(e);t.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Gs(s.value.snapshot))}),t.children.length&&this.forwardEvent(new Hs(t.value.snapshot))}activateRoutes(t,e,r){let i=t.value,s=e?e.value:null;if(Ps(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),Ps(c.route.value),this.activateChildRoutes(t,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(t,null,o.children)}else this.activateChildRoutes(t,null,r)}},Xr=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},tn=class{component;route;constructor(t,e){this.component=t,this.route=e}};function mf(n,t,e){let r=n._root,i=t?t._root:null;return Ln(r,i,e,[r.value])}function gf(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function an(n,t){let e=Symbol(),r=t.get(n,e);return r===e?typeof n=="function"&&!Ja(n)?n:t.get(n):r}function Ln(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Zt(t);return n.children.forEach(o=>{vf(o,s[o.value.outlet],e,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>jn(c,e.getContext(o),i)),i}function vf(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=t?t.value:null,c=e?e.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let a=yf(o,s,s.routeConfig.runGuardsAndResolvers);a?i.canActivateChecks.push(new Xr(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Ln(n,t,c?c.children:null,r,i):Ln(n,t,e,r,i),a&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new tn(c.outlet.component,o))}else o&&jn(t,c,i),i.canActivateChecks.push(new Xr(r)),s.component?Ln(n,null,c?c.children:null,r,i):Ln(n,null,e,r,i);return i}function yf(n,t,e){if(typeof e=="function")return e(n,t);switch(e){case"pathParamsChange":return!Pt(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Pt(n.url,t.url)||!He(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Xs(n,t)||!He(n.queryParams,t.queryParams);case"paramsChange":default:return!Xs(n,t)}}function jn(n,t,e){let r=Zt(n),i=n.value;Object.entries(r).forEach(([s,o])=>{i.component?t?jn(o,t.children.getContext(s),e):jn(o,null,e):jn(o,t,e)}),i.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new tn(t.outlet.component,i)):e.canDeactivateChecks.push(new tn(null,i)):e.canDeactivateChecks.push(new tn(null,i))}function Xn(n){return typeof n=="function"}function _f(n){return typeof n=="boolean"}function If(n){return n&&Xn(n.canLoad)}function wf(n){return n&&Xn(n.canActivate)}function Ef(n){return n&&Xn(n.canActivateChild)}function bf(n){return n&&Xn(n.canDeactivate)}function Tf(n){return n&&Xn(n.canMatch)}function Uu(n){return n instanceof Va||n?.name==="EmptyError"}var jr=Symbol("INITIAL_VALUE");function sn(){return te(n=>Vi(n.map(t=>t.pipe(fe(1),Ya(jr)))).pipe(D(t=>{for(let e of t)if(e!==!0){if(e===jr)return jr;if(e===!1||Sf(e))return e}return!0}),Ie(t=>t!==jr),fe(1)))}function Sf(n){return kt(n)||n instanceof qn}function Rf(n,t){return Se(e=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=e;return o.length===0&&s.length===0?R(ce(b({},e),{guardsResult:!0})):Af(o,r,i,n).pipe(Se(c=>c&&_f(c)?Cf(r,s,n,t):R(c)),D(c=>ce(b({},e),{guardsResult:c})))})}function Af(n,t,e,r){return oe(n).pipe(Se(i=>Nf(i.component,i.route,e,t,r)),pt(i=>i!==!0,!0))}function Cf(n,t,e,r){return oe(t).pipe(Tt(i=>pr(Pf(i.route.parent,r),Of(i.route,r),Df(n,i.path,e),kf(n,i.route,e))),pt(i=>i!==!0,!0))}function Of(n,t){return n!==null&&t&&t(new qs(n)),R(!0)}function Pf(n,t){return n!==null&&t&&t(new Ws(n)),R(!0)}function kf(n,t,e){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return R(!0);let i=r.map(s=>Wt(()=>{let o=Jn(t)??e,c=an(s,o),a=wf(c)?c.canActivate(t,n):De(o,()=>c(t,n));return _t(a).pipe(pt())}));return R(i).pipe(sn())}function Df(n,t,e){let r=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>gf(o)).filter(o=>o!==null).map(o=>Wt(()=>{let c=o.guards.map(a=>{let u=Jn(o.node)??e,d=an(a,u),h=Ef(d)?d.canActivateChild(r,n):De(u,()=>d(r,n));return _t(h).pipe(pt())});return R(c).pipe(sn())}));return R(s).pipe(sn())}function Nf(n,t,e,r,i){let s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||s.length===0)return R(!0);let o=s.map(c=>{let a=Jn(t)??i,u=an(c,a),d=bf(u)?u.canDeactivate(n,t,e,r):De(a,()=>u(n,t,e,r));return _t(d).pipe(pt())});return R(o).pipe(sn())}function Mf(n,t,e,r){let i=t.canLoad;if(i===void 0||i.length===0)return R(!0);let s=i.map(o=>{let c=an(o,n),a=If(c)?c.canLoad(t,e):De(n,()=>c(t,e));return _t(a)});return R(s).pipe(sn(),Fu(r))}function Fu(n){return Ua(W(t=>{if(typeof t!="boolean")throw Jr(n,t)}),D(t=>t===!0))}function Lf(n,t,e,r){let i=t.canMatch;if(!i||i.length===0)return R(!0);let s=i.map(o=>{let c=an(o,n),a=Tf(c)?c.canMatch(t,e):De(n,()=>c(t,e));return _t(a)});return R(s).pipe(sn(),Fu(r))}var Gn=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},Yn=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function Xt(n){return ke(new Gn(n))}function xf(n){return ke(new X(4e3,!1))}function Uf(n){return ke(Lu(!1,be.GuardRejected))}var eo=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return R(r);if(i.numberOfChildren>1||!i.children[k])return xf(`${t.redirectTo}`);i=i.children[k]}}applyRedirectCommands(t,e,r,i,s){if(typeof e!="string"){let c=e,{queryParams:a,fragment:u,routeConfig:d,url:h,outlet:y,params:p,data:E,title:I}=i,_=De(s,()=>c({params:p,data:E,queryParams:a,fragment:u,routeConfig:d,url:h,outlet:y,title:I}));if(_ instanceof rt)throw new Yn(_);e=_}let o=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,r);if(e[0]==="/")throw new Yn(o);return o}applyRedirectCreateUrlTree(t,e,r,i){let s=this.createSegmentGroup(t,e.root,r,i);return new rt(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let r={};return Object.entries(t).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let c=s.substring(1);r[i]=e[c]}else r[i]=s}),r}createSegmentGroup(t,e,r,i){let s=this.createSegments(t,e.segments,r,i),o={};return Object.entries(e.children).forEach(([c,a])=>{o[c]=this.createSegmentGroup(t,a,r,i)}),new $(s,o)}createSegments(t,e,r,i){return e.map(s=>s.path[0]===":"?this.findPosParam(t,s,i):this.findOrReturn(s,r))}findPosParam(t,e,r){let i=r[e.path.substring(1)];if(!i)throw new X(4001,!1);return i}findOrReturn(t,e){let r=0;for(let i of e){if(i.path===t.path)return e.splice(r),i;r++}return t}},to={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ff(n,t,e,r,i){let s=ju(n,t,e);return s.matched?(r=of(t,r),Lf(r,t,e,i).pipe(D(o=>o===!0?s:b({},to)))):R(s)}function ju(n,t,e){if(t.path==="**")return jf(e);if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||e.length>0)?b({},to):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let i=(t.matcher||Nh)(e,n,t);if(!i)return b({},to);let s={};Object.entries(i.posParams??{}).forEach(([c,a])=>{s[c]=a.path});let o=i.consumed.length>0?b(b({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function jf(n){return{matched:!0,parameters:n.length>0?yu(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function pu(n,t,e,r){return e.length>0&&zf(n,e,r)?{segmentGroup:new $(t,Vf(r,new $(e,n.children))),slicedSegments:[]}:e.length===0&&Bf(n,e,r)?{segmentGroup:new $(n.segments,$f(n,e,r,n.children)),slicedSegments:e}:{segmentGroup:new $(n.segments,n.children),slicedSegments:e}}function $f(n,t,e,r){let i={};for(let s of e)if(Qr(n,t,s)&&!r[xe(s)]){let o=new $([],{});i[xe(s)]=o}return b(b({},r),i)}function Vf(n,t){let e={};e[k]=t;for(let r of n)if(r.path===""&&xe(r)!==k){let i=new $([],{});e[xe(r)]=i}return e}function zf(n,t,e){return e.some(r=>Qr(n,t,r)&&xe(r)!==k)}function Bf(n,t,e){return e.some(r=>Qr(n,t,r))}function Qr(n,t,e){return(n.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function Wf(n,t,e){return t.length===0&&!n.children[e]}var no=class{};function Hf(n,t,e,r,i,s,o="emptyOnly"){return new ro(n,t,e,r,i,o,s).recognize()}var qf=31,ro=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,r,i,s,o,c){this.injector=t,this.configLoader=e,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.applyRedirects=new eo(this.urlSerializer,this.urlTree)}noMatchError(t){return new X(4002,`'${t.segmentGroup}'`)}recognize(){let t=pu(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(D(({children:e,rootSnapshot:r})=>{let i=new Ee(r,e),s=new Kr("",i),o=Zh(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(t){let e=new en([],Object.freeze({}),Object.freeze(b({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),k,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,k,e).pipe(D(r=>({children:r,rootSnapshot:e})),ft(r=>{if(r instanceof Yn)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Gn?this.noMatchError(r):r}))}processSegmentGroup(t,e,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,e,r,s):this.processSegment(t,e,r,r.segments,i,!0,s).pipe(D(o=>o instanceof Ee?[o]:[]))}processChildren(t,e,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return oe(s).pipe(Tt(o=>{let c=r.children[o],a=af(e,o);return this.processSegmentGroup(t,a,c,o,i)}),Ga((o,c)=>(o.push(...c),o)),Hi(null),Ha(),Se(o=>{if(o===null)return Xt(r);let c=$u(o);return Gf(c),R(c)}))}processSegment(t,e,r,i,s,o,c){return oe(e).pipe(Tt(a=>this.processSegmentAgainstRoute(a._injector??t,e,a,r,i,s,o,c).pipe(ft(u=>{if(u instanceof Gn)return R(null);throw u}))),pt(a=>!!a),ft(a=>{if(Uu(a))return Wf(r,i,s)?R(new no):Xt(r);throw a}))}processSegmentAgainstRoute(t,e,r,i,s,o,c,a){return xe(r)!==o&&(o===k||!Qr(i,s,r))?Xt(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,s,o,a):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(t,i,e,r,s,o,a):Xt(i)}expandSegmentAgainstRouteUsingRedirect(t,e,r,i,s,o,c){let{matched:a,parameters:u,consumedSegments:d,positionalParamSegments:h,remainingSegments:y}=ju(e,i,s);if(!a)return Xt(e);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>qf&&(this.allowRedirects=!1));let p=new en(s,u,Object.freeze(b({},this.urlTree.queryParams)),this.urlTree.fragment,mu(i),xe(i),i.component??i._loadedComponent??null,i,gu(i)),E=Yr(p,c,this.paramsInheritanceStrategy);p.params=Object.freeze(E.params),p.data=Object.freeze(E.data);let I=this.applyRedirects.applyRedirectCommands(d,i.redirectTo,h,p,t);return this.applyRedirects.lineralizeSegments(i,I).pipe(Se(_=>this.processSegment(t,r,e,_.concat(y),o,!1,c)))}matchSegmentAgainstRoute(t,e,r,i,s,o){let c=Ff(e,r,i,t,this.urlSerializer);return r.path==="**"&&(e.children={}),c.pipe(te(a=>a.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(te(({routes:u})=>{let d=r._loadedInjector??t,{parameters:h,consumedSegments:y,remainingSegments:p}=a,E=new en(y,h,Object.freeze(b({},this.urlTree.queryParams)),this.urlTree.fragment,mu(r),xe(r),r.component??r._loadedComponent??null,r,gu(r)),I=Yr(E,o,this.paramsInheritanceStrategy);E.params=Object.freeze(I.params),E.data=Object.freeze(I.data);let{segmentGroup:_,slicedSegments:F}=pu(e,y,p,u);if(F.length===0&&_.hasChildren())return this.processChildren(d,u,_,E).pipe(D(N=>new Ee(E,N)));if(u.length===0&&F.length===0)return R(new Ee(E,[]));let G=xe(r)===s;return this.processSegment(d,u,_,F,G?k:s,!0,E).pipe(D(N=>new Ee(E,N instanceof Ee?[N]:[])))}))):Xt(e)))}getChildConfig(t,e,r){return e.children?R({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?R({routes:e._loadedRoutes,injector:e._loadedInjector}):Mf(t,e,r,this.urlSerializer).pipe(Se(i=>i?this.configLoader.loadChildren(t,e).pipe(W(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):Uf(e))):R({routes:[],injector:t})}};function Gf(n){n.sort((t,e)=>t.value.outlet===k?-1:e.value.outlet===k?1:t.value.outlet.localeCompare(e.value.outlet))}function Yf(n){let t=n.value.routeConfig;return t&&t.path===""}function $u(n){let t=[],e=new Set;for(let r of n){if(!Yf(r)){t.push(r);continue}let i=t.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),e.add(i)):t.push(r)}for(let r of e){let i=$u(r.children);t.push(new Ee(r.value,i))}return t.filter(r=>!e.has(r))}function mu(n){return n.data||{}}function gu(n){return n.resolve||{}}function Kf(n,t,e,r,i,s){return Se(o=>Hf(n,t,e,r,o.extractedUrl,i,s).pipe(D(({state:c,tree:a})=>ce(b({},o),{targetSnapshot:c,urlAfterRedirects:a}))))}function Jf(n,t){return Se(e=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return R(e);let s=new Set(i.map(a=>a.route)),o=new Set;for(let a of s)if(!o.has(a))for(let u of Vu(a))o.add(u);let c=0;return oe(o).pipe(Tt(a=>s.has(a)?Xf(a,r,n,t):(a.data=Yr(a,a.parent,n).resolve,R(void 0))),W(()=>c++),qi(1),Se(a=>c===o.size?R(e):ht))})}function Vu(n){let t=n.children.map(e=>Vu(e)).flat();return[n,...t]}function Xf(n,t,e,r){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!Nu(i)&&(s[Kn]=i.title),Zf(s,n,t,r).pipe(D(o=>(n._resolvedData=o,n.data=Yr(n,n.parent,e).resolve,null)))}function Zf(n,t,e,r){let i=Ns(n);if(i.length===0)return R({});let s={};return oe(i).pipe(Se(o=>Qf(n[o],t,e,r).pipe(pt(),W(c=>{if(c instanceof qn)throw Jr(new $n,c);s[o]=c}))),qi(1),Ba(s),ft(o=>Uu(o)?ht:ke(o)))}function Qf(n,t,e,r){let i=Jn(t)??r,s=an(n,i),o=s.resolve?s.resolve(t,e):De(i,()=>s(t,e));return _t(o)}function ks(n){return te(t=>{let e=n(t);return e?oe(e).pipe(D(()=>t)):R(t)})}var zu=(()=>{class n{buildTitle(e){let r,i=e.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===k);return r}getResolvedTitleForRoute(e){return e.data[Kn]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:()=>f(ep),providedIn:"root"})}return n})(),ep=(()=>{class n extends zu{title;constructor(e){super(),this.title=e}updateTitle(e){let r=this.buildTitle(e);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(x(uu))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),uo=new U("",{providedIn:"root",factory:()=>({})}),tp=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=ze({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(r,i){r&1&&ge(0,"router-outlet")},dependencies:[ao],encapsulation:2})}return n})();function lo(n){let t=n.children&&n.children.map(lo),e=t?ce(b({},n),{children:t}):b({},n);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==k&&(e.component=tp),e}var ho=new U(""),np=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=f(os);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return R(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let r=_t(e.loadComponent()).pipe(D(Bu),W(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),qt(()=>{this.componentLoaders.delete(e)})),i=new Fi(r,()=>new Ve).pipe(Ui());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return R({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=rp(r,this.compiler,e,this.onLoadEndListener).pipe(qt(()=>{this.childrenLoaders.delete(r)})),o=new Fi(s,()=>new Ve).pipe(Ui());return this.childrenLoaders.set(r,o),o}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function rp(n,t,e,r){return _t(n.loadChildren()).pipe(D(Bu),Se(i=>i instanceof oc||Array.isArray(i)?R(i):oe(t.compileModuleAsync(i))),D(i=>{r&&r(n);let s,o,c=!1;return Array.isArray(i)?(o=i,c=!0):(s=i.create(e).injector,o=s.get(ho,[],{optional:!0,self:!0}).flat()),{routes:o.map(lo),injector:s}}))}function ip(n){return n&&typeof n=="object"&&"default"in n}function Bu(n){return ip(n)?n.default:n}var fo=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:()=>f(sp),providedIn:"root"})}return n})(),sp=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),op=new U("");var ap=new U(""),cp=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Ve;transitionAbortSubject=new Ve;configLoader=f(np);environmentInjector=f(Gt);urlSerializer=f(so);rootContexts=f(Zr);location=f(br);inputBindingEnabled=f(co,{optional:!0})!==null;titleStrategy=f(zu);options=f(uo,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=f(fo);createViewTransition=f(op,{optional:!0});navigationErrorHandler=f(ap,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>R(void 0);rootComponentType=null;constructor(){let e=i=>this.events.next(new zs(i)),r=i=>this.events.next(new Bs(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=e}complete(){this.transitions?.complete()}handleNavigationRequest(e){let r=++this.navigationId;this.transitions?.next(ce(b(b({},this.transitions.value),e),{id:r}))}setupNavigations(e,r,i){return this.transitions=new Te({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Fn,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ie(s=>s.id!==0),D(s=>ce(b({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),te(s=>{let o=!1,c=!1;return R(s).pipe(te(a=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",be.SupersededByNewNavigation),ht;this.currentTransition=s,this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,targetBrowserUrl:typeof a.extras.browserUrl=="string"?this.urlSerializer.parse(a.extras.browserUrl):a.extras.browserUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?ce(b({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=a.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!u&&d!=="reload"){let h="";return this.events.next(new Dt(a.id,this.urlSerializer.serialize(a.rawUrl),h,Us.IgnoredSameUrlNavigation)),a.resolve(!1),ht}if(this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return R(a).pipe(te(h=>{let y=this.transitions?.getValue();return this.events.next(new zn(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),y!==this.transitions?.getValue()?ht:Promise.resolve(h)}),Kf(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),W(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=ce(b({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let y=new Hr(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(y)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(a.currentRawUrl)){let{id:h,extractedUrl:y,source:p,restoredState:E,extras:I}=a,_=new zn(h,this.urlSerializer.serialize(y),p,E);this.events.next(_);let F=ku(this.rootComponentType).snapshot;return this.currentTransition=s=ce(b({},a),{targetSnapshot:F,urlAfterRedirects:y,extras:ce(b({},I),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,R(s)}else{let h="";return this.events.next(new Dt(a.id,this.urlSerializer.serialize(a.extractedUrl),h,Us.IgnoredByUrlHandlingStrategy)),a.resolve(!1),ht}}),W(a=>{let u=new Fs(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),D(a=>(this.currentTransition=s=ce(b({},a),{guards:mf(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),s)),Rf(this.environmentInjector,a=>this.events.next(a)),W(a=>{if(s.guardsResult=a.guardsResult,a.guardsResult&&typeof a.guardsResult!="boolean")throw Jr(this.urlSerializer,a.guardsResult);let u=new js(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(u)}),Ie(a=>a.guardsResult?!0:(this.cancelNavigationTransition(a,"",be.GuardRejected),!1)),ks(a=>{if(a.guards.canActivateChecks.length)return R(a).pipe(W(u=>{let d=new $s(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),te(u=>{let d=!1;return R(u).pipe(Jf(this.paramsInheritanceStrategy,this.environmentInjector),W({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",be.NoDataFromResolver)}}))}),W(u=>{let d=new Vs(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),ks(a=>{let u=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(W(y=>{d.component=y}),D(()=>{})));for(let y of d.children)h.push(...u(y));return h};return Vi(u(a.targetSnapshot.root)).pipe(Hi(null),fe(1))}),ks(()=>this.afterPreactivation()),te(()=>{let{currentSnapshot:a,targetSnapshot:u}=s,d=this.createViewTransition?.(this.environmentInjector,a.root,u.root);return d?oe(d).pipe(D(()=>s)):R(s)}),D(a=>{let u=lf(e.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return this.currentTransition=s=ce(b({},a),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),W(()=>{this.events.next(new Wn)}),pf(this.rootContexts,e.routeReuseStrategy,a=>this.events.next(a),this.inputBindingEnabled),fe(1),W({next:a=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new it(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects))),this.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{o=!0}}),Ka(this.transitionAbortSubject.pipe(W(a=>{throw a}))),qt(()=>{!o&&!c&&this.cancelNavigationTransition(s,"",be.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),ft(a=>{if(c=!0,xu(a))this.events.next(new nt(s.id,this.urlSerializer.serialize(s.extractedUrl),a.message,a.cancellationCode)),ff(a)?this.events.next(new rn(a.url,a.navigationBehaviorOptions)):s.resolve(!1);else{let u=new Bn(s.id,this.urlSerializer.serialize(s.extractedUrl),a,s.targetSnapshot??void 0);try{let d=De(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(d instanceof qn){let{message:h,cancellationCode:y}=Jr(this.urlSerializer,d);this.events.next(new nt(s.id,this.urlSerializer.serialize(s.extractedUrl),h,y)),this.events.next(new rn(d.redirectTo,d.navigationBehaviorOptions))}else throw this.events.next(u),a}catch(d){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(d)}}return ht}))}))}cancelNavigationTransition(e,r,i){let s=new nt(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(s),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function up(n){return n!==Fn}var lp=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:()=>f(dp),providedIn:"root"})}return n})(),io=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},dp=(()=>{class n extends io{static \u0275fac=(()=>{let e;return function(i){return(e||(e=Yi(n)))(i||n)}})();static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Wu=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:()=>f(hp),providedIn:"root"})}return n})(),hp=(()=>{class n extends Wu{location=f(br);urlSerializer=f(so);options=f(uo,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=f(fo);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new rt;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=ku(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(r=>{r.type==="popstate"&&e(r.url,r.state)})}handleRouterEvent(e,r){if(e instanceof zn)this.stateMemento=this.createStateMemento();else if(e instanceof Dt)this.rawUrlTree=r.initialUrl;else if(e instanceof Hr){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else e instanceof Wn?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):e instanceof nt&&(e.code===be.GuardRejected||e.code===be.NoDataFromResolver)?this.restoreHistory(r):e instanceof Bn?this.restoreHistory(r,!0):e instanceof it&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,r){let i=e instanceof rt?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=b(b({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=b(b({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(e,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===e.finalUrl&&s===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=Yi(n)))(i||n)}})();static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xn=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(xn||{});function fp(n,t){n.events.pipe(Ie(e=>e instanceof it||e instanceof nt||e instanceof Bn||e instanceof Dt),D(e=>e instanceof it||e instanceof Dt?xn.COMPLETE:(e instanceof nt?e.code===be.Redirect||e.code===be.SupersededByNewNavigation:!1)?xn.REDIRECTING:xn.FAILED),Ie(e=>e!==xn.REDIRECTING),fe(1)).subscribe(()=>{t()})}var pp={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},mp={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},qe=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=f(_r);stateManager=f(Wu);options=f(uo,{optional:!0})||{};pendingTasks=f(gr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=f(cp);urlSerializer=f(so);location=f(br);urlHandlingStrategy=f(fo);_events=new Ve;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=f(lp);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=f(ho,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!f(co,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new xa;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof nt&&r.code!==be.Redirect&&r.code!==be.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof it)this.navigated=!0;else if(r instanceof rn){let o=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),a=b({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||up(i.source)},o);this.scheduleNavigation(c,Fn,null,a,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}vp(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Fn,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",r)},0)})}navigateToSyncWithBrowser(e,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let a=b({},i);delete a.navigationId,delete a.\u0275routerPageId,Object.keys(a).length!==0&&(s.state=a)}let c=this.parseUrl(e);this.scheduleNavigation(c,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(lo),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:c,preserveFragment:a}=r,u=a?this.currentUrlTree.fragment:o,d=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":d=b(b({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let y=i?i.snapshot:this.routerState.snapshot.root;h=Au(y)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),h=this.currentUrlTree.root}return Cu(h,e,d,u??null)}navigateByUrl(e,r={skipLocationChange:!1}){let i=kt(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Fn,null,r)}navigate(e,r={skipLocationChange:!1}){return gp(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,r){let i;if(r===!0?i=b({},pp):r===!1?i=b({},mp):i=r,kt(e))return lu(this.currentUrlTree,e,i);let s=this.parseUrl(e);return lu(this.currentUrlTree,s,i)}removeEmptyProps(e){return Object.entries(e).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(e,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let c,a,u;o?(c=o.resolve,a=o.reject,u=o.promise):u=new Promise((h,y)=>{c=h,a=y});let d=this.pendingTasks.add();return fp(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:s,resolve:c,reject:a,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function gp(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new X(4008,!1)}function vp(n){return!(n instanceof Wn)&&!(n instanceof rn)}var on=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ve;constructor(e,r,i,s,o,c){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=c;let a=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=a==="a"||a==="area",this.isAnchorElement?this.subscription=e.events.subscribe(u=>{u instanceof it&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(kt(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,r,i,s,o){let c=this.urlTree;if(c===null||this.isAnchorElement&&(e!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let a={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,a),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let r=this.href===null?null:sc(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(e,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,e,r):i.removeAttribute(s,e)}get urlTree(){return this.routerLinkInput===null?null:kt(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(Le(qe),Le(Nt),Za("tabindex"),Le(ns),Le(Ji),Le(us))};static \u0275dir=yr({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&Z("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&dc("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Er],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Er],replaceUrl:[2,"replaceUrl","replaceUrl",Er],routerLink:"routerLink"},features:[lc,mr]})}return n})(),Hu=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Yt;constructor(e,r,i,s,o){this.router=e,this.element=r,this.renderer=i,this.cdr=s,this.link=o,this.routerEventsSubscription=e.events.subscribe(c=>{c instanceof it&&this.update()})}ngAfterContentInit(){R(this.links.changes,R(null)).pipe(zi()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let e=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=oe(e).pipe(zi()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(e){let r=Array.isArray(e)?e:e.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(r=>{e?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),e&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){let r=yp(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let s=i.urlTree;return s?e.isActive(s,r):!1}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static \u0275fac=function(r){return new(r||n)(Le(qe),Le(Ji),Le(ns),Le(wr),Le(on,8))};static \u0275dir=yr({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,s){if(r&1&&vc(s,on,5),r&2){let o;yc(o=_c())&&(i.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[mr]})}return n})();function yp(n){return!!n.paths}var _p=new U("");function qu(n,...t){return we([{provide:ho,multi:!0,useValue:n},[],{provide:Nt,useFactory:Ip,deps:[qe]},{provide:is,multi:!0,useFactory:wp},t.map(e=>e.\u0275providers)])}function Ip(n){return n.routerState.root}function wp(){let n=f(mt);return t=>{let e=n.get(St);if(t!==e.components[0])return;let r=n.get(qe),i=n.get(Ep);n.get(bp)===1&&r.initialNavigation(),n.get(Tp,null,Gi.Optional)?.setUpPreloading(),n.get(_p,null,Gi.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Ep=new U("",{factory:()=>new Ve}),bp=new U("",{providedIn:"root",factory:()=>1});var Tp=new U("");var cn={done:!1,hasNext:!1};function Mt(n,...t){let e=n,r=t.map(s=>"lazy"in s?Sp(s):void 0),i=0;for(;i<t.length;){if(r[i]===void 0||!Rp(e)){let a=t[i];e=a(e),i+=1;continue}let s=[];for(let a=i;a<t.length;a++){let u=r[a];if(u===void 0||(s.push(u),u.isSingle))break}let o=[];for(let a of e)if(Gu(a,o,s))break;let{isSingle:c}=s.at(-1);e=c?o[0]:o,i+=s.length}return e}function Gu(n,t,e){if(e.length===0)return t.push(n),!1;let r=n,i=cn,s=!1;for(let[o,c]of e.entries()){let{index:a,items:u}=c;if(u.push(r),i=c(r,a,u),c.index+=1,i.hasNext){if(i.hasMany??!1){for(let d of i.next)if(Gu(d,t,e.slice(o+1)))return!0;return s}r=i.next}if(!i.hasNext)break;i.done&&(s=!0)}return i.hasNext&&t.push(r),s}function Sp(n){let{lazy:t,lazyArgs:e}=n,r=t(...e);return Object.assign(r,{isSingle:t.single??!1,index:0,items:[]})}function Rp(n){return typeof n=="string"||typeof n=="object"&&n!==null&&Symbol.iterator in n}function ei(n,t){let e=t.length-n.length;if(e===1){let[r,...i]=t;return Mt(r,{lazy:n,lazyArgs:i})}if(e===0){let r={lazy:n,lazyArgs:t};return Object.assign(i=>Mt(i,r),r)}throw new Error("Wrong number of arguments")}function Zn(...n){return ei(Ap,n)}function Ap(n){let t=n,e=new Set;return(r,i,s)=>{let o=t(r,i,s);return e.has(o)?cn:(e.add(o),{done:!1,hasNext:!0,next:r})}}function Yu(n,t,e){let r=i=>n(i,...t);return e===void 0?r:Object.assign(r,{lazy:e,lazyArgs:t})}function Ce(n,t,e){let r=n.length-t.length;if(r===0)return n(...t);if(r===1)return Yu(n,t,e);throw new Error("Wrong number of arguments")}function po(...n){return ei(Cp,n)}function Cp(){let n=new Set;return t=>n.has(t)?cn:(n.add(t),{done:!1,hasNext:!0,next:t})}var Ju={asc:(n,t)=>n>t,desc:(n,t)=>n<t};function Xu(n,t){let[e,...r]=t;if(!Op(e)){let s=mo(...r);return n(e,s)}let i=mo(e,...r);return s=>n(s,i)}function mo(n,t,...e){let r=typeof n=="function"?n:n[0],i=typeof n=="function"?"asc":n[1],{[i]:s}=Ju,o=t===void 0?void 0:mo(t,...e);return(c,a)=>{let u=r(c),d=r(a);return s(u,d)?1:s(d,u)?-1:o?.(c,a)??0}}function Op(n){if(Ku(n))return!0;if(typeof n!="object"||!Array.isArray(n))return!1;let[t,e,...r]=n;return Ku(t)&&typeof e=="string"&&e in Ju&&r.length===0}var Ku=n=>typeof n=="function"&&n.length===1;function Pp(...n){return Xu(kp,n)}var kp=(n,t)=>[...n].sort(t);function Dp(...n){return Ce(Np,n)}function Np(n){return[...n].reverse()}function ti(...n){return Ce(Mp,n,Lp)}var Mp=(n,t)=>n.map(t),Lp=n=>(t,e,r)=>({done:!1,hasNext:!0,next:n(t,e,r)});function xp(...n){return Ce(Up,n)}function Up(n,t){let e={};for(let[r,i]of Object.entries(n)){let s=t(i,r,n);e[r]=s}return e}function Fp(...n){return Ce(Qn,n)}function Qn(n,t){if(n===t||Object.is(n,t))return!0;if(typeof n!="object"||typeof t!="object"||n===null||t===null||Object.getPrototypeOf(n)!==Object.getPrototypeOf(t))return!1;if(Array.isArray(n))return jp(n,t);if(n instanceof Map)return $p(n,t);if(n instanceof Set)return Vp(n,t);if(n instanceof Date)return n.getTime()===t.getTime();if(n instanceof RegExp)return n.toString()===t.toString();if(Object.keys(n).length!==Object.keys(t).length)return!1;for(let[e,r]of Object.entries(n))if(!(e in t)||!Qn(r,t[e]))return!1;return!0}function jp(n,t){if(n.length!==t.length)return!1;for(let[e,r]of n.entries())if(!Qn(r,t[e]))return!1;return!0}function $p(n,t){if(n.size!==t.size)return!1;for(let[e,r]of n.entries())if(!t.has(e)||!Qn(r,t.get(e)))return!1;return!0}function Vp(n,t){if(n.size!==t.size)return!1;let e=[...t];for(let r of n){let i=!1;for(let[s,o]of e.entries())if(Qn(r,o)){i=!0,e.splice(s,1);break}if(!i)return!1}return!0}function zp(...n){return Ce(Bp,n)}var Bp=(n,t)=>{let e={};for(let[r,i]of n.entries()){let s=t(i,r,n);if(s!==void 0){let{[s]:o}=e;o===void 0&&(o=[],e[s]=o),o.push(i)}}return e};function Wp(...n){return Ce(Object.entries,n)}var Qu=(()=>{class n{constructor(){this.http=f(Ct),this.apiUrl=f(Lt),this.exercises=Be([]),this.types=as(()=>Mt(this.exercises(),ti(e=>e.type??"No type"),po())),this.muscleGroups=as(()=>Mt(this.exercises(),ti(e=>e.muscleGroup??"No muscle group"),Zn(e=>e)))}fetchExercises(){return l(this,null,function*(){yield za(this.getExercises())})}getExercises(){return this.http.get(`${this.apiUrl}/exercises`).pipe(D(e=>e.data),W(e=>this.exercises.set(e)))}createExercise(e){return this.http.post(`${this.apiUrl}/exercises`,e)}updateExercise(e){return this.http.put(`${this.apiUrl}/exercises/${e.id}`,e)}deleteExercise(e){return this.http.delete(`${this.apiUrl}/exercises/${e}`)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ni=(()=>{class n{constructor(){this.toasts=Be([])}show(e){this.toasts.update(r=>Zn([...r,e],i=>i.text))}ok(e){this.show({text:e,type:"success"})}error(e){this.show({text:e??"An error ocurred",type:"danger"})}remove(e){this.toasts.update(r=>r.filter(i=>i!==e))}clear(){this.toasts.set([])}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var tl=function(n){let t=[],e=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?t[e++]=i:i<2048?(t[e++]=i>>6|192,t[e++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),t[e++]=i>>18|240,t[e++]=i>>12&63|128,t[e++]=i>>6&63|128,t[e++]=i&63|128):(t[e++]=i>>12|224,t[e++]=i>>6&63|128,t[e++]=i&63|128)}return t},Hp=function(n){let t=[],e=0,r=0;for(;e<n.length;){let i=n[e++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[e++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[e++],o=n[e++],c=n[e++],a=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(a&1023))}else{let s=n[e++],o=n[e++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},nl={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,c=o?n[i+1]:0,a=i+2<n.length,u=a?n[i+2]:0,d=s>>2,h=(s&3)<<4|c>>4,y=(c&15)<<2|u>>6,p=u&63;a||(p=64,o||(y=64)),r.push(e[d],e[h],e[y],e[p])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(tl(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):Hp(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();let e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=e[n.charAt(i++)],c=i<n.length?e[n.charAt(i)]:0;++i;let u=i<n.length?e[n.charAt(i)]:64;++i;let h=i<n.length?e[n.charAt(i)]:64;if(++i,s==null||c==null||u==null||h==null)throw new vo;let y=s<<2|c>>4;if(r.push(y),u!==64){let p=c<<4&240|u>>2;if(r.push(p),h!==64){let E=u<<6&192|h;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},vo=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},qp=function(n){let t=tl(n);return nl.encodeByteArray(t,!0)},_o=function(n){return qp(n).replace(/\./g,"")},Io=function(n){try{return nl.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Gp(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Yp=()=>Gp().__FIREBASE_DEFAULTS__,Kp=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Jp=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=n&&Io(n[1]);return t&&JSON.parse(t)},wo=()=>{try{return Yp()||Kp()||Jp()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},rl=n=>{var t,e;return(e=(t=wo())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]};var Eo=()=>{var n;return(n=wo())===null||n===void 0?void 0:n.config},bo=n=>{var t;return(t=wo())===null||t===void 0?void 0:t[`_${n}`]};var ri=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}};function he(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function il(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(he())}function sl(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function ol(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function al(){let n=he();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function cl(){try{return typeof indexedDB=="object"}catch{return!1}}function ul(){return new Promise((n,t)=>{try{let e=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),e||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{e=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(e){t(e)}})}var Xp="FirebaseError",Ue=class n extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=Xp,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,st.prototype.create)}},st=class{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){let r=e[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?Zp(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new Ue(i,c,r)}};function Zp(n,t){return n.replace(Qp,(e,r)=>{let i=t[r];return i!=null?String(i):`<${r}?>`})}var Qp=/\{\$([^}]+)}/g;function ll(n){for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function un(n,t){if(n===t)return!0;let e=Object.keys(n),r=Object.keys(t);for(let i of e){if(!r.includes(i))return!1;let s=n[i],o=t[i];if(el(s)&&el(o)){if(!un(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!e.includes(i))return!1;return!0}function el(n){return n!==null&&typeof n=="object"}function ln(n){let t=[];for(let[e,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function dl(n,t){let e=new yo(n,t);return e.subscribe.bind(e)}var yo=class{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,r){let i;if(t===void 0&&e===void 0&&r===void 0)throw new Error("Missing Observer.");em(t,["next","error","complete"])?i=t:i={next:t,error:e,complete:r},i.next===void 0&&(i.next=go),i.error===void 0&&(i.error=go),i.complete===void 0&&(i.complete=go);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function em(n,t){if(typeof n!="object"||n===null)return!1;for(let e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function go(){}var Sw=4*60*60*1e3;function It(n){return n&&n._delegate?n._delegate:n}var Ge=class{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};var xt="[DEFAULT]";var To=class{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){let e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){let r=new ri;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:e});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;let r=this.normalizeInstanceIdentifier(t?.identifier),i=(e=t?.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(nm(t))try{this.getOrInitializeService({instanceIdentifier:xt})}catch{}for(let[e,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(e);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=xt){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){return l(this,null,function*(){let t=Array.from(this.instances.values());yield Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])})}isComponentSet(){return this.component!=null}isInitialized(t=xt){return this.instances.has(t)}getOptions(t=xt){return this.instancesOptions.get(t)||{}}initialize(t={}){let{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:e});for(let[s,o]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(t,e){var r;let i=this.normalizeInstanceIdentifier(e),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,e){let r=this.onInitCallbacks.get(e);if(r)for(let i of r)try{i(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:tm(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=xt){return this.component?this.component.multipleInstances?t:xt:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function tm(n){return n===xt?void 0:n}function nm(n){return n.instantiationMode==="EAGER"}var ii=class{constructor(t){this.name=t,this.providers=new Map}addComponent(t){let e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);let e=new To(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}};var rm=[],z=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(z||{}),im={debug:z.DEBUG,verbose:z.VERBOSE,info:z.INFO,warn:z.WARN,error:z.ERROR,silent:z.SILENT},sm=z.INFO,om={[z.DEBUG]:"log",[z.VERBOSE]:"log",[z.INFO]:"info",[z.WARN]:"warn",[z.ERROR]:"error"},am=(n,t,...e)=>{if(t<n.logLevel)return;let r=new Date().toISOString(),i=om[t];if(i)console[i](`[${r}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)},dn=class{constructor(t){this.name=t,this._logLevel=sm,this._logHandler=am,this._userLogHandler=null,rm.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in z))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?im[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,z.DEBUG,...t),this._logHandler(this,z.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,z.VERBOSE,...t),this._logHandler(this,z.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,z.INFO,...t),this._logHandler(this,z.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,z.WARN,...t),this._logHandler(this,z.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,z.ERROR,...t),this._logHandler(this,z.ERROR,...t)}};var cm=(n,t)=>t.some(e=>n instanceof e),hl,fl;function um(){return hl||(hl=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lm(){return fl||(fl=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var pl=new WeakMap,Ro=new WeakMap,ml=new WeakMap,So=new WeakMap,Co=new WeakMap;function dm(n){let t=new Promise((e,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{e(Ye(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return t.then(e=>{e instanceof IDBCursor&&pl.set(e,n)}).catch(()=>{}),Co.set(t,n),t}function hm(n){if(Ro.has(n))return;let t=new Promise((e,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{e(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});Ro.set(n,t)}var Ao={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Ro.get(n);if(t==="objectStoreNames")return n.objectStoreNames||ml.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Ye(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function gl(n){Ao=n(Ao)}function fm(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){let r=n.call(si(this),t,...e);return ml.set(r,t.sort?t.sort():[t]),Ye(r)}:lm().includes(n)?function(...t){return n.apply(si(this),t),Ye(pl.get(this))}:function(...t){return Ye(n.apply(si(this),t))}}function pm(n){return typeof n=="function"?fm(n):(n instanceof IDBTransaction&&hm(n),cm(n,um())?new Proxy(n,Ao):n)}function Ye(n){if(n instanceof IDBRequest)return dm(n);if(So.has(n))return So.get(n);let t=pm(n);return t!==n&&(So.set(n,t),Co.set(t,n)),t}var si=n=>Co.get(n);function yl(n,t,{blocked:e,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(n,t),c=Ye(o);return r&&o.addEventListener("upgradeneeded",a=>{r(Ye(o.result),a.oldVersion,a.newVersion,Ye(o.transaction),a)}),e&&o.addEventListener("blocked",a=>e(a.oldVersion,a.newVersion,a)),c.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),c}var mm=["get","getKey","getAll","getAllKeys","count"],gm=["put","add","delete","clear"],Oo=new Map;function vl(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Oo.get(t))return Oo.get(t);let e=t.replace(/FromIndex$/,""),r=t!==e,i=gm.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(i||mm.includes(e)))return;let s=function(o,...c){return l(this,null,function*(){let a=this.transaction(o,i?"readwrite":"readonly"),u=a.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[e](...c),i&&a.done]))[0]})};return Oo.set(t,s),s}gl(n=>ce(b({},n),{get:(t,e,r)=>vl(t,e)||n.get(t,e,r),has:(t,e)=>!!vl(t,e)||n.has(t,e)}));var ko=class{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(vm(e)){let r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}};function vm(n){let t=n.getComponent();return t?.type==="VERSION"}var Do="@firebase/app",_l="0.10.10";var ot=new dn("@firebase/app"),ym="@firebase/app-compat",_m="@firebase/analytics-compat",Im="@firebase/analytics",wm="@firebase/app-check-compat",Em="@firebase/app-check",bm="@firebase/auth",Tm="@firebase/auth-compat",Sm="@firebase/database",Rm="@firebase/database-compat",Am="@firebase/functions",Cm="@firebase/functions-compat",Om="@firebase/installations",Pm="@firebase/installations-compat",km="@firebase/messaging",Dm="@firebase/messaging-compat",Nm="@firebase/performance",Mm="@firebase/performance-compat",Lm="@firebase/remote-config",xm="@firebase/remote-config-compat",Um="@firebase/storage",Fm="@firebase/storage-compat",jm="@firebase/firestore",$m="@firebase/vertexai-preview",Vm="@firebase/firestore-compat",zm="firebase",Bm="10.13.1";var No="[DEFAULT]",Wm={[Do]:"fire-core",[ym]:"fire-core-compat",[Im]:"fire-analytics",[_m]:"fire-analytics-compat",[Em]:"fire-app-check",[wm]:"fire-app-check-compat",[bm]:"fire-auth",[Tm]:"fire-auth-compat",[Sm]:"fire-rtdb",[Rm]:"fire-rtdb-compat",[Am]:"fire-fn",[Cm]:"fire-fn-compat",[Om]:"fire-iid",[Pm]:"fire-iid-compat",[km]:"fire-fcm",[Dm]:"fire-fcm-compat",[Nm]:"fire-perf",[Mm]:"fire-perf-compat",[Lm]:"fire-rc",[xm]:"fire-rc-compat",[Um]:"fire-gcs",[Fm]:"fire-gcs-compat",[jm]:"fire-fst",[Vm]:"fire-fst-compat",[$m]:"fire-vertex","fire-js":"fire-js",[zm]:"fire-js-all"};var er=new Map,Hm=new Map,Mo=new Map;function Il(n,t){try{n.container.addComponent(t)}catch(e){ot.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function hn(n){let t=n.name;if(Mo.has(t))return ot.debug(`There were multiple attempts to register component ${t}.`),!1;Mo.set(t,n);for(let e of er.values())Il(e,n);for(let e of Hm.values())Il(e,n);return!0}function Fo(n,t){let e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Ke(n){return n.settings!==void 0}var qm={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wt=new st("app","Firebase",qm);var Lo=class{constructor(t,e,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ge("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw wt.create("app-deleted",{appName:this._name})}};var fn=Bm;function jo(n,t={}){let e=n;typeof t!="object"&&(t={name:t});let r=Object.assign({name:No,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw wt.create("bad-app-name",{appName:String(i)});if(e||(e=Eo()),!e)throw wt.create("no-options");let s=er.get(i);if(s){if(un(e,s.options)&&un(r,s.config))return s;throw wt.create("duplicate-app",{appName:i})}let o=new ii(i);for(let a of Mo.values())o.addComponent(a);let c=new Lo(e,r,o);return er.set(i,c),c}function oi(n=No){let t=er.get(n);if(!t&&n===No&&Eo())return jo();if(!t)throw wt.create("no-app",{appName:n});return t}function ai(){return Array.from(er.values())}function ye(n,t,e){var r;let i=(r=Wm[n])!==null&&r!==void 0?r:n;e&&(i+=`-${e}`);let s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){let c=[`Unable to register library "${i}" with version "${t}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ot.warn(c.join(" "));return}hn(new Ge(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}var Gm="firebase-heartbeat-database",Ym=1,tr="firebase-heartbeat-store",Po=null;function Tl(){return Po||(Po=yl(Gm,Ym,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(tr)}catch(e){console.warn(e)}}}}).catch(n=>{throw wt.create("idb-open",{originalErrorMessage:n.message})})),Po}function Km(n){return l(this,null,function*(){try{let e=(yield Tl()).transaction(tr),r=yield e.objectStore(tr).get(Sl(n));return yield e.done,r}catch(t){if(t instanceof Ue)ot.warn(t.message);else{let e=wt.create("idb-get",{originalErrorMessage:t?.message});ot.warn(e.message)}}})}function wl(n,t){return l(this,null,function*(){try{let r=(yield Tl()).transaction(tr,"readwrite");yield r.objectStore(tr).put(t,Sl(n)),yield r.done}catch(e){if(e instanceof Ue)ot.warn(e.message);else{let r=wt.create("idb-set",{originalErrorMessage:e?.message});ot.warn(r.message)}}})}function Sl(n){return`${n.name}!${n.options.appId}`}var Jm=1024,Xm=30*24*60*60*1e3,xo=class{constructor(t){this.container=t,this._heartbeatsCache=null;let e=this.container.getProvider("app").getImmediate();this._storage=new Uo(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return l(this,null,function*(){var t,e;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=El();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let c=new Date(o.date).valueOf();return Date.now()-c<=Xm}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ot.warn(r)}})}getHeartbeatsHeader(){return l(this,null,function*(){var t;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=El(),{heartbeatsToSend:r,unsentEntries:i}=Zm(this._heartbeatsCache.heartbeats),s=_o(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return ot.warn(e),""}})}};function El(){return new Date().toISOString().substring(0,10)}function Zm(n,t=Jm){let e=[],r=n.slice();for(let i of n){let s=e.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),bl(e)>t){s.dates.pop();break}}else if(e.push({agent:i.agent,dates:[i.date]}),bl(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}var Uo=class{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return l(this,null,function*(){return cl()?ul().then(()=>!0).catch(()=>!1):!1})}read(){return l(this,null,function*(){if(yield this._canUseIndexedDBPromise){let e=yield Km(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(t){return l(this,null,function*(){var e;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return wl(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return})}add(t){return l(this,null,function*(){var e;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return wl(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return})}};function bl(n){return _o(JSON.stringify({version:2,heartbeats:n})).length}function Qm(n){hn(new Ge("platform-logger",t=>new ko(t),"PRIVATE")),hn(new Ge("heartbeat",t=>new xo(t),"PRIVATE")),ye(Do,_l,n),ye(Do,_l,"esm2017"),ye("fire-js","")}Qm("");var eg="firebase",tg="10.13.1";ye(eg,tg,"app");var nr=new Ir("ANGULARFIRE2_VERSION");function Rl(n,t,e){if(t){if(t.length===1)return t[0];let s=t.filter(o=>o.app===e);if(s.length===1)return s[0]}return e.container.getProvider(n).getImmediate({optional:!0})}var Vo=(n,t)=>{let e=t?[t]:ai(),r=[];return e.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},ci=class{constructor(){return Vo(ng)}},ng="app-check";function pn(){}var ui=class{zone;delegate;constructor(t,e=ja){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,r){let i=this.zone,s=function(o){i.runGuarded(()=>{t.apply(this,[o])})};return this.delegate.schedule(s,e,r)}},$o=class{zone;task=null;constructor(t){this.zone=t}call(t,e){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",pn,{},pn,pn)),e.pipe(W({next:r,complete:r,error:r})).subscribe(t).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},li=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new ui(Zone.current)),this.insideAngular=e.run(()=>new ui(Zone.current,Fa)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(x(ae))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function di(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function rg(n){return di().ngZone.runOutsideAngular(()=>n())}function Ut(n){return di().ngZone.run(()=>n())}function ig(n){return sg(di())(n)}function sg(n){return function(e){return e=e.lift(new $o(n.ngZone)),e.pipe($i(n.outsideAngular),ji(n.insideAngular))}}var og=(n,t)=>function(){let r=arguments;return t&&setTimeout(()=>{t.state==="scheduled"&&t.invoke()},10),Ut(()=>n.apply(void 0,r))},rr=(n,t)=>function(){let e,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(t&&(e||=Ut(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",pn,{},pn,pn))),r[s]=og(r[s],e));let i=rg(()=>n.apply(this,r));if(!t)if(i instanceof zt){let s=di();return i.pipe($i(s.outsideAngular),ji(s.insideAngular))}else return Ut(()=>i);return i instanceof zt?i.pipe(ig):i instanceof Promise?Ut(()=>new Promise((s,o)=>i.then(c=>Ut(()=>s(c)),c=>Ut(()=>o(c))))):typeof i=="function"&&e?function(){return setTimeout(()=>{e&&e.state==="scheduled"&&e.invoke()},10),i.apply(this,arguments)}:Ut(()=>i)};var Ft=class{constructor(t){return t}},ir=class{constructor(){return ai()}};function ag(n){return n&&n.length===1?n[0]:new Ft(oi())}var zo=new U("angularfire2._apps"),cg={provide:Ft,useFactory:ag,deps:[[new et,zo]]},ug={provide:ir,deps:[[new et,zo]]};function lg(n){return(t,e)=>{let r=e.get(Re);ye("angularfire",nr.full,"core"),ye("angularfire",nr.full,"app"),ye("angular",bc.full,r.toString());let i=t.runOutsideAngular(()=>n(e));return new Ft(i)}}function Al(n,...t){return we([cg,ug,{provide:zo,useFactory:lg(n),multi:!0,deps:[ae,mt,li,...t]}])}var Cl=rr(jo,!0);function Bl(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Wl=Bl,Hl=new st("auth","Firebase",Bl());var vi=new dn("@firebase/auth");function dg(n,...t){vi.logLevel<=z.WARN&&vi.warn(`Auth (${fn}): ${n}`,...t)}function fi(n,...t){vi.logLevel<=z.ERROR&&vi.error(`Auth (${fn}): ${n}`,...t)}function Xe(n,...t){throw oa(n,...t)}function Fe(n,...t){return oa(n,...t)}function sa(n,t,e){let r=Object.assign(Object.assign({},Wl()),{[t]:e});return new st("auth","Firebase",r).create(t,{appName:n.name})}function jt(n){return sa(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hg(n,t,e){let r=e;if(!(t instanceof r))throw r.name!==t.constructor.name&&Xe(n,"argument-error"),sa(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function oa(n,...t){if(typeof n!="string"){let e=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(e,...r)}return Hl.create(n,...t)}function C(n,t,...e){if(!n)throw oa(t,...e)}function at(n){let t="INTERNAL ASSERTION FAILED: "+n;throw fi(t),new Error(t)}function ut(n,t){n||at(t)}function Ho(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function fg(){return Ol()==="http:"||Ol()==="https:"}function Ol(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function pg(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fg()||sl()||"connection"in navigator)?navigator.onLine:!0}function mg(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var $t=class{constructor(t,e){this.shortDelay=t,this.longDelay=e,ut(e>t,"Short delay should be less than long delay!"),this.isMobile=il()||ol()}get(){return pg()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function aa(n,t){ut(n.emulator,"Emulator should always be set here");let{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}var yi=class{static initialize(t,e,r){this.fetchImpl=t,e&&(this.headersImpl=e),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;at("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;at("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;at("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var gg={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var vg=new $t(3e4,6e4);function ca(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}function vn(s,o,c,a){return l(this,arguments,function*(n,t,e,r,i={}){return ql(n,i,()=>l(this,null,function*(){let u={},d={};r&&(t==="GET"?d=r:u={body:JSON.stringify(r)});let h=ln(Object.assign({key:n.config.apiKey},d)).slice(1),y=yield n._getAdditionalHeaders();return y["Content-Type"]="application/json",n.languageCode&&(y["X-Firebase-Locale"]=n.languageCode),yi.fetch()(Gl(n,n.config.apiHost,e,h),Object.assign({method:t,headers:y,referrerPolicy:"no-referrer"},u))}))})}function ql(n,t,e){return l(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},gg),t);try{let i=new qo(n),s=yield Promise.race([e(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw hi(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let c=s.ok?o.errorMessage:o.error.message,[a,u]=c.split(" : ");if(a==="FEDERATED_USER_ID_ALREADY_LINKED")throw hi(n,"credential-already-in-use",o);if(a==="EMAIL_EXISTS")throw hi(n,"email-already-in-use",o);if(a==="USER_DISABLED")throw hi(n,"user-disabled",o);let d=r[a]||a.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw sa(n,d,u);Xe(n,d)}}catch(i){if(i instanceof Ue)throw i;Xe(n,"network-request-failed",{message:String(i)})}})}function yg(s,o,c,a){return l(this,arguments,function*(n,t,e,r,i={}){let u=yield vn(n,t,e,r,i);return"mfaPendingCredential"in u&&Xe(n,"multi-factor-auth-required",{_serverResponse:u}),u})}function Gl(n,t,e,r){let i=`${t}${e}?${r}`;return n.config.emulator?aa(n.config,i):`${n.config.apiScheme}://${i}`}var qo=class{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,r)=>{this.timer=setTimeout(()=>r(Fe(this.auth,"network-request-failed")),vg.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function hi(n,t,e){let r={appName:n.name};e.email&&(r.email=e.email),e.phoneNumber&&(r.phoneNumber=e.phoneNumber);let i=Fe(n,t,r);return i.customData._tokenResponse=e,i}function _g(n,t){return l(this,null,function*(){return vn(n,"POST","/v1/accounts:delete",t)})}function Yl(n,t){return l(this,null,function*(){return vn(n,"POST","/v1/accounts:lookup",t)})}function sr(n){if(n)try{let t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function ua(n,t=!1){return l(this,null,function*(){let e=It(n),r=yield e.getIdToken(t),i=la(r);C(i&&i.exp&&i.auth_time&&i.iat,e.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:sr(Bo(i.auth_time)),issuedAtTime:sr(Bo(i.iat)),expirationTime:sr(Bo(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Bo(n){return Number(n)*1e3}function la(n){let[t,e,r]=n.split(".");if(t===void 0||e===void 0||r===void 0)return fi("JWT malformed, contained fewer than 3 sections"),null;try{let i=Io(e);return i?JSON.parse(i):(fi("Failed to decode base64 JWT payload"),null)}catch(i){return fi("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Pl(n){let t=la(n);return C(t,"internal-error"),C(typeof t.exp<"u","internal-error"),C(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}function ar(n,t,e=!1){return l(this,null,function*(){if(e)return t;try{return yield t}catch(r){throw r instanceof Ue&&Ig(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function Ig({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Go=class{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;let e=this.getInterval(t);this.timerId=setTimeout(()=>l(this,null,function*(){yield this.iteration()}),e)}iteration(){return l(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var cr=class{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=sr(this.lastLoginAt),this.creationTime=sr(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function _i(n){return l(this,null,function*(){var t;let e=n.auth,r=yield n.getIdToken(),i=yield ar(n,Yl(e,{idToken:r}));C(i?.users.length,e,"internal-error");let s=i.users[0];n._notifyReloadListener(s);let o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?Kl(s.providerUserInfo):[],c=wg(n.providerData,o),a=n.isAnonymous,u=!(n.email&&s.passwordHash)&&!c?.length,d=a?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new cr(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(n,h)})}function da(n){return l(this,null,function*(){let t=It(n);yield _i(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})}function wg(n,t){return[...n.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function Kl(n){return n.map(t=>{var{providerId:e}=t,r=fr(t,["providerId"]);return{providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Eg(n,t){return l(this,null,function*(){let e=yield ql(n,{},()=>l(this,null,function*(){let r=ln({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=Gl(n,i,"/v1/token",`key=${s}`),c=yield n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",yi.fetch()(o,{method:"POST",headers:c,body:r})}));return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}})}function bg(n,t){return l(this,null,function*(){return vn(n,"POST","/v2/accounts:revokeToken",ca(n,t))})}var or=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){C(t.idToken,"internal-error"),C(typeof t.idToken<"u","internal-error"),C(typeof t.refreshToken<"u","internal-error");let e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Pl(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){C(t.length!==0,"internal-error");let e=Pl(t);this.updateTokensAndExpiration(t,null,e)}getToken(t,e=!1){return l(this,null,function*(){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(C(this.refreshToken,t,"user-token-expired"),this.refreshToken?(yield this.refresh(t,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(t,e){return l(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield Eg(t,e);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(t,e,r){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,e){let{refreshToken:r,accessToken:i,expirationTime:s}=e,o=new n;return r&&(C(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(C(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),s&&(C(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return at("not implemented")}};function Et(n,t){C(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}var gn=class n{constructor(t){var{uid:e,auth:r,stsTokenManager:i}=t,s=fr(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Go(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new cr(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(t){return l(this,null,function*(){let e=yield ar(this,this.stsTokenManager.getToken(this.auth,t));return C(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e})}getIdTokenResult(t){return ua(this,t)}reload(){return da(this)}_assign(t){this!==t&&(C(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){let e=new n(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){C(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,e=!1){return l(this,null,function*(){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),e&&(yield _i(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return l(this,null,function*(){if(Ke(this.auth.app))return Promise.reject(jt(this.auth));let t=yield this.getIdToken();return yield ar(this,_g(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var r,i,s,o,c,a,u,d;let h=(r=e.displayName)!==null&&r!==void 0?r:void 0,y=(i=e.email)!==null&&i!==void 0?i:void 0,p=(s=e.phoneNumber)!==null&&s!==void 0?s:void 0,E=(o=e.photoURL)!==null&&o!==void 0?o:void 0,I=(c=e.tenantId)!==null&&c!==void 0?c:void 0,_=(a=e._redirectEventId)!==null&&a!==void 0?a:void 0,F=(u=e.createdAt)!==null&&u!==void 0?u:void 0,G=(d=e.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:N,emailVerified:q,isAnonymous:Y,providerData:K,stsTokenManager:ne}=e;C(N&&ne,t,"internal-error");let V=or.fromJSON(this.name,ne);C(typeof N=="string",t,"internal-error"),Et(h,t.name),Et(y,t.name),C(typeof q=="boolean",t,"internal-error"),C(typeof Y=="boolean",t,"internal-error"),Et(p,t.name),Et(E,t.name),Et(I,t.name),Et(_,t.name),Et(F,t.name),Et(G,t.name);let P=new n({uid:N,auth:t,email:y,emailVerified:q,displayName:h,isAnonymous:Y,photoURL:E,phoneNumber:p,tenantId:I,stsTokenManager:V,createdAt:F,lastLoginAt:G});return K&&Array.isArray(K)&&(P.providerData=K.map(re=>Object.assign({},re))),_&&(P._redirectEventId=_),P}static _fromIdTokenResponse(t,e,r=!1){return l(this,null,function*(){let i=new or;i.updateFromServerResponse(e);let s=new n({uid:e.localId,auth:t,stsTokenManager:i,isAnonymous:r});return yield _i(s),s})}static _fromGetAccountInfoResponse(t,e,r){return l(this,null,function*(){let i=e.users[0];C(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?Kl(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,c=new or;c.updateFromIdToken(r);let a=new n({uid:i.localId,auth:t,stsTokenManager:c,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new cr(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(a,u),a})}};var kl=new Map;function ct(n){ut(n instanceof Function,"Expected a class definition");let t=kl.get(n);return t?(ut(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,kl.set(n,t),t)}var Tg=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return l(this,null,function*(){return!0})}_set(e,r){return l(this,null,function*(){this.storage[e]=r})}_get(e){return l(this,null,function*(){let r=this.storage[e];return r===void 0?null:r})}_remove(e){return l(this,null,function*(){delete this.storage[e]})}_addListener(e,r){}_removeListener(e,r){}}return n.type="NONE",n})(),Yo=Tg;function pi(n,t,e){return`firebase:${n}:${t}:${e}`}var Ii=class n{constructor(t,e,r){this.persistence=t,this.auth=e,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=pi(this.userKey,i.apiKey,s),this.fullPersistenceKey=pi("persistence",i.apiKey,s),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){return l(this,null,function*(){let t=yield this.persistence._get(this.fullUserKey);return t?gn._fromJSON(this.auth,t):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){return l(this,null,function*(){if(this.persistence===t)return;let e=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,e,r="authUser"){return l(this,null,function*(){if(!e.length)return new n(ct(Yo),t,r);let i=(yield Promise.all(e.map(u=>l(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||ct(Yo),o=pi(r,t.config.apiKey,t.name),c=null;for(let u of e)try{let d=yield u._get(o);if(d){let h=gn._fromJSON(t,d);u!==s&&(c=h),s=u;break}}catch{}let a=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!a.length?new n(s,t,r):(s=a[0],c&&(yield s._set(o,c.toJSON())),yield Promise.all(e.map(u=>l(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new n(s,t,r))})}};function Dl(n){let t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ql(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Jl(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(td(t))return"Blackberry";if(nd(t))return"Webos";if(Xl(t))return"Safari";if((t.includes("chrome/")||Zl(t))&&!t.includes("edge/"))return"Chrome";if(ed(t))return"Android";{let e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(e);if(r?.length===2)return r[1]}return"Other"}function Jl(n=he()){return/firefox\//i.test(n)}function Xl(n=he()){let t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Zl(n=he()){return/crios\//i.test(n)}function Ql(n=he()){return/iemobile/i.test(n)}function ed(n=he()){return/android/i.test(n)}function td(n=he()){return/blackberry/i.test(n)}function nd(n=he()){return/webos/i.test(n)}function ha(n=he()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Sg(n=he()){var t;return ha(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function Rg(){return al()&&document.documentMode===10}function rd(n=he()){return ha(n)||ed(n)||nd(n)||td(n)||/windows phone/i.test(n)||Ql(n)}function id(n,t=[]){let e;switch(n){case"Browser":e=Dl(he());break;case"Worker":e=`${Dl(he())}-${n}`;break;default:e=n}let r=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${fn}/${r}`}var Ko=class{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){let r=s=>new Promise((o,c)=>{try{let a=t(s);o(a)}catch(a){c(a)}});r.onAbort=e,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(t){return l(this,null,function*(){if(this.auth.currentUser===t)return;let e=[];try{for(let r of this.queue)yield r(t),r.onAbort&&e.push(r.onAbort)}catch(r){e.reverse();for(let i of e)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Ag(e){return l(this,arguments,function*(n,t={}){return vn(n,"GET","/v2/passwordPolicy",ca(n,t))})}var Cg=6,Jo=class{constructor(t){var e,r,i,s;let o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=o.minPasswordLength)!==null&&e!==void 0?e:Cg,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,r,i,s,o,c;let a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,a),this.validatePasswordCharacterOptions(t,a),a.isValid&&(a.isValid=(e=a.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),a.isValid&&(a.isValid=(r=a.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),a.isValid&&(a.isValid=(i=a.containsLowercaseLetter)!==null&&i!==void 0?i:!0),a.isValid&&(a.isValid=(s=a.containsUppercaseLetter)!==null&&s!==void 0?s:!0),a.isValid&&(a.isValid=(o=a.containsNumericCharacter)!==null&&o!==void 0?o:!0),a.isValid&&(a.isValid=(c=a.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),a}validatePasswordLengthOptions(t,e){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(e.meetsMinPasswordLength=t.length>=r),i&&(e.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(e,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,e,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}};var Xo=class{constructor(t,e,r,i){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wi(this),this.idTokenSubscription=new wi(this),this.beforeStateQueue=new Ko(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Hl,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=ct(e)),this._initializationPromise=this.queue(()=>l(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Ii.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(e),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return l(this,null,function*(){if(this._deleted)return;let t=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(t,!0)}})}initializeCurrentUserFromIdToken(t){return l(this,null,function*(){try{let e=yield Yl(this,{idToken:t}),r=yield gn._fromGetAccountInfoResponse(this,e,t);yield this.directlySetCurrentUser(r)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(t){return l(this,null,function*(){var e;if(Ke(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(t&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,c=i?._redirectEventId,a=yield this.tryRedirectSignIn(t);(!o||o===c)&&a?.user&&(i=a.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return C(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(t){return l(this,null,function*(){let e=null;try{e=yield this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{yield this._setRedirectUser(null)}return e})}reloadAndSetCurrentUserOrClear(t){return l(this,null,function*(){try{yield _i(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)})}useDeviceLanguage(){this.languageCode=mg()}_delete(){return l(this,null,function*(){this._deleted=!0})}updateCurrentUser(t){return l(this,null,function*(){if(Ke(this.app))return Promise.reject(jt(this));let e=t?It(t):null;return e&&C(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))})}_updateCurrentUser(t,e=!1){return l(this,null,function*(){if(!this._deleted)return t&&C(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||(yield this.beforeStateQueue.runMiddleware(t)),this.queue(()=>l(this,null,function*(){yield this.directlySetCurrentUser(t),this.notifyAuthListeners()}))})}signOut(){return l(this,null,function*(){return Ke(this.app)?Promise.reject(jt(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(t){return Ke(this.app)?Promise.reject(jt(this)):this.queue(()=>l(this,null,function*(){yield this.assertedPersistence.setPersistence(ct(t))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){return l(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return l(this,null,function*(){let t=yield Ag(this),e=new Jo(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new st("auth","Firebase",t())}onAuthStateChanged(t,e,r){return this.registerStateListener(this.authStateSubscription,t,e,r)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,r){return this.registerStateListener(this.idTokenSubscription,t,e,r)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{let r=this.onAuthStateChanged(()=>{r(),t()},e)}})}revokeAccessToken(t){return l(this,null,function*(){if(this.currentUser){let e=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(r.tenantId=this.tenantId),yield bg(this,r)}})}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}_setRedirectUser(t,e){return l(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(e);return t===null?r.removeCurrentUser():r.setCurrentUser(t)})}getOrInitRedirectPersistenceManager(t){return l(this,null,function*(){if(!this.redirectPersistenceManager){let e=t&&ct(t)||this._popupRedirectResolver;C(e,this,"argument-error"),this.redirectPersistenceManager=yield Ii.create(this,[ct(e._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(t){return l(this,null,function*(){var e,r;return this._isInitialized&&(yield this.queue(()=>l(this,null,function*(){}))),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null})}_persistUserIfCurrent(t){return l(this,null,function*(){if(t===this.currentUser)return this.queue(()=>l(this,null,function*(){return this.directlySetCurrentUser(t)}))})}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,r,i){if(this._deleted)return()=>{};let s=typeof e=="function"?e:e.next.bind(e),o=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(C(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof e=="function"){let a=t.addObserver(e,r,i);return()=>{o=!0,a()}}else{let a=t.addObserver(e);return()=>{o=!0,a()}}}directlySetCurrentUser(t){return l(this,null,function*(){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?yield this.assertedPersistence.setCurrentUser(t):yield this.assertedPersistence.removeCurrentUser()})}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return C(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=id(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return l(this,null,function*(){var t;let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader();r&&(e["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e})}_getAppCheckToken(){return l(this,null,function*(){var t;let e=yield(t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken();return e?.error&&dg(`Error while retrieving App Check token: ${e.error}`),e?.token})}};function Oi(n){return It(n)}var wi=class{constructor(t){this.auth=t,this.observer=null,this.addObserver=dl(e=>this.observer=e)}get next(){return C(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var fa={loadJS(){return l(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Og(n){fa=n}function Pg(n){return fa.loadJS(n)}function kg(){return fa.gapiScript}function sd(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function pa(n,t){let e=Fo(n,"auth");if(e.isInitialized()){let i=e.getImmediate(),s=e.getOptions();if(un(s,t??{}))return i;Xe(i,"already-initialized")}return e.initialize({options:t})}function Dg(n,t){let e=t?.persistence||[],r=(Array.isArray(e)?e:[e]).map(ct);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(r,t?.popupRedirectResolver)}function ma(n,t,e){let r=Oi(n);C(r._canInitEmulator,r,"emulator-config-failed"),C(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");let i=!!e?.disableWarnings,s=od(t),{host:o,port:c}=Ng(t),a=c===null?"":`:${c}`;r.config.emulator={url:`${s}//${o}${a}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Mg()}function od(n){let t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function Ng(n){let t=od(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};let r=e[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:Nl(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:Nl(o)}}}function Nl(n){if(!n)return null;let t=Number(n);return isNaN(t)?null:t}function Mg(){function n(){let t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var ur=class{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return at("not implemented")}_getIdTokenResponse(t){return at("not implemented")}_linkToIdToken(t,e){return at("not implemented")}_getReauthenticationResolver(t){return at("not implemented")}};function mn(n,t){return l(this,null,function*(){return yg(n,"POST","/v1/accounts:signInWithIdp",ca(n,t))})}var Lg="http://localhost",Ei=class n extends ur{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){let e=new n(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Xe("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){let e=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=e,s=fr(e,["providerId","signInMethod"]);if(!r||!i)return null;let o=new n(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){let e=this.buildRequest();return mn(t,e)}_linkToIdToken(t,e){let r=this.buildRequest();return r.idToken=e,mn(t,r)}_getReauthenticationResolver(t){let e=this.buildRequest();return e.autoCreate=!1,mn(t,e)}buildRequest(){let t={requestUri:Lg,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{let e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=ln(e)}return t}};var lr=class{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}};var bi=class extends lr{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}};var Pi=(()=>{class n extends bi{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Ei._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return n.credentialFromTaggedObject(e)}static credentialFromError(e){return n.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:r,oauthAccessToken:i}=e;if(!r&&!i)return null;try{return n.credential(r,i)}catch{return null}}}n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com";return n})();var dr=class n{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static _fromIdTokenResponse(t,e,r,i=!1){return l(this,null,function*(){let s=yield gn._fromIdTokenResponse(t,r,i),o=Ml(r);return new n({user:s,providerId:o,_tokenResponse:r,operationType:e})})}static _forOperation(t,e,r){return l(this,null,function*(){yield t._updateTokensIfNecessary(r,!0);let i=Ml(r);return new n({user:t,providerId:i,_tokenResponse:r,operationType:e})})}};function Ml(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var Zo=class n extends Ue{constructor(t,e,r,i){var s;super(e.code,e.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:e.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,e,r,i){return new n(t,e,r,i)}};function ad(n,t,e,r){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Zo._fromErrorAndOperation(n,s,t,r):s})}function xg(n,t,e=!1){return l(this,null,function*(){let r=yield ar(n,t._linkToIdToken(n.auth,yield n.getIdToken()),e);return dr._forOperation(n,"link",r)})}function Ug(n,t,e=!1){return l(this,null,function*(){let{auth:r}=n;if(Ke(r.app))return Promise.reject(jt(r));let i="reauthenticate";try{let s=yield ar(n,ad(r,i,t,n),e);C(s.idToken,r,"internal-error");let o=la(s.idToken);C(o,r,"internal-error");let{sub:c}=o;return C(n.uid===c,r,"user-mismatch"),dr._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Xe(r,"user-mismatch"),s}})}function Fg(n,t,e=!1){return l(this,null,function*(){if(Ke(n.app))return Promise.reject(jt(n));let r="signIn",i=yield ad(n,r,t),s=yield dr._fromIdTokenResponse(n,r,i);return e||(yield n._updateCurrentUser(s.user)),s})}function ga(n,t,e,r){return It(n).onIdTokenChanged(t,e,r)}function va(n,t,e){return It(n).beforeAuthStateChanged(t,e)}function ya(n){return It(n).signOut()}var Ti="__sak";var Si=class{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Ti,"1"),this.storage.removeItem(Ti),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){let e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}};var jg=1e3,$g=10,Vg=(()=>{class n extends Si{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rd(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&e(r,s,i)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((c,a,u)=>{this.notifyListeners(c,u)});return}let i=e.key;r?this.detachListener():this.stopPolling();let s=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);Rg()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,$g):s()}notifyListeners(e,r){this.localCache[e]=r;let i=this.listeners[e];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:i}),!0)})},jg)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(e,r){return l(this,null,function*(){yield bt(n.prototype,this,"_set").call(this,e,r),this.localCache[e]=JSON.stringify(r)})}_get(e){return l(this,null,function*(){let r=yield bt(n.prototype,this,"_get").call(this,e);return this.localCache[e]=JSON.stringify(r),r})}_remove(e){return l(this,null,function*(){yield bt(n.prototype,this,"_remove").call(this,e),delete this.localCache[e]})}}return n.type="LOCAL",n})(),cd=Vg;var zg=(()=>{class n extends Si{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}return n.type="SESSION",n})(),_a=zg;function Bg(n){return Promise.all(n.map(t=>l(this,null,function*(){try{return{fulfilled:!0,value:yield t}}catch(e){return{fulfilled:!1,reason:e}}})))}var Wg=(()=>{class n{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){let r=this.receivers.find(s=>s.isListeningto(e));if(r)return r;let i=new n(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}handleEvent(e){return l(this,null,function*(){let r=e,{eventId:i,eventType:s,data:o}=r.data,c=this.handlersMap[s];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let a=Array.from(c).map(d=>l(this,null,function*(){return d(r.origin,o)})),u=yield Bg(a);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function Ia(n="",t=10){let e="";for(let r=0;r<t;r++)e+=Math.floor(Math.random()*10);return n+e}var Qo=class{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}_send(t,e,r=50){return l(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((c,a)=>{let u=Ia("",20);i.port1.start();let d=setTimeout(()=>{a(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){let y=h;if(y.data.eventId===u)switch(y.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(y.data.response);break;default:clearTimeout(d),clearTimeout(s),a(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:u,data:e},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function Je(){return window}function Hg(n){Je().location.href=n}function ud(){return typeof Je().WorkerGlobalScope<"u"&&typeof Je().importScripts=="function"}function qg(){return l(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function Gg(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Yg(){return ud()?self:null}var ld="firebaseLocalStorageDb",Kg=1,Ri="firebaseLocalStorage",dd="fbase_key",Vt=class{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}};function ki(n,t){return n.transaction([Ri],t?"readwrite":"readonly").objectStore(Ri)}function Jg(){let n=indexedDB.deleteDatabase(ld);return new Vt(n).toPromise()}function ea(){let n=indexedDB.open(ld,Kg);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Ri,{keyPath:dd})}catch(i){e(i)}}),n.addEventListener("success",()=>l(this,null,function*(){let r=n.result;r.objectStoreNames.contains(Ri)?t(r):(r.close(),yield Jg(),t(yield ea()))}))})}function Ll(n,t,e){return l(this,null,function*(){let r=ki(n,!0).put({[dd]:t,value:e});return new Vt(r).toPromise()})}function Xg(n,t){return l(this,null,function*(){let e=ki(n,!1).get(t),r=yield new Vt(e).toPromise();return r===void 0?null:r.value})}function xl(n,t){let e=ki(n,!0).delete(t);return new Vt(e).toPromise()}var Zg=800,Qg=3,ev=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return l(this,null,function*(){return this.db?this.db:(this.db=yield ea(),this.db)})}_withRetries(e){return l(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield e(i)}catch(i){if(r++>Qg)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return l(this,null,function*(){return ud()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return l(this,null,function*(){this.receiver=Wg._getInstance(Yg()),this.receiver._subscribe("keyChanged",(e,r)=>l(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(e,r)=>l(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return l(this,null,function*(){var e,r;if(this.activeServiceWorker=yield qg(),!this.activeServiceWorker)return;this.sender=new Qo(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(e){return l(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||Gg()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return l(this,null,function*(){try{if(!indexedDB)return!1;let e=yield ea();return yield Ll(e,Ti,"1"),yield xl(e,Ti),!0}catch{}return!1})}_withPendingWrite(e){return l(this,null,function*(){this.pendingWrites++;try{yield e()}finally{this.pendingWrites--}})}_set(e,r){return l(this,null,function*(){return this._withPendingWrite(()=>l(this,null,function*(){return yield this._withRetries(i=>Ll(i,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)}))})}_get(e){return l(this,null,function*(){let r=yield this._withRetries(i=>Xg(i,e));return this.localCache[e]=r,r})}_remove(e){return l(this,null,function*(){return this._withPendingWrite(()=>l(this,null,function*(){return yield this._withRetries(r=>xl(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)}))})}_poll(){return l(this,null,function*(){let e=yield this._withRetries(s=>{let o=ki(s,!1).getAll();return new Vt(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(e.length!==0)for(let{fbase_key:s,value:o}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(e,r){this.localCache[e]=r;let i=this.listeners[e];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>l(this,null,function*(){return this._poll()}),Zg)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),hd=ev;var IE=sd("rcb"),wE=new $t(3e4,6e4);function fd(n,t){return t?ct(t):(C(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var hr=class extends ur{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return mn(t,this._buildIdpRequest())}_linkToIdToken(t,e){return mn(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return mn(t,this._buildIdpRequest())}_buildIdpRequest(t){let e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}};function tv(n){return Fg(n.auth,new hr(n),n.bypassAuthState)}function nv(n){let{auth:t,user:e}=n;return C(e,t,"internal-error"),Ug(e,new hr(n),n.bypassAuthState)}function rv(n){return l(this,null,function*(){let{auth:t,user:e}=n;return C(e,t,"internal-error"),xg(e,new hr(n),n.bypassAuthState)})}var Ai=class{constructor(t,e,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise((t,e)=>l(this,null,function*(){this.pendingPromise={resolve:t,reject:e};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(t){return l(this,null,function*(){let{urlResponse:e,sessionId:r,postBody:i,tenantId:s,error:o,type:c}=t;if(o){this.reject(o);return}let a={auth:this.auth,requestUri:e,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(a))}catch(u){this.reject(u)}})}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return tv;case"linkViaPopup":case"linkViaRedirect":return rv;case"reauthViaPopup":case"reauthViaRedirect":return nv;default:Xe(this.auth,"internal-error")}}resolve(t){ut(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ut(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var iv=new $t(2e3,1e4);function Di(n,t,e){return l(this,null,function*(){if(Ke(n.app))return Promise.reject(Fe(n,"operation-not-supported-in-this-environment"));let r=Oi(n);hg(n,t,lr);let i=fd(r,e);return new sv(r,"signInViaPopup",t,i).executeNotNull()})}var sv=(()=>{class n extends Ai{constructor(e,r,i,s,o){super(e,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){return l(this,null,function*(){let e=yield this.execute();return C(e,this.auth,"internal-error"),e})}onExecution(){return l(this,null,function*(){ut(this.filter.length===1,"Popup operations only handle one event");let e=Ia();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Fe(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Fe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){let e=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fe(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,iv.get())};e()}}n.currentPopupAction=null;return n})(),ov="pendingRedirect",mi=new Map,ta=class n extends Ai{constructor(t,e,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,r),this.eventId=null}execute(){return l(this,null,function*(){let t=mi.get(this.auth._key());if(!t){try{let r=(yield av(this.resolver,this.auth))?yield bt(n.prototype,this,"execute").call(this):null;t=()=>Promise.resolve(r)}catch(e){t=()=>Promise.reject(e)}mi.set(this.auth._key(),t)}return this.bypassAuthState||mi.set(this.auth._key(),()=>Promise.resolve(null)),t()})}onAuthEvent(t){return l(this,null,function*(){if(t.type==="signInViaRedirect")return bt(n.prototype,this,"onAuthEvent").call(this,t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){let e=yield this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,bt(n.prototype,this,"onAuthEvent").call(this,t);this.resolve(null)}})}onExecution(){return l(this,null,function*(){})}cleanUp(){}};function av(n,t){return l(this,null,function*(){let e=lv(t),r=uv(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(e))==="true";return yield r._remove(e),i})}function cv(n,t){mi.set(n._key(),t)}function uv(n){return ct(n._redirectPersistence)}function lv(n){return pi(ov,n.config.apiKey,n.name)}function dv(n,t,e=!1){return l(this,null,function*(){if(Ke(n.app))return Promise.reject(jt(n));let r=Oi(n),i=fd(r,t),o=yield new ta(r,i,e).execute();return o&&!e&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,t)),o})}var hv=10*60*1e3,na=class{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(e=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!fv(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var r;if(t.error&&!pd(t)){let i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";e.onError(Fe(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){let r=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=hv&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ul(t))}saveEventToCache(t){this.cachedEventUids.add(Ul(t)),this.lastProcessedEventTime=Date.now()}};function Ul(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function pd({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function fv(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pd(n);default:return!1}}function pv(e){return l(this,arguments,function*(n,t={}){return vn(n,"GET","/v1/projects",t)})}var mv=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gv=/^https?/;function vv(n){return l(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:t}=yield pv(n);for(let e of t)try{if(yv(e))return}catch{}Xe(n,"unauthorized-domain")})}function yv(n){let t=Ho(),{protocol:e,hostname:r}=new URL(t);if(n.startsWith("chrome-extension://")){let o=new URL(n);return o.hostname===""&&r===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&o.hostname===r}if(!gv.test(e))return!1;if(mv.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var _v=new $t(3e4,6e4);function Fl(){let n=Je().___jsl;if(n?.H){for(let t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function Iv(n){return new Promise((t,e)=>{var r,i,s;function o(){Fl(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Fl(),e(Fe(n,"network-request-failed"))},timeout:_v.get()})}if(!((i=(r=Je().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((s=Je().gapi)===null||s===void 0)&&s.load)o();else{let c=sd("iframefcb");return Je()[c]=()=>{gapi.load?o():e(Fe(n,"network-request-failed"))},Pg(`${kg()}?onload=${c}`).catch(a=>e(a))}}).catch(t=>{throw gi=null,t})}var gi=null;function wv(n){return gi=gi||Iv(n),gi}var Ev=new $t(5e3,15e3),bv="__/auth/iframe",Tv="emulator/auth/iframe",Sv={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Rv=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Av(n){let t=n.config;C(t.authDomain,n,"auth-domain-config-required");let e=t.emulator?aa(t,Tv):`https://${n.config.authDomain}/${bv}`,r={apiKey:t.apiKey,appName:n.name,v:fn},i=Rv.get(n.config.apiHost);i&&(r.eid=i);let s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${e}?${ln(r).slice(1)}`}function Cv(n){return l(this,null,function*(){let t=yield wv(n),e=Je().gapi;return C(e,n,"internal-error"),t.open({where:document.body,url:Av(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Sv,dontclear:!0},r=>new Promise((i,s)=>l(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Fe(n,"network-request-failed"),c=Je().setTimeout(()=>{s(o)},Ev.get());function a(){Je().clearTimeout(c),i(r)}r.ping(a).then(a,()=>{s(o)})})))})}var Ov={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Pv=500,kv=600,Dv="_blank",Nv="http://localhost",Ci=class{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Mv(n,t,e,r=Pv,i=kv){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",a=Object.assign(Object.assign({},Ov),{width:r.toString(),height:i.toString(),top:s,left:o}),u=he().toLowerCase();e&&(c=Zl(u)?Dv:e),Jl(u)&&(t=t||Nv,a.scrollbars="yes");let d=Object.entries(a).reduce((y,[p,E])=>`${y}${p}=${E},`,"");if(Sg(u)&&c!=="_self")return Lv(t||"",c),new Ci(null);let h=window.open(t||"",c,d);C(h,n,"popup-blocked");try{h.focus()}catch{}return new Ci(h)}function Lv(n,t){let e=document.createElement("a");e.href=n,e.target=t;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(r)}var xv="__/auth/handler",Uv="emulator/auth/handler",Fv=encodeURIComponent("fac");function jl(n,t,e,r,i,s){return l(this,null,function*(){C(n.config.authDomain,n,"auth-domain-config-required"),C(n.config.apiKey,n,"invalid-api-key");let o={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:r,v:fn,eventId:i};if(t instanceof lr){t.setDefaultLanguage(n.languageCode),o.providerId=t.providerId||"",ll(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(let[d,h]of Object.entries(s||{}))o[d]=h}if(t instanceof bi){let d=t.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}n.tenantId&&(o.tid=n.tenantId);let c=o;for(let d of Object.keys(c))c[d]===void 0&&delete c[d];let a=yield n._getAppCheckToken(),u=a?`#${Fv}=${encodeURIComponent(a)}`:"";return`${jv(n)}?${ln(c).slice(1)}${u}`})}function jv({config:n}){return n.emulator?aa(n,Uv):`https://${n.authDomain}/${xv}`}var Wo="webStorageSupport",ra=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_a,this._completeRedirectFn=dv,this._overrideRedirectResult=cv}_openPopup(t,e,r,i){return l(this,null,function*(){var s;ut((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield jl(t,e,r,Ho(),i);return Mv(t,o,Ia())})}_openRedirect(t,e,r,i){return l(this,null,function*(){yield this._originValidation(t);let s=yield jl(t,e,r,Ho(),i);return Hg(s),new Promise(()=>{})})}_initialize(t){let e=t._key();if(this.eventManagers[e]){let{manager:i,promise:s}=this.eventManagers[e];return i?Promise.resolve(i):(ut(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(t);return this.eventManagers[e]={promise:r},r.catch(()=>{delete this.eventManagers[e]}),r}initAndGetManager(t){return l(this,null,function*(){let e=yield Cv(t),r=new na(t);return e.register("authEvent",i=>(C(i?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=e,r})}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Wo,{type:Wo},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Wo];o!==void 0&&e(!!o),Xe(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){let e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=vv(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return rd()||Xl()||ha()}},md=ra;var $l="@firebase/auth",Vl="1.7.8";var ia=class{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}getToken(t){return l(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(t)}:null})}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;let e=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();let e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){C(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function $v(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Vv(n){hn(new Ge("auth",(t,{options:e})=>{let r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;C(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let a={apiKey:o,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:id(n)},u=new Xo(r,i,s,a);return Dg(u,e),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,r)=>{t.getProvider("auth-internal").initialize()})),hn(new Ge("auth-internal",t=>{let e=Oi(t.getProvider("auth").getImmediate());return(r=>new ia(r))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),ye($l,Vl,$v(n)),ye($l,Vl,"esm2017")}var zv=5*60,Bv=bo("authIdTokenMaxAge")||zv,zl=null,Wv=n=>t=>l(void 0,null,function*(){let e=t&&(yield t.getIdTokenResult()),r=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(r&&r>Bv)return;let i=e?.token;zl!==i&&(zl=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function wa(n=oi()){let t=Fo(n,"auth");if(t.isInitialized())return t.getImmediate();let e=pa(n,{popupRedirectResolver:md,persistence:[hd,cd,_a]}),r=bo("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=Wv(s.toString());va(e,o,()=>o(e.currentUser)),ga(e,c=>o(c))}}let i=rl("auth");return i&&ma(e,`http://${i}`),e}function Hv(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}Og({loadJS(n){return new Promise((t,e)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=t,r.onerror=i=>{let s=Fe("internal-error");s.customData=i,e(s)},r.type="text/javascript",r.charset="UTF-8",Hv().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Vv("Browser");var gd="auth",je=class{constructor(t){return t}},Ea=class{constructor(){return Vo(gd)}};var ba=new U("angularfire2.auth-instances");function Uy(n,t){let e=Rl(gd,n,t);return e&&new je(e)}function Fy(n){return(t,e)=>{let r=t.runOutsideAngular(()=>n(e));return new je(r)}}var jy={provide:Ea,deps:[[new et,ba]]},$y={provide:je,useFactory:Uy,deps:[[new et,ba],Ft]};function vd(n,...t){return ye("angularfire",nr.full,"auth"),we([$y,jy,{provide:ba,useFactory:Fy(n),multi:!0,deps:[ae,mt,li,ir,[new et,ci],...t]}])}var yd=rr(wa,!0);var _d=rr(ya,!0);var yn="robertly-idtoken",_n=(()=>{class n{constructor(){this.http=f(Ct),this.apiUrl=f(Lt),this.auth=f(je),this.toastService=f(ni),this.isRefreshingToken=Be(!1),this.idToken=Be(null),this.idToken.set(localStorage.getItem(yn)??null)}signIn(e){return this.auth.currentUser?.getIdToken(!0),this.http.post(`${this.apiUrl}/auth/signin`,e,{responseType:"text"}).pipe(W(r=>{localStorage.setItem(yn,r),this.idToken.set(r)}))}signInWithGoogle(){return l(this,null,function*(){let e=new Pi;e.addScope("https://www.googleapis.com/auth/userinfo.email"),e.setCustomParameters({prompt:"select_account"}),this.auth.useDeviceLanguage();let r=yield Di(this.auth,e),i=Pi.credentialFromResult(r);if(i){let s=yield Bt(this.http.post(`${this.apiUrl}/auth/signup/google`,{accessToken:i.accessToken},{responseType:"text"}));localStorage.setItem(yn,s),this.idToken.set(s),this.toastService.ok("Successfully signed in with Google")}})}signOut(){return l(this,null,function*(){try{yield _d(this.auth),this.toastService.ok("Successfully signed out"),localStorage.removeItem(yn),this.idToken.set(null)}catch(e){this.toastService.error(JSON.stringify(e))}})}tryRefreshToken(){return l(this,null,function*(){if(this.isRefreshingToken())return!1;this.isRefreshingToken.set(!0);let e=(yield this.auth.currentUser?.getIdToken(!0))??null;return this.isRefreshingToken.set(!1),e?(localStorage.setItem(yn,e),this.idToken.set(e),!0):(yield this.signOut(),localStorage.removeItem(yn),this.idToken.set(null),!1)})}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Ni=(()=>{class n{constructor(){this.http=f(Ct),this.apiUrl=f(Lt)}getUserByFirebaseUuid(e){return this.http.get(`${this.apiUrl}/users/firebase-uuid/${e}`)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Mi=(()=>{class n{constructor(){this.auth=f(je),this.usersService=f(Ni),this.authApiService=f(_n),this.userUuid=Be(null),this.user=Be(null),this.auth.onAuthStateChanged(e=>{this.userUuid.set(e?.uid??null)}),Ac(()=>l(this,null,function*(){let e=this.authApiService.idToken();this.userUuid();let r=this.auth.currentUser;if(!r||!e){this.user.set(null);return}let i=yield Bt(this.usersService.getUserByFirebaseUuid(r.uid));this.user.set({email:i.email,userId:i.userId,name:i.name,userFirebaseUuid:i.userFirebaseUuid,assignedUsers:i.assignedUsers})}))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Vy(n,t){if(n&1&&Q(0),n&2){let e,r=ue();gt(" Hello! ",(e=r.authService.user())==null?null:e.name," ")}}var Id=(()=>{class n{constructor(){this.authService=f(Mi),this.menuSidebarClicked=ec(),this.isSpinning=!1}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ze({type:n,selectors:[["app-header"]],outputs:{menuSidebarClicked:"menuSidebarClicked"},decls:6,vars:1,consts:[[1,"navbar","fixed-top","px-1","z-3"],[1,"container-fluid","d-flex"],[2,"color","white","font-weight","bold","font-size","16px"],["type","button",1,"btn",2,"outline","none","border","none","padding","0"],[1,"fa","fa-bars",2,"font-size","22px","color","white",3,"click"]],template:function(r,i){r&1&&(M(0,"nav",0)(1,"div",1)(2,"div",2),Kt(3,Vy,1,1),L(),M(4,"button",3)(5,"i",4),Z("click",function(){return i.menuSidebarClicked.emit()}),L()()()()),r&2&&(B(3),Rt(i.authService.user()?3:-1))},dependencies:[Cr,Pr,Or,Ar],styles:["nav[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);border-bottom:1px solid rgba(255,255,255,.1)}"],changeDetection:0})}}return n})();var wd=()=>({exact:!0}),Ed=(()=>{class n{constructor(){this.router=f(qe),this.Paths=H}navigateToCreateLog(){this.router.navigate([H.LOGS,H.LOGS_CREATE])}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ze({type:n,selectors:[["app-footer"]],decls:31,vars:7,consts:[[1,"navbar","fixed-bottom","fw-bold"],[1,"container"],[1,"navbar-nav","flex-row","justify-content-center","w-100"],[1,"nav-item","w-100"],["routerLinkActive","active",1,"nav-link","text-center","d-flex","justify-content-center","align-items-center","flex-column",3,"routerLink","routerLinkActiveOptions"],[1,"fa","fa-home"],[1,"fa","fa-history"],[1,"d-flex","justify-content-center","align-items-center","add-button-container"],[1,"btn","btn-lg","btn-primary","d-flex","justify-content-center","align-items-center",3,"click"],[1,"fa","fa-plus"],["routerLinkActive","active",1,"nav-link","text-center","d-flex","justify-content-center","align-items-center","flex-column",3,"routerLink"],[1,"fa","fa-bar-chart"],["routerLinkActive","active",1,"nav-link","text-center","d-flex","justify-content-center","align-items-center","flex-column"],[1,"fa","fa-address-book-o"]],template:function(r,i){r&1&&(M(0,"nav",0)(1,"div",1)(2,"ul",2)(3,"li",3)(4,"a",4)(5,"div"),ge(6,"i",5),L(),M(7,"div"),Q(8,"Home"),L()()(),M(9,"li",3)(10,"a",4)(11,"div"),ge(12,"i",6),L(),M(13,"div"),Q(14,"Logs"),L()()(),M(15,"li",3)(16,"div",7)(17,"button",8),Z("click",function(){return i.navigateToCreateLog()}),ge(18,"i",9),L()()(),M(19,"li",3)(20,"a",10)(21,"div"),ge(22,"i",11),L(),M(23,"div"),Q(24,"Stats"),L()()(),M(25,"li",3)(26,"a",12)(27,"div"),ge(28,"i",13),L(),M(29,"div"),Q(30,"Friends"),L()()()()()()),r&2&&(B(4),pe("routerLink",i.Paths.HOME)("routerLinkActiveOptions",ss(5,wd)),B(6),pe("routerLink",i.Paths.LOGS)("routerLinkActiveOptions",ss(6,wd)),B(10),pe("routerLink",i.Paths.STATS))},dependencies:[on,Hu],styles:["nav.navbar.fixed-bottom[_ngcontent-%COMP%]{padding-bottom:max(env(safe-area-inset-bottom),.8rem);background:#2a2f3c}nav.navbar.fixed-bottom[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{--bs-nav-link-padding-y: 0;--bs-nav-link-padding-x: 0}nav.navbar.fixed-bottom[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:11px;font-weight:400;color:#fff;opacity:.4}nav.navbar.fixed-bottom[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}nav.navbar.fixed-bottom[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{opacity:1;font-weight:500}.add-button-container[_ngcontent-%COMP%]{position:relative}.add-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;border-radius:100%;height:60px;width:60px;z-index:10;margin-top:-25px;border:6px solid #1d212a}"],changeDetection:0})}}return n})();var bd=(()=>{class n{constructor(){this.title="",this.subtitle="",this.body="",this.cancelText="Cancel",this.okType="primary",this.okText="Ok",this.modal=f(Lc)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ze({type:n,selectors:[["app-confirm-modal"]],inputs:{title:"title",subtitle:"subtitle",body:"body",cancelText:"cancelText",okType:"okType",okText:"okText"},decls:12,vars:8,consts:[[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button","aria-describedby","modal-title",1,"btn-close",3,"click"],[1,"modal-body"],[3,"innerHTML"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",3,"click"]],template:function(r,i){r&1&&(M(0,"div",0)(1,"h4",1),Q(2),L(),M(3,"button",2),Z("click",function(){return i.modal.dismiss("Cross click")}),L()(),M(4,"div",3),ge(5,"p",4)(6,"p",4),L(),M(7,"div",5)(8,"button",6),Z("click",function(){return i.modal.dismiss()}),Q(9),L(),M(10,"button",7),Z("click",function(){return i.modal.close()}),Q(11),L()()),r&2&&(B(2),gt(" ",i.title," "),B(3),pe("innerHTML",i.subtitle,es),B(),pe("innerHTML",i.body,es),B(3),gt(" ",i.cancelText," "),B(),fc("btn btn-",i.okType,""),B(),gt(" ",i.okText," "))},encapsulation:2,changeDetection:0})}}return n})();function zy(n,t){if(n&1){let e=At();M(0,"a",8),Z("click",function(){Ne(e);let i=ue().$implicit;return Me(i.dismiss())}),Q(1,"Sign In"),L(),M(2,"a",8),Z("click",function(){Ne(e);let i=ue().$implicit;return Me(i.dismiss())}),Q(3,"Sign Up"),L()}if(n&2){let e=ue(2);pe("routerLink",e.Paths.SIGN_IN),B(2),pe("routerLink",e.Paths.SIGN_UP)}}function By(n,t){if(n&1){let e=At();M(0,"button",9),Z("click",function(){Ne(e);let i=ue().$implicit;return ue().signOut(),Me(i.dismiss())}),Q(1," Sign Out "),L()}}function Wy(n,t){if(n&1){let e=At();M(0,"a",8),Z("click",function(){Ne(e);let i=ue().$implicit;return Me(i.dismiss())}),Q(1,"Exercises"),L(),M(2,"a",8),Z("click",function(){Ne(e);let i=ue().$implicit;return Me(i.dismiss())}),Q(3,"Food Tracker"),L(),M(4,"a",8),Z("click",function(){Ne(e);let i=ue().$implicit;return Me(i.dismiss())}),Q(5,"Developer"),L()}if(n&2){let e=ue(2);pe("routerLink",e.Paths.EXERCISES),B(2),pe("routerLink",e.Paths.FOODS),B(2),pe("routerLink",e.Paths.DEVELOPER)}}function Hy(n,t){if(n&1){let e=At();M(0,"div",4)(1,"button",5),Z("click",function(){let i=Ne(e).$implicit;return Me(i.dismiss("Cross click"))}),L()(),M(2,"div",6),Kt(3,zy,4,2)(4,By,2,0,"button",7)(5,Wy,6,3),L()}if(n&2){let e=ue();B(3),Rt(e.authService.user()?-1:3),B(),Rt(e.authService.user()?4:-1),B(),Rt(e.authService.user()?5:-1)}}function qy(n,t){if(n&1){let e=At();M(0,"ngb-toast",10),Z("hidden",function(){let i=Ne(e).$implicit,s=ue();return Me(s.toastService.remove(i))}),M(1,"ngb-alert",11),Z("closed",function(){let i=Ne(e).$implicit,s=ue();return Me(s.toastService.remove(i))}),Q(2),L()()}if(n&2){let e=t.$implicit;pe("autohide",!0)("delay",e.delay||3e3),B(),pe("type",e.type),B(),wc(e.text)}}function Gy(n,t){if(n&1){let e=At();M(0,"app-header",12),Z("menuSidebarClicked",function(){Ne(e);let i=ue(),s=Ic(1);return Me(i.openSidebar(s))}),L(),M(1,"div",13),ge(2,"router-outlet"),L(),ge(3,"app-footer")}}function Yy(n,t){if(n&1&&(M(0,"div",3)(1,"div",14)(2,"div",15),Q(3,"ROBERTLY"),L(),M(4,"div",16),ge(5,"div",17),L(),M(6,"div",18),Q(7),L()()()),n&2){let e=ue();B(5),hc("width",e.preloaderProgress,"%"),B(2),gt(" ",e.preloaderMessage," ")}}var Td=(()=>{class n{constructor(){this.toastService=f(ni),this.authApiService=f(_n),this.authService=f(Mi),this.usersService=f(Ni),this.exerciseApiService=f(Qu),this.serviceWorkerUpdates=f(fs),this.document=f(de),this.router=f(qe),this.offcanvasService=f(Fc),this.modalService=f(xc),this.auth=f(je),this.Paths=H,this.hasAppLoaded=!0,this.preloaderMessage="Searching for updates...",this.preloaderProgress=10,this.serviceWorkerUpdates.unrecoverable.pipe(Nc()).subscribe(e=>console.error(e)),this.serviceWorkerUpdates.versionUpdates.subscribe({next:e=>{if(e.type==="VERSION_DETECTED")this.toastService.ok("New version found.");else if(e.type==="NO_NEW_VERSION_DETECTED")this.toastService.ok("Everything up to date.");else if(e.type==="VERSION_READY"){let r=this.modalService.open(bd,{centered:!0}),i=r.componentInstance;i.title="Version Update",i.subtitle="<strong>New version found</strong>",i.body="Do you want to install it now?",i.cancelText="Later",i.okText="Update",r.closed.pipe(fe(1)).subscribe(()=>{this.document.location.reload()})}else if(e.type==="VERSION_INSTALLATION_FAILED")this.toastService.error("Failed to install new version.");else throw new Error("Impossible state")}})}ngOnInit(){return l(this,null,function*(){yield this.auth.authStateReady(),yield this.authApiService.tryRefreshToken();let e=this.auth.currentUser,r=yield Bt(this.usersService.getUserByFirebaseUuid(e?.uid??""));this.authService.user.set(r),yield this.exerciseApiService.fetchExercises()})}navigateToCreateLog(){this.router.navigate([H.LOGS,H.LOGS_CREATE])}signOut(){return l(this,null,function*(){yield this.authApiService.signOut(),this.router.navigate([H.SIGN_IN])})}openSidebar(e){this.offcanvasService.open(e,{position:"end"})}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ze({type:n,selectors:[["app-root"]],decls:7,vars:1,consts:[["content",""],[1,"toast-container"],["data-bs-theme","light",3,"autohide","delay"],[1,"preloader"],[1,"offcanvas-header"],["tabindex","-1","type","button","aria-label","Close",1,"btn-close","btn-close-white",2,"margin-left","auto",3,"click"],[1,"offcanvas-body"],[1,"btn","btn-link",2,"cursor","pointer"],[3,"click","routerLink"],[1,"btn","btn-link",2,"cursor","pointer",3,"click"],["data-bs-theme","light",3,"hidden","autohide","delay"],[3,"closed","type"],[3,"menuSidebarClicked"],[1,"main"],[1,"preloader-content"],[1,"preloader-title"],[1,"progress"],[1,"progress-bar"],[1,"preloader-message"]],template:function(r,i){r&1&&(Kt(0,Hy,6,3,"ng-template",null,0,Ec),M(2,"div",1),mc(3,qy,3,4,"ngb-toast",2,pc),L(),Kt(5,Gy,4,0)(6,Yy,8,3,"div",3)),r&2&&(B(3),gc(i.toastService.toasts()),B(2),Rt(i.hasAppLoaded?5:6))},dependencies:[Id,Ed,on,ao,Cr,Pr,Or,Uc,Ar,Mc],styles:["button[_ngcontent-%COMP%]:has(.fa.fa-plus){border-radius:100%;position:fixed;right:25px;bottom:75px;z-index:4}@supports (-webkit-hyphens: none){button[_ngcontent-%COMP%]:has(.fa.fa-plus){bottom:100px}}.offcanvas-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{box-shadow:none}.main[_ngcontent-%COMP%]{background-color:var(--bs-body-bg);height:100vh;padding-top:2rem}.toast-container[_ngcontent-%COMP%]{position:fixed;top:15px;left:50%;transform:translate(-50%);z-index:1200}.toast-container[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:last-child){--bs-toast-spacing: .5rem}.offcanvas-body[_ngcontent-%COMP%]{display:flex;flex-direction:column}.preloader[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:var(--bs-primary);height:100vh;width:100vw}.preloader[_ngcontent-%COMP%]   .preloader-content[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;margin-bottom:12rem;color:#fff}.preloader[_ngcontent-%COMP%]   .preloader-content[_ngcontent-%COMP%]   .preloader-title[_ngcontent-%COMP%]{font-weight:700;font-size:36px}.preloader[_ngcontent-%COMP%]   .preloader-content[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{width:180px;height:5px;border-radius:0;background-color:#ffffff4d}.preloader[_ngcontent-%COMP%]   .preloader-content[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{background-color:#fff}.preloader[_ngcontent-%COMP%]   .preloader-content[_ngcontent-%COMP%]   .preloader-message[_ngcontent-%COMP%]{padding-top:.3rem;font-size:14px}"]})}}return n})();var Ky="@",Jy=(()=>{class n{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=f(Qa,{optional:!0});loadingSchedulerFn=f(Xy,{optional:!0});_engine;constructor(e,r,i,s,o){this.doc=e,this.delegate=r,this.zone=i,this.animationType=s,this.moduleImpl=o}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-WHMXJQAL.js").then(i=>i),r;return this.loadingSchedulerFn?r=this.loadingSchedulerFn(e):r=e(),r.catch(i=>{throw new X(5300,!1)}).then(({\u0275createEngine:i,\u0275AnimationRendererFactory:s})=>{this._engine=i(this.animationType,this.doc);let o=new s(this.delegate,this._engine,this.zone);return this.delegate=o,o})}createRenderer(e,r){let i=this.delegate.createRenderer(e,r);if(i.\u0275type===0)return i;typeof i.throwOnSyntheticProps=="boolean"&&(i.throwOnSyntheticProps=!1);let s=new Ta(i);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(o=>{let c=o.createRenderer(e,r);s.use(c),this.scheduler?.notify(11)}).catch(o=>{s.use(i)}),s}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static \u0275fac=function(r){ts()};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),Ta=class{delegate;replay=[];\u0275type=1;constructor(t){this.delegate=t}use(t){if(this.delegate=t,this.replay!==null){for(let e of this.replay)e(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,e){this.delegate.appendChild(t,e)}insertBefore(t,e,r,i){this.delegate.insertBefore(t,e,r,i)}removeChild(t,e,r){this.delegate.removeChild(t,e,r)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,i){this.delegate.setAttribute(t,e,r,i)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,i){this.delegate.setStyle(t,e,r,i)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){this.shouldReplay(e)&&this.replay.push(i=>i.setProperty(t,e,r)),this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.shouldReplay(e)&&this.replay.push(i=>i.listen(t,e,r)),this.delegate.listen(t,e,r)}shouldReplay(t){return this.replay!==null&&t.startsWith(Ky)}},Xy=new U("");function Sd(n="animations"){return Qi("NgAsyncAnimations"),we([{provide:vr,useFactory:(t,e,r)=>new Jy(t,e,r,n),deps:[de,xr,ae]},{provide:ic,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Rd={apiUrl:"https://robertly.azurewebsites.net/api"};var Ad=(n,t)=>{let e=f(qe),r=f(_n),i=r.idToken();return i&&(n=n.clone({setHeaders:{Authorization:`Bearer ${i}`}})),t(n).pipe(ft(s=>{if(s instanceof We){if(s.status===Pn.Unauthorized)return oe(r.tryRefreshToken()).pipe(te(o=>{let c=o?H.HOME:H.SIGN_IN;return e.navigate([c],{onSameUrlNavigation:"reload"}),ke(()=>s)}));if(s.status===Pn.NotFound||s.status===Pn.Forbidden)return ke(()=>new Error("The resource does not exist or you do not have access."))}return ke(()=>s)}))};var Dd=wn(Aa()),Nd=wn(Cd()),Md=wn(Od()),Ld=wn(Pd()),$T=wn(kd()),H={HOME:"home",LOGS:"logs",LOGS_EDIT:"edit",LOGS_CREATE:"create",LOGS_ID_PARAM:"id",STATS:"stats",EXERCISES:"exercises",SIGN_IN:"signin",SIGN_UP:"signup",DEVELOPER:"developer",FOODS:"foods"},Zy=[{path:H.EXERCISES,loadComponent:()=>import("./chunk-C6XMQLXN.js").then(n=>n.ExercisesPageComponent)},{path:H.STATS,loadComponent:()=>import("./chunk-YHTU52CC.js").then(n=>n.StatsPageComponent)},{path:H.SIGN_IN,loadComponent:()=>import("./chunk-Q5JX6OVK.js").then(n=>n.SignInComponent)},{path:H.HOME,pathMatch:"full",loadComponent:()=>import("./chunk-YHAJ7JRH.js").then(n=>n.HomePageComponent)},{path:H.LOGS,pathMatch:"full",loadComponent:()=>import("./chunk-WXJ4WWEZ.js").then(n=>n.ExerciseLogsPageComponent)},{path:`${H.LOGS}/${H.LOGS_EDIT}/:${H.LOGS_ID_PARAM}`,pathMatch:"full",loadComponent:()=>import("./chunk-GNM6CEXP.js").then(n=>n.EditExerciseLogPageComponent)},{path:`${H.LOGS}/${H.LOGS_CREATE}`,pathMatch:"full",loadComponent:()=>import("./chunk-GNM6CEXP.js").then(n=>n.EditExerciseLogPageComponent)},{path:H.DEVELOPER,pathMatch:"full",loadComponent:()=>import("./chunk-B25Z267S.js").then(n=>n.DeveloperPageComponent)},{path:H.FOODS,pathMatch:"full",loadComponent:()=>import("./chunk-6SPBBHL6.js").then(n=>n.FoodsPageComponent)},{path:"",pathMatch:"full",redirectTo:H.HOME}],Lt=new U("API_URL"),Qy=new U("DAY_JS");cu(Td,{providers:[Pc,kc,Tc(),Sd(),Zc(Qc([Ad])),qu(Zy),Vc("ngsw-worker.js",{enabled:!Sc()}),Al(()=>Cl({projectId:"gymtracker-b0b72",appId:"1:1063566206093:web:a3154a1ae143b91f05eec4",storageBucket:"gymtracker-b0b72.appspot.com",apiKey:"AIzaSyCA0ExS-7mRUULdk7CYFORL5zwYXd4lJ-E",authDomain:"auth.robertly.ar",messagingSenderId:"1063566206093"})),vd(()=>yd()),{provide:Lt,useValue:Rd.apiUrl},{provide:Qy,useFactory:()=>{let n=Dd.default;return n.extend(Nd.default),n.extend(Md.default),n.extend(Ld.default),n.locale("es-mx"),n}}]}).catch(n=>console.error(n));export{vt as a,Ct as b,Nt as c,qe as d,Mt as e,Pp as f,Dp as g,ti as h,xp as i,Fp as j,zp as k,Wp as l,Qu as m,ni as n,_n as o,Mi as p,bd as q,Aa as r,Cd as s,Od as t,Pd as u,kd as v,H as w,Lt as x,Qy as y};
