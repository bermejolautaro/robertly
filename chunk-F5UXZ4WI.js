import{a as $}from"./chunk-A6R7PE5T.js";import{B as F,e as _,p as O}from"./chunk-THPYSZQ4.js";import{d as H,n as I}from"./chunk-DTV3HI3V.js";import{Aa as P,Ab as f,Bb as m,Db as V,Fc as d,Gb as U,Hb as S,Ic as A,Jb as w,Kb as L,La as C,Lb as r,Mb as a,Nb as c,Qb as b,Ub as M,Vb as v,ac as R,bc as z,cb as s,dc as l,fc as u,kb as h,pc as T,qa as x,sc as W,ub as p,vb as E,ya as y,za as k,zb as D}from"./chunk-XBCISZ24.js";var q=["ring"],B=(()=>{class n{constructor(){this.ring=E("ring"),this.value=C(100),this.maxValue=C(100),this.percent=d(()=>Math.min(100,this.value()*100/this.maxValue())),this.isSuccess=d(()=>this.percent()>=80),this.isDanger=d(()=>this.percent()<50),this.size=p(100),this.strokeWidth=p(7),this.radius=d(()=>this.size()/2-this.strokeWidth()*2),this.#e=A(()=>{let t=this.radius(),i=this.percent(),e=this.ring();if(e){let o=t*2*Math.PI,Q=o-i/100*o;e.nativeElement.style.strokeDasharray=`${o} ${o}`,e.nativeElement.style.strokeDashoffset=`${Q}`}})}#e;static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=h({type:n,selectors:[["app-ring"]],viewQuery:function(i,e){i&1&&R(e.ring,q,5),i&2&&z()},inputs:{value:[1,"value"],maxValue:[1,"maxValue"]},decls:6,vars:15,consts:[["ring",""],[1,"progress-ring"],["x","50%","y","52%","fill","white",1,"progress-ring__text"],["fill","transparent","stroke","",1,"progress-ring__circle","default"],["fill","transparent",1,"progress-ring__circle"]],template:function(i,e){i&1&&(P(),r(0,"svg",1)(1,"text",2),l(2),a(),c(3,"circle",3)(4,"circle",4,0),a()),i&2&&(f("height",e.size())("width",e.size()),s(2),u(" ",e.value()," "),s(),f("stroke-width",e.strokeWidth())("r",e.radius())("cx",e.size()/2)("cy",e.size()/2),s(),V("success",e.isSuccess())("danger",e.isDanger()),f("stroke-width",e.strokeWidth())("r",e.radius())("cx",e.size()/2)("cy",e.size()/2))},styles:[".progress-ring__text[_ngcontent-%COMP%]{font-size:24px;font-weight:700;transform-origin:50% 50%;text-anchor:middle;dominant-baseline:middle}.progress-ring__circle[_ngcontent-%COMP%]{transition:stroke-dashoffset .35s;transform:rotate(-90deg);transform-origin:50% 50%;stroke:#fdcd00}.default[_ngcontent-%COMP%]{stroke:var(--light-bg)}.success[_ngcontent-%COMP%]{stroke:#27bb65}.danger[_ngcontent-%COMP%]{stroke:#c33e37}"],changeDetection:0})}}return n})();function G(n,g){if(n&1&&c(0,"app-exercise-log",8),n&2){let t=g.$implicit;m("exerciseLog",t)}}function N(n,g){if(n&1&&c(0,"app-exercise-log",8),n&2){let t=g.$implicit;m("exerciseLog",t)}}function Y(n,g){if(n&1){let t=b();r(0,"div",1)(1,"div",3)(2,"div",4),c(3,"app-ring",5),r(4,"div",6),l(5,"Dias entrenados esta semana"),a()(),r(6,"div",4),c(7,"app-ring",5),r(8,"div",6),l(9,"Dias entrenados este mes"),a()(),r(10,"div",4),c(11,"app-ring",5),r(12,"div",6),l(13,"Dias entrenados este a\xF1o"),a()()(),r(14,"div",7)(15,"h6"),l(16,"Recently updated"),a()(),w(17,G,1,1,"app-exercise-log",8,S),T(19,"slice"),r(20,"div",9),M("click",function(){y(t);let e=v();return k(e.toggleShowMoreRecentlyUpdated())}),l(21),a(),r(22,"div",10)(23,"h6"),l(24,"Latest Workout"),a()(),w(25,N,1,1,"app-exercise-log",8,S),T(27,"slice"),r(28,"div",9),M("click",function(){y(t);let e=v();return k(e.toggleShowMoreLatestWorkout())}),l(29),a()()}if(n&2){let t,i,e,o=v();s(3),m("value",(t=(t=o.stats.value())==null?null:t.daysTrainedThisWeek)!==null&&t!==void 0?t:0)("maxValue",o.daysPerWeekTarget()*1),s(4),m("value",(i=(i=o.stats.value())==null?null:i.daysTrainedThisMonth)!==null&&i!==void 0?i:0)("maxValue",o.daysPerWeekTarget()*4),s(4),m("value",(e=(e=o.stats.value())==null?null:e.daysTrainedThisYear)!==null&&e!==void 0?e:0)("maxValue",o.daysPerWeekTarget()*52),s(6),L(W(19,8,o.recentlyUpdatedLogs.value(),0,o.recentlyUpdatedAmountToShow())),s(4),u(" ",o.showMoreRecentlyUpdated()?"Show less...":"Show more..."," "),s(4),L(W(27,12,o.latestWorkoutLogs.value(),0,o.latestWorkoutAmountToShow())),s(4),u(" ",o.showMoreLatestWorkout()?"Show less...":"Show more..."," ")}}function J(n,g){n&1&&(r(0,"div",2)(1,"div",11)(2,"span",12),l(3,"Loading..."),a()()())}var ce=(()=>{class n{constructor(){this.document=x(H),this.exerciseLogApiService=x(O),this.daysPerWeekTarget=d(()=>3),this.showMoreRecentlyUpdated=p(!1),this.recentlyUpdatedAmountToShow=d(()=>this.showMoreRecentlyUpdated()?this.recentlyUpdatedLogs.value()?.length??10:2),this.showMoreLatestWorkout=p(!1),this.latestWorkoutAmountToShow=d(()=>this.showMoreLatestWorkout()?this.latestWorkoutLogs.value()?.length??10:2),this.isLoading=d(()=>this.recentlyUpdatedLogs.isLoading()&&this.latestWorkoutLogs.isLoading()&&this.stats.isLoading()),this.stats=_({loader:()=>this.exerciseLogApiService.getStats()}),this.recentlyUpdatedLogs=_({loader:()=>this.exerciseLogApiService.getRecentlyUpdated()}),this.latestWorkoutLogs=_({loader:()=>this.exerciseLogApiService.getExerciseLogsLatestWorkout()})}ngOnInit(){this.document.defaultView?.scroll({top:0,left:0,behavior:"smooth"})}toggleShowMoreRecentlyUpdated(){this.showMoreRecentlyUpdated.update(t=>!t)}toggleShowMoreLatestWorkout(){this.showMoreLatestWorkout.update(t=>!t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=h({type:n,selectors:[["app-home-page"]],decls:3,vars:1,consts:[[1,"footer-padding"],[1,"container"],[1,"position-absolute","top-50","start-50","translate-middle"],[1,"pb-5",2,"display","grid","grid-template-columns","1fr 1fr 1fr"],[1,"d-flex","justify-content-center","align-items-center","flex-column"],[3,"value","maxValue"],[2,"text-align","center","font-size","12px","padding",".5rem"],[1,"pb-2"],[3,"exerciseLog"],[2,"font-size","14px","padding","0 0.4rem",3,"click"],[1,"pt-4","pb-2"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"]],template:function(i,e){i&1&&(r(0,"div",0),D(1,Y,30,16,"div",1)(2,J,4,0,"div",2),a()),i&2&&(s(),U(e.isLoading()?2:1))},dependencies:[F,$,B,I],encapsulation:2,changeDetection:0})}}return n})();export{ce as HomePageComponent};
