import{a as I}from"./chunk-7D6QH6FV.js";import"./chunk-U6Z352PU.js";import{a as S}from"./chunk-WUEYTSPZ.js";import{B as y,e as E,p as L}from"./chunk-MQVGECFW.js";import{d as C}from"./chunk-SL3BKGXR.js";import{Bb as d,Hb as h,Ic as v,Jb as f,Kb as x,Lb as r,Mb as o,Nb as a,Ub as l,cb as p,dc as P,fc as _,kb as m,qa as g,ub as u}from"./chunk-HLRLCPE5.js";function b(i,T){if(i&1&&a(0,"app-exercise-log",8),i&2){let e=T.$implicit;d("exerciseLog",e)}}var O=(()=>{class i{constructor(){this.document=g(C),this.exerciseLogApiService=g(L),this.currentPage=u(0),this.filter=u(null),this.logsResource=E({request:this.filter,loader:({request:e})=>{let t=e?.userId.at(0),n=e?.types.at(0),s=e?.exercisesIds.at(0),c=e?.weights.at(0);return this.exerciseLogApiService.getExerciseLogs(this.currentPage(),t,n??null,s??null,c??null)}}),this.logs=v(()=>this.logsResource.isLoading()?[null,null,null,null,null]:this.logsResource.value())}ngOnInit(){this.document.defaultView?.scroll({top:0,left:0,behavior:"smooth"})}onFilterChange(e){this.currentPage.set(0),this.filter.set(e),this.logsResource.reload()}prevPage(){let e=this.currentPage();this.currentPage.update(t=>Math.max(t-1,0)),e!==this.currentPage()&&this.logsResource.reload()}nextPage(){let e=this.currentPage();this.currentPage.update(t=>t+1),e!==this.currentPage()&&this.logsResource.reload()}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=m({type:i,selectors:[["app-exercise-logs-page"]],decls:12,vars:1,consts:[[1,"footer-padding"],[3,"filtersChanged"],[1,"container","d-flex","justify-content-end","align-items-center","gap-2"],[1,"btn","btn-secondary",3,"click"],[1,"fa","fa-angle-left"],[1,"fa","fa-angle-right"],[1,"mt-4"],[1,"container"],[3,"exerciseLog"]],template:function(t,n){t&1&&(r(0,"div",0)(1,"app-filters",1),l("filtersChanged",function(c){return n.onFilterChange(c)}),o(),r(2,"div",2)(3,"button",3),l("click",function(){return n.prevPage()}),a(4,"i",4),o(),P(5),r(6,"button",3),l("click",function(){return n.nextPage()}),a(7,"i",5),o()(),r(8,"div",6)(9,"div",7),f(10,b,1,1,"app-exercise-log",8,h),o()()()),t&2&&(p(5),_(" ",n.currentPage()+1," "),p(5),x(n.logs()))},dependencies:[y,S,I],encapsulation:2,changeDetection:0})}}return i})();export{O as ExerciseLogsPageComponent};
