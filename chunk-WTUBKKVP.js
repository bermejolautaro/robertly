import{$ as we,B as ge,D,E as I,F as P,G as F,H as A,I as N,J as M,K as xe,L as ue,M as _e,N as he,O as fe,P as Ce,k as se,l as X,m as J,n as U,o as le,p as pe,r as de,w as me}from"./chunk-DMGM2SHO.js";import{$a as g,A as H,Bb as G,Eb as v,Fb as y,Ib as K,Jb as Y,La as c,Lb as q,M as V,Pa as Q,Wa as d,Xa as z,_b as ae,ab as u,bb as R,cb as ne,cc as S,db as C,dc as ce,eb as w,fb as o,fc as T,ga as b,gb as r,hb as _,ia as h,j as W,kb as oe,la as ee,na as te,nb as L,oa as ie,ob as m,r as j,sb as p,ub as x,vb as re,zb as f}from"./chunk-7RHUOPPF.js";function Te(e,t){e&1&&_(0,"i",8)}function Se(e,t){if(e&1&&(o(0,"div",6),p(1),v(2,"titlecase"),g(3,Te,1,0,"i",7),r()),e&2){let i=m(2);z("font-size",1,"rem"),c(1),x(" ",y(2,4,i.exerciseRow.excerciseName)," "),c(2),u(3,i.showStar?3:-1)}}function Re(e,t){if(e&1&&(o(0,"div",4),g(1,Se,4,6,"div",5),r()),e&2){let i=m();d("ngClass",i.showDate&&i.showUsername?"fw-semibold":null),c(1),u(1,i.showExercise?1:-1)}}function Le(e,t){if(e&1&&(o(0,"div",9),p(1),v(2,"titlecase"),r()),e&2){let i=m();z("font-size",.8,"rem"),c(1),re(" ",i.exerciseRow.date," - ",y(2,4,i.exerciseRow.username)," ")}}var $=(()=>{let t=class t{constructor(){this.showStar=!1,this.showExercise=!0,this.showDate=!0,this.showUsername=!0}};t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=h({type:t,selectors:[["app-excercise-row-title"]],inputs:{showStar:"showStar",showExercise:"showExercise",showDate:"showDate",showUsername:"showUsername",exerciseRow:"exerciseRow"},standalone:!0,features:[f],decls:4,vars:2,consts:[[1,"w-100"],["class","row w-100 pb-1",3,"ngClass"],[1,"row"],["class","col d-flex text-muted",3,"fontSize"],[1,"row","w-100","pb-1",3,"ngClass"],["class","col d-flex align-items-center gap-1",3,"fontSize"],[1,"col","d-flex","align-items-center","gap-1"],["class","fa fa-star"],[1,"fa","fa-star"],[1,"col","d-flex","text-muted"]],template:function(a,n){a&1&&(o(0,"div",0),g(1,Re,2,2,"div",1),o(2,"div",2),g(3,Le,3,6,"div",3),r()()),a&2&&(c(1),u(1,n.exerciseRow?1:-1),c(2),u(3,n.showDate?3:-1))},dependencies:[S,T],styles:["[_nghost-%COMP%]{display:flex;flex:1}"],changeDetection:0});let e=t;return e})();var De=(e,t)=>t.serie;function Ie(e,t){if(e&1&&(o(0,"tr",3)(1,"td",4),p(2),r(),o(3,"td",5),p(4),r(),o(5,"td",5),p(6),r()()),e&2){let i=t.$implicit;c(2),x("Serie ",i.serie,""),c(2),x("",i.reps," reps"),c(2),x("",i.weightKg,"kg")}}function Pe(e,t){if(e&1&&(o(0,"tr",3)(1,"td",4),p(2,"Total"),r(),o(3,"td",5),p(4),r(),o(5,"td",5),p(6),r()()),e&2){let i=m(2);c(4),x("",i.exerciseRow.total," reps"),c(2),x("",i.exerciseRow.series[0].weightKg,"kg")}}function Fe(e,t){if(e&1&&(o(0,"tr",3)(1,"td",4),p(2,"Average"),r(),o(3,"td",5),p(4),r(),o(5,"td",5),p(6),r()()),e&2){let i=m(2);c(4),x("",i.exerciseRow.average," reps"),c(2),x("",i.exerciseRow.series[0].weightKg,"kg")}}function Ae(e,t){if(e&1&&(o(0,"table",1)(1,"tbody"),C(2,Ie,7,3,"tr",2,De),g(4,Pe,7,2,"tr",2)(5,Fe,7,2,"tr",2),o(6,"tr",3)(7,"td",4),p(8,"Tonnage"),r(),o(9,"td",5),p(10,"\xA0"),r(),o(11,"td",5),p(12),r()()()()),e&2){let i=m();c(2),w(i.exerciseRow.series),c(2),u(4,i.exerciseRow.total?4:-1),c(1),u(5,i.exerciseRow.average?5:-1),c(7),x("",i.exerciseRow.tonnage,"kg")}}var k=(()=>{let t=class t{};t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=h({type:t,selectors:[["app-excercise-row-body"]],inputs:{exerciseRow:"exerciseRow"},standalone:!0,features:[f],decls:1,vars:1,consts:[["class","table table-striped table-sm m-0"],[1,"table","table-striped","table-sm","m-0"],["class","row"],[1,"row"],[1,"fw-bold","col"],[1,"col","text-center"]],template:function(a,n){a&1&&g(0,Ae,13,3,"table",0),a&2&&u(0,n.exerciseRow?0:-1)},changeDetection:0});let e=t;return e})();function Ne(e,t){if(e&1&&_(0,"app-excercise-row-body",6),e&2){let i=m().$implicit;d("exerciseRow",i)}}function Me(e,t){if(e&1&&(o(0,"div",3)(1,"h2",4)(2,"button",5),_(3,"app-excercise-row-title",6),r()(),o(4,"div",7)(5,"div",8),g(6,Ne,1,1,"ng-template"),r()()()),e&2){let i=t.$implicit;d("ngClass",i.highlighted?"accordion-highlight "+i.highlighted:null),c(3),d("exerciseRow",i)}}var ve=(()=>{let t=class t{constructor(){this.exerciseRows=[]}};t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=h({type:t,selectors:[["app-excercise-rows"]],inputs:{exerciseRows:"exerciseRows"},standalone:!0,features:[f],decls:5,vars:0,consts:[[1,"row","my-2"],[1,"col"],["ngbAccordion",""],["ngbAccordionItem","",3,"ngClass"],["ngbAccordionHeader",""],["ngbAccordionButton",""],[3,"exerciseRow"],["ngbAccordionCollapse",""],["ngbAccordionBody",""]],template:function(a,n){a&1&&(o(0,"div",0)(1,"div",1)(2,"div",2),C(3,Me,7,2,"div",3,R),r()()()),a&2&&(c(3),w(n.exerciseRows))},dependencies:[S,M,P,N,A,F,D,I,$,k],changeDetection:0});let e=t;return e})();var ye=(()=>{let t=class t{constructor(){this.dayjsService=b(se),this.titleCasePipe=b(T)}transform(s,a="Invalid Date"){let n=this.dayjsService.parseDate(s??"");return n.isValid()?this.titleCasePipe.transform(n.format("dddd[ - ]DD/MM/YYYY")):a}};t.\u0275fac=function(a){return new(a||t)},t.\u0275pipe=ee({name:"parseToDate",type:t,pure:!0,standalone:!0});let e=t;return e})();function Be(e,t){if(e&1&&(o(0,"td",16)(1,"div"),p(2),r(),o(3,"div"),p(4),r()()),e&2){let i=t.$implicit;c(2),x("",i.reps," reps"),c(2),x("",i.weightKg,"kg")}}function $e(e,t){if(e&1&&(o(0,"tr",14)(1,"td",15),p(2),v(3,"titlecase"),r(),C(4,Be,5,2,"td",17,R),r()),e&2){let i=t.$implicit;d("ngClass",i[1].highlighted?"accordion-highlight "+i[1].highlighted:null),c(2),x(" ",y(3,2,i[1].excerciseName)," "),c(2),w(i[1].series)}}function ke(e,t){if(e&1&&C(0,$e,6,4,"tr",14,R),e&2){let i=t.$implicit;w(i[1])}}function Ge(e,t){if(e&1&&(o(0,"div",12)(1,"table",13)(2,"tbody"),C(3,ke,2,0,null,null,R),r()()()),e&2){let i=m(2).$implicit;c(3),w(i[1])}}function Ue(e,t){if(e&1&&_(0,"app-excercise-row-body",22),e&2){let i=m().$implicit;d("exerciseRow",i[1])}}function Oe(e,t){if(e&1&&(o(0,"div",20)(1,"h2",5)(2,"button",6),_(3,"app-excercise-row-title",21),r()(),o(4,"div",9)(5,"div",18),g(6,Ue,1,1,"ng-template"),r()()()),e&2){let i=t.$implicit;d("ngClass",i[1].highlighted?"accordion-highlight "+i[1].highlighted:null),c(3),d("showUsername",!1)("showDate",!1)("exerciseRow",i[1])}}function We(e,t){if(e&1&&(o(0,"div",2),g(1,Oe,7,4,"div",19),r()),e&2){let i=m().$implicit;c(1),d("ngForOf",i[1])}}function je(e,t){if(e&1&&(o(0,"div",4)(1,"h2",5)(2,"button",6)(3,"div",7)(4,"div",8),p(5),v(6,"titlecase"),r()()()(),o(7,"div",9)(8,"div",18),g(9,We,2,1,"ng-template"),r()()()),e&2){let i=t.$implicit;c(5),x(" ",y(6,1,i[0])," ")}}function He(e,t){if(e&1&&(o(0,"div",2),g(1,je,10,3,"div",3),r()),e&2){let i=m(2).$implicit;c(1),d("ngForOf",i[1])}}function Ve(e,t){if(e&1&&g(0,Ge,5,0,"div",11)(1,He,2,1),e&2){let i=m(2);u(0,i.exerciseLogService.selectedUsername()?0:1)}}var Qe=e=>({"p-0":e});function ze(e,t){if(e&1&&(o(0,"div",4)(1,"h2",5)(2,"button",6)(3,"div",7)(4,"div",8),p(5),v(6,"parseToDate"),r()()()(),o(7,"div",9)(8,"div",10),g(9,Ve,2,1,"ng-template"),r()()()),e&2){let i=t.$implicit,s=m();c(5),x(" ",y(6,2,i[0])," "),c(3),d("ngClass",G(4,Qe,s.exerciseLogService.selectedUsername()))}}var Ee=(()=>{let t=class t{constructor(){this.exerciseLogService=b(U)}};t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=h({type:t,selectors:[["app-grouped-exercise-rows"]],standalone:!0,features:[f],decls:4,vars:1,consts:[[1,"row","my-2"],[1,"col"],["ngbAccordion",""],["ngbAccordionItem","",4,"ngFor","ngForOf"],["ngbAccordionItem",""],["ngbAccordionHeader",""],["ngbAccordionButton",""],[1,"row","w-100"],[1,"col","d-flex","align-items-center","justify-content-center","text-center"],["ngbAccordionCollapse",""],["ngbAccordionBody","",3,"ngClass"],["class","table-responsive"],[1,"table-responsive"],[1,"table","table-bordered","m-0","table-slim"],[3,"ngClass"],[1,"table-slim-cell",2,"width","20%","font-weight","500","vertical-align","middle"],[1,"table-slim-cell",2,"text-wrap","nowrap","vertical-align","middle","text-align","center"],["class","table-slim-cell","style","text-wrap: nowrap; vertical-align: middle; text-align: center"],["ngbAccordionBody",""],["ngbAccordionItem","",3,"ngClass",4,"ngFor","ngForOf"],["ngbAccordionItem","",3,"ngClass"],[3,"showUsername","showDate","exerciseRow"],[3,"exerciseRow"]],template:function(a,n){a&1&&(o(0,"div",0)(1,"div",1)(2,"div",2),g(3,ze,10,6,"div",3),r()()()),a&2&&(c(3),d("ngForOf",n.exerciseLogService.groupedLogs()))},dependencies:[ce,M,P,N,A,F,D,I,T,ye,S,k,$],styles:["table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{font-size:12px;padding:.3rem}"],changeDetection:0});let e=t;return e})();function Ke(e,t){if(e&1&&_(0,"app-excercise-row-body",7),e&2){let i=m();d("exerciseRow",i.personalRecord)}}var be=(()=>{let t=class t{};t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=h({type:t,selectors:[["app-personal-record"]],inputs:{personalRecord:"personalRecord"},standalone:!0,features:[f],decls:8,vars:2,consts:[["ngbAccordion",""],["ngbAccordionItem","",1,"accordion-highlight","light-blue"],["ngbAccordionHeader",""],["ngbAccordionButton",""],[3,"exerciseRow","showStar"],["ngbAccordionCollapse",""],["ngbAccordionBody",""],[3,"exerciseRow"]],template:function(a,n){a&1&&(o(0,"div",0)(1,"div",1)(2,"h2",2)(3,"button",3),_(4,"app-excercise-row-title",4),r()(),o(5,"div",5)(6,"div",6),g(7,Ke,1,1,"ng-template"),r()()()()),a&2&&(c(4),d("exerciseRow",n.personalRecord)("showStar",!0))},dependencies:[$,k,M,P,N,A,F,D,I],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0});let e=t;return e})();var Ye=["exerciseTypeaheadInput"],qe=["weightTypeaheadInput"],Xe=e=>({active:e});function Je(e,t){if(e&1){let i=oe();o(0,"button",15),L("click",function(){let n=te(i).$implicit,l=m();return ie(l.exerciseLogService.selectedType$.next(n))}),p(1),v(2,"titlecase"),r()}if(e&2){let i=t.$implicit,s=m();d("ngClass",G(4,Xe,i===s.exerciseLogService.selectedType())),c(1),x(" ",y(2,2,i)," ")}}function Ze(e,t){e&1&&_(0,"app-personal-record",18),e&2&&d("personalRecord",t)}function et(e,t){e&1&&_(0,"app-grouped-exercise-rows")}function tt(e,t){if(e&1&&_(0,"app-excercise-rows",19),e&2){let i=m(2);d("exerciseRows",i.exerciseLogService.exerciseRows())}}function it(e,t){if(e&1&&(o(0,"div",16),g(1,Ze,1,1,"app-personal-record",17)(2,et,1,0,"app-grouped-exercise-rows")(3,tt,1,1),r()),e&2){let i=m(),s;c(1),u(1,(s=i.exerciseLogService.personalRecord())?1:-1,s),c(1),u(2,i.isGrouped?2:3)}}function nt(e,t){e&1&&(o(0,"div",20)(1,"div",21)(2,"span",22),p(3,"Loading..."),r()()())}var O="Clear Filter",qt=(()=>{let t=class t{constructor(){this.titleCasePipe=b(T),this.document=b(ae),this.exerciseLogService=b(U),this.EXERCISE_PLACEHOLDER=X,this.WEIGHT_PLACEHOLDER=J,this.isGrouped=!1,this.exerciseTypeahead="",this.exerciseTypeaheadInput=null,this.exerciseFocus$=new W,this.exerciseSearch=s=>{let a=s.pipe(V());return H(a,this.exerciseFocus$).pipe(j(()=>{let n=this.exerciseLogService.exercises().map(l=>l.exercise);return this.exerciseLogService.selectedExercise()&&n.unshift(O),this.exerciseTypeahead===""||this.exerciseTypeahead===X?n:n.filter(l=>!!l).filter(l=>l.toLowerCase().includes(this.exerciseTypeahead.toLowerCase()))}))},this.weightTypeahead="",this.weightTypeaheadInput=null,this.weightFocus$=new W,this.weightSearch=s=>{let a=s.pipe(V());return H(a,this.weightFocus$).pipe(j(()=>{let n=this.exerciseLogService.weights().map(l=>`${l}`);return this.exerciseLogService.selectedWeight()&&n.unshift(O),this.weightTypeahead===""||this.weightTypeahead===J?n:n.filter(l=>!!l).filter(l=>l.includes(this.weightTypeahead))}))},this.exerciseFormatter=s=>this.titleCasePipe.transform(s),this.weightFormatter=s=>isNaN(parseInt(s))?s:`${s}kg`,Q(()=>this.exerciseTypeahead=this.exerciseLogService.selectedExerciseLabel()),Q(()=>this.weightTypeahead=this.exerciseLogService.selectedWeightLabel())}ngOnInit(){this.document.defaultView?.scroll({top:0,left:0,behavior:"smooth"})}onExerciseTypeaheadChange(s){let a=this.exerciseLogService.exercises().filter(n=>n.exercise===s.item).at(0)??null;s.item===O&&(a=null),this.exerciseLogService.selectedExercise$.next(a?{name:a.exercise,type:a.type}:null),this.exerciseTypeahead=this.exerciseLogService.selectedExerciseLabel(),this.exerciseTypeaheadInput?.nativeElement.blur(),this.exerciseLogService.selectedWeight$.next(null),this.weightTypeahead=this.exerciseLogService.selectedWeightLabel()}onWeightTypeaheadChange(s){let a=this.exerciseLogService.weights().filter(n=>`${n}`===s.item).at(0)??null;s.item===O&&(a=null),this.exerciseLogService.selectedWeight$.next(a),this.weightTypeaheadInput?.nativeElement.blur()}};t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=h({type:t,selectors:[["app-excercise-logs-page"]],viewQuery:function(a,n){if(a&1&&(Y(Ye,7),Y(qe,7)),a&2){let l;K(l=q())&&(n.exerciseTypeaheadInput=l.first),K(l=q())&&(n.weightTypeaheadInput=l.first)}},standalone:!0,features:[f],decls:26,vars:15,consts:[[1,"container","my-4"],[1,"row","mb-2","gx-2"],[1,"col-12"],["ngbDropdown","",1,"d-flex","justify-content-center"],["type","button","ngbDropdownToggle","",1,"btn","btn-outline-primary","w-100","d-flex","justify-content-between","align-items-center"],["ngbDropdownMenu","",1,"w-100"],["ngbDropdownItem","",3,"click"],["type","text",1,"form-control","mb-2",3,"ngModel","ngbTypeahead","popupClass","resultFormatter","inputFormatter","ngModelChange","selectItem","focus","blur"],["exerciseTypeaheadInput",""],["weightTypeaheadInput",""],[1,"row"],[1,"form-check","form-switch","d-flex","align-items-center","gap-1"],["type","checkbox","role","switch",1,"form-check-input",3,"ngModel","ngModelChange"],[1,"form-check-label"],["class","container"],["ngbDropdownItem","",3,"ngClass","click"],[1,"container"],["class","mb-3",3,"personalRecord"],[1,"mb-3",3,"personalRecord"],[3,"exerciseRows"],[1,"position-absolute","top-50","start-50","translate-middle"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],["ngbDropdownItem","",3,"ngClass"]],template:function(a,n){a&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),p(5),v(6,"titlecase"),r(),o(7,"div",5)(8,"button",6),L("click",function(){return n.exerciseLogService.selectedType$.next(null)}),p(9,"Clear filter"),r(),C(10,Je,3,6,"button",23,ne),r()()()(),o(12,"div",2)(13,"input",7,8),L("ngModelChange",function(E){return n.exerciseTypeahead=E})("selectItem",function(E){return n.onExerciseTypeaheadChange(E)})("focus",function(){return n.exerciseTypeahead="",n.exerciseFocus$.next(n.exerciseTypeahead)})("blur",function(){return n.exerciseTypeahead=n.exerciseLogService.selectedExerciseLabel()}),r()(),o(15,"div",2)(16,"input",7,9),L("ngModelChange",function(E){return n.weightTypeahead=E})("selectItem",function(E){return n.onWeightTypeaheadChange(E)})("focus",function(){return n.weightTypeahead="",n.weightFocus$.next(n.weightTypeahead)})("blur",function(){return n.weightTypeahead=n.exerciseLogService.selectedWeightLabel()}),r()(),o(18,"div",10)(19,"div",2)(20,"div",11)(21,"input",12),L("ngModelChange",function(E){return n.isGrouped=E}),r(),o(22,"label",13),p(23,"Grouped"),r()()()()(),g(24,it,4,2,"div",14)(25,nt,4,0)),a&2&&(c(5),x(" ",y(6,13,n.exerciseLogService.selectedTypeLabel())," "),c(5),w(n.exerciseLogService.types()),c(3),d("ngModel",n.exerciseTypeahead)("ngbTypeahead",n.exerciseSearch)("popupClass","typeahead")("resultFormatter",n.exerciseFormatter)("inputFormatter",n.exerciseFormatter),c(3),d("ngModel",n.weightTypeahead)("ngbTypeahead",n.weightSearch)("popupClass","typeahead")("resultFormatter",n.weightFormatter)("inputFormatter",n.weightFormatter),c(5),d("ngModel",n.isGrouped),c(3),u(24,n.exerciseLogService.loaded()?24:25))},dependencies:[S,ge,pe,le,de,me,T,be,Ee,ve,Ce,fe,he,_e,xe,ue,we],changeDetection:0});let e=t;return e})();export{qt as ExcerciseLogsPageComponent};
