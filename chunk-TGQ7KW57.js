import{H as Va,I as Ha,J as Wa,K as za,L as Ba,M as Ga,N as qa,O as Ka,P as Ya,Q as Ja,a as Gt,aa as Xa,ba as Za,ca as Qa,da as ec,ea as tc,fa as nc,j as ka,k as qt,m as Da,n as Ai,o as Na,p as Ma,q as Z,r as La,s as O,u as xa,v as Ua,w as Fa,x as Ri,y as ja,z as $a}from"./chunk-RKATQ2FY.js";import{$ as ta,$b as Wn,A as ii,Aa as we,Ab as $,B as te,Ba as hi,C as si,Ca as oa,D as Mn,Da as ft,Db as ya,E as ct,Ea as Ee,Eb as N,F as Yo,Fb as he,G as oi,Ga as ue,Gb as He,Ha as aa,I as ut,Ia as pi,Ib as Ia,J as lt,Ja as ca,Jb as wa,K as z,Ka as ne,Kb as Ea,La as ua,Lb as gt,Ma as fi,Mb as _a,N as dt,Na as $t,Nb as Wt,O as Ve,Oa as la,Ob as ba,P as Jo,Pa as mi,Q as ai,Qa as Un,Qb as $n,R as X,Ra as gi,Rb as Vn,S as Xo,Sa as Fn,T as Zo,Ta as da,U as ci,Ub as zt,Vb as Ii,W as ht,Wa as vi,Wb as Ta,X as Re,Xa as y,Xb as Bt,Y as ui,Ya as le,Yb as Sa,Z as Qo,Za as jn,Zb as wi,_ as ea,_b as Hn,a as m,ab as mt,ac as Ei,b as M,ba as na,bb as U,bc as _i,ca as F,cc as Ca,da as ra,dc as vt,e as Fe,ea as P,eb as ha,ec as Aa,f as l,fb as pa,fc as zn,g as Ho,gb as j,h as Wo,ha as x,hb as fa,hc as bi,i as Ft,ia as _,ic as Ra,j as ei,ja as Oe,jc as Oa,k as ti,ka as ia,kb as ma,kc as H,l as J,la as li,lb as _e,lc as Ti,m as ee,ma as k,mb as re,mc as Bn,n as zo,na as T,nb as ga,nc as Gn,o as Bo,oa as f,ob as yi,oc as qn,p as je,pa as jt,pb as Vt,q as Nn,qa as pt,qb as Ht,qc as Kn,r as ni,ra as Pe,rb as b,s as ri,sa as Ln,sb as w,sc as Pa,t as K,tb as ie,tc as Si,u as g,ua as xn,uc as Ci,v as $e,va as G,vc as Yn,w as Go,wa as q,wb as be,x as qo,xa as di,y as Ko,ya as sa,yb as va,z as v,za as Ie,zb as L}from"./chunk-E4QOSI7Y.js";var Yt="Service workers are disabled or not supported by this browser";function $l(t){return ct(()=>$e(new Error(t)))}var yt=class{constructor(e){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=$l(Yt);else{let r=oi(e,"controllerchange").pipe(v(()=>e.controller)),i=ct(()=>g(e.controller)),s=Mn(i,r);this.worker=s.pipe(z(d=>!!d)),this.registration=this.worker.pipe(F(()=>e.getRegistration()));let c=oi(e,"message").pipe(v(d=>d.data)).pipe(z(d=>d&&d.type)).pipe(ea());c.connect(),this.events=c}}postMessage(e,n){return this.worker.pipe(X(1),P(r=>{r.postMessage(m({action:e},n))})).toPromise().then(()=>{})}postMessageWithOperation(e,n,r){let i=this.waitForOperationCompleted(r),s=this.postMessage(e,n);return Promise.all([s,i]).then(([,o])=>o)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(e){let n;return typeof e=="string"?n=r=>r.type===e:n=r=>e.includes(r.type),this.events.pipe(z(n))}nextEventOfType(e){return this.eventsOfType(e).pipe(X(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(z(n=>n.nonce===e),X(1),v(n=>{if(n.result!==void 0)return n.result;throw new Error(n.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},Vl=(()=>{let e=class e{get isEnabled(){return this.sw.isEnabled}constructor(r){if(this.sw=r,this.pushManager=null,this.subscriptionChanges=new J,!r.isEnabled){this.messages=lt,this.notificationClicks=lt,this.subscription=lt;return}this.messages=this.sw.eventsOfType("PUSH").pipe(v(s=>s.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(v(s=>s.data)),this.pushManager=this.sw.registration.pipe(v(s=>s.pushManager));let i=this.pushManager.pipe(F(s=>s.getSubscription()));this.subscription=ut(i,this.subscriptionChanges)}requestSubscription(r){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(Yt));let i={userVisibleOnly:!0},s=this.decodeBase64(r.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(s.length));for(let a=0;a<s.length;a++)o[a]=s.charCodeAt(a);return i.applicationServerKey=o,this.pushManager.pipe(F(a=>a.subscribe(i)),X(1)).toPromise().then(a=>(this.subscriptionChanges.next(a),a))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(Yt));let r=i=>{if(i===null)throw new Error("Not subscribed to push notifications.");return i.unsubscribe().then(s=>{if(!s)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(X(1),F(r)).toPromise()}decodeBase64(r){return atob(r)}};e.\u0275fac=function(i){return new(i||e)(T(yt))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),Oi=(()=>{let e=class e{get isEnabled(){return this.sw.isEnabled}constructor(r){if(this.sw=r,!r.isEnabled){this.versionUpdates=lt,this.unrecoverable=lt;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Yt));let r=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:r},r)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Yt));let r=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:r},r)}};e.\u0275fac=function(i){return new(i||e)(T(yt))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})();var rc=new k("NGSW_REGISTER_SCRIPT");function Hl(t,e,n,r){return()=>{if(!(Si(r)&&"serviceWorker"in navigator&&n.enabled!==!1))return;navigator.serviceWorker.addEventListener("controllerchange",()=>{navigator.serviceWorker.controller!==null&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})});let i;if(typeof n.registrationStrategy=="function")i=n.registrationStrategy();else{let[o,...a]=(n.registrationStrategy||"registerWhenStable:30000").split(":");switch(o){case"registerImmediately":i=g(null);break;case"registerWithDelay":i=ic(+a[0]||0);break;case"registerWhenStable":i=a[0]?ut(sc(t),ic(+a[0])):sc(t);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${n.registrationStrategy}`)}}t.get(U).runOutsideAngular(()=>i.pipe(X(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:n.scope}).catch(o=>console.error("Service worker registration failed with:",o))))}}function ic(t){return g(null).pipe(Zo(t))}function sc(t){return t.get(vt).isStable.pipe(z(n=>n))}function Wl(t,e){return new yt(Si(e)&&t.enabled!==!1?navigator.serviceWorker:void 0)}var Kt=class{};function oc(t,e={}){return we([Vl,Oi,{provide:rc,useValue:t},{provide:Kt,useValue:e},{provide:yt,useFactory:Wl,deps:[Kt,ne]},{provide:wi,useFactory:Hl,deps:[ue,rc,Kt,ne],multi:!0}])}var Xt=class{},Xn=class{},We=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var ki=class{encodeKey(e){return ac(e)}encodeValue(e){return ac(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function Kl(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=n.get(o)||[];u.push(a),n.set(o,u)}),n}var Yl=/%(\d[a-f0-9])/gi,Jl={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ac(t){return encodeURIComponent(t).replace(Yl,(e,n)=>Jl[n]??e)}function Jn(t){return`${t}`}var ke=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new ki,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Kl(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(Jn):[Jn(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Jn(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Jn(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Di=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function Xl(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function cc(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function uc(t){return typeof Blob<"u"&&t instanceof Blob}function lc(t){return typeof FormData<"u"&&t instanceof FormData}function Zl(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Jt=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(Xl(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers||(this.headers=new We),this.context||(this.context=new Di),!this.params)this.params=new ke,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),u=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+u+o}}}serializeBody(){return this.body===null?null:cc(this.body)||uc(this.body)||lc(this.body)||Zl(this.body)||typeof this.body=="string"?this.body:this.body instanceof ke?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||lc(this.body)?null:uc(this.body)?this.body.type||null:cc(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof ke?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.body!==void 0?e.body:this.body,o=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,a=e.reportProgress!==void 0?e.reportProgress:this.reportProgress,u=e.headers||this.headers,c=e.params||this.params,d=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((h,p)=>h.set(p,e.setHeaders[p]),u)),e.setParams&&(c=Object.keys(e.setParams).reduce((h,p)=>h.set(p,e.setParams[p]),c)),new t(n,r,s,{params:c,headers:u,context:d,reportProgress:a,responseType:i,withCredentials:o})}},It=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(It||{}),Zt=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new We,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Ni=class t extends Zt{constructor(e={}){super(e),this.type=It.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Zn=class t extends Zt{constructor(e={}){super(e),this.type=It.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Qn=class extends Zt{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}};function Pi(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var ze=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,s={}){let o;if(r instanceof Jt)o=r;else{let c;s.headers instanceof We?c=s.headers:c=new We(s.headers);let d;s.params&&(s.params instanceof ke?d=s.params:d=new ke({fromObject:s.params})),o=new Jt(r,i,s.body!==void 0?s.body:null,{headers:c,context:s.context,params:d,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=g(o).pipe(Ve(c=>this.handler.handle(c)));if(r instanceof Jt||s.observe==="events")return a;let u=a.pipe(z(c=>c instanceof Zn));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return u.pipe(v(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return u.pipe(v(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return u.pipe(v(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return u.pipe(v(c=>c.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new ke().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,Pi(s,i))}post(r,i,s={}){return this.request("POST",r,Pi(s,i))}put(r,i,s={}){return this.request("PUT",r,Pi(s,i))}};e.\u0275fac=function(i){return new(i||e)(T(Xt))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})();function Ql(t,e){return e(t)}function ed(t,e,n){return(r,i)=>Ee(n,()=>e(r,s=>t(s,i)))}var Mi=new k(""),td=new k(""),nd=new k("");var dc=(()=>{let e=class e extends Xt{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=f(Wn);let s=f(nd,{optional:!0});this.backend=s??r}handle(r){if(this.chain===null){let s=Array.from(new Set([...this.injector.get(Mi),...this.injector.get(td,[])]));this.chain=s.reduceRight((o,a)=>ed(o,a,this.injector),Ql)}let i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(ht(()=>this.pendingTasks.remove(i)))}};e.\u0275fac=function(i){return new(i||e)(T(Xn),T(ft))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})();var rd=/^\)\]\}',?\n/;function id(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var hc=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new x(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?K(i.\u0275loadImpl()):g(null)).pipe(F(()=>new Ft(o=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((A,C)=>a.setRequestHeader(A,C.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let A=r.detectContentTypeHeader();A!==null&&a.setRequestHeader("Content-Type",A)}if(r.responseType){let A=r.responseType.toLowerCase();a.responseType=A!=="json"?A:"text"}let u=r.serializeBody(),c=null,d=()=>{if(c!==null)return c;let A=a.statusText||"OK",C=new We(a.getAllResponseHeaders()),ce=id(a)||r.url;return c=new Ni({headers:C,status:a.status,statusText:A,url:ce}),c},h=()=>{let{headers:A,status:C,statusText:ce,url:ot}=d(),V=null;C!==204&&(V=typeof a.response>"u"?a.responseText:a.response),C===0&&(C=V?200:0);let at=C>=200&&C<300;if(r.responseType==="json"&&typeof V=="string"){let Ut=V;V=V.replace(rd,"");try{V=V!==""?JSON.parse(V):null}catch(Dn){V=Ut,at&&(at=!1,V={error:Dn,text:V})}}at?(o.next(new Zn({body:V,headers:A,status:C,statusText:ce,url:ot||void 0})),o.complete()):o.error(new Qn({error:V,headers:A,status:C,statusText:ce,url:ot||void 0}))},p=A=>{let{url:C}=d(),ce=new Qn({error:A,status:a.status||0,statusText:a.statusText||"Unknown Error",url:C||void 0});o.error(ce)},S=!1,B=A=>{S||(o.next(d()),S=!0);let C={type:It.DownloadProgress,loaded:A.loaded};A.lengthComputable&&(C.total=A.total),r.responseType==="text"&&a.responseText&&(C.partialText=a.responseText),o.next(C)},ae=A=>{let C={type:It.UploadProgress,loaded:A.loaded};A.lengthComputable&&(C.total=A.total),o.next(C)};return a.addEventListener("load",h),a.addEventListener("error",p),a.addEventListener("timeout",p),a.addEventListener("abort",p),r.reportProgress&&(a.addEventListener("progress",B),u!==null&&a.upload&&a.upload.addEventListener("progress",ae)),a.send(u),o.next({type:It.Sent}),()=>{a.removeEventListener("error",p),a.removeEventListener("abort",p),a.removeEventListener("load",h),a.removeEventListener("timeout",p),r.reportProgress&&(a.removeEventListener("progress",B),u!==null&&a.upload&&a.upload.removeEventListener("progress",ae)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(T(Yn))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),pc=new k("XSRF_ENABLED"),sd="XSRF-TOKEN",od=new k("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>sd}),ad="X-XSRF-TOKEN",cd=new k("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>ad}),er=class{},ud=(()=>{let e=class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=Gn(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(T(H),T(ne),T(od))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})();function ld(t,e){let n=t.url.toLowerCase();if(!f(pc)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=f(er).getToken(),i=f(cd);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var fc=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(fc||{});function dd(t,e){return{\u0275kind:t,\u0275providers:e}}function mc(...t){let e=[ze,hc,dc,{provide:Xt,useExisting:dc},{provide:Xn,useExisting:hc},{provide:Mi,useValue:ld,multi:!0},{provide:pc,useValue:!0},{provide:er,useClass:ud}];for(let n of t)e.push(...n.\u0275providers);return we(e)}function gc(t){return dd(fc.Interceptors,t.map(e=>({provide:Mi,useValue:e,multi:!0})))}var Ui=class extends Oa{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Fi=class t extends Ui{static makeCurrent(){Ra(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=pd();return n==null?null:fd(n)}resetBaseElement(){Qt=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Gn(document.cookie,e)}},Qt=null;function pd(){return Qt=Qt||document.querySelector("base"),Qt?Qt.getAttribute("href"):null}function fd(t){return new URL(t,"http://a").pathname}var md=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),ji=new k("EventManagerPlugins"),Ic=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new x(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(T(ji),T(U))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),tr=class{constructor(e){this._doc=e}},Li="ng-app-id",wc=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ci(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Li}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Li),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Li,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(T(H),T(pi),T(fi,8),T(ne))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),xi={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Vi=/%COMP%/g,Ec="%COMP%",gd=`_nghost-${Ec}`,vd=`_ngcontent-${Ec}`,yd=!0,Id=new k("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>yd});function wd(t){return vd.replace(Vi,t)}function Ed(t){return gd.replace(Vi,t)}function _c(t,e){return e.map(n=>n.replace(Vi,t))}var nr=(()=>{let e=class e{constructor(r,i,s,o,a,u,c,d=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=u,this.ngZone=c,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=Ci(u),this.defaultRenderer=new en(r,a,c,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===jt.ShadowDom&&(i=M(m({},i),{encapsulation:jt.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof rr?s.applyToHost(r):s instanceof tn&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,u=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(i.encapsulation){case jt.Emulated:o=new rr(c,d,i,this.appId,h,a,u,p);break;case jt.ShadowDom:return new $i(c,d,r,i,a,u,this.nonce,p);default:o=new tn(c,d,i,h,a,u,p);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(T(Ic),T(wc),T(pi),T(Id),T(H),T(ne),T(U),T(fi))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),en=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(xi[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(vc(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(vc(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new x(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=xi[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=xi[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&($t.DashCase|$t.Important)?e.style.setProperty(n,r,i&$t.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&$t.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=bi().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function vc(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var $i=class extends en{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=_c(i.id,i.styles);for(let d of c){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=d,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},tn=class extends en{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?_c(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},rr=class extends tn{constructor(e,n,r,i,s,o,a,u){let c=i+"-"+r.id;super(e,n,r,s,o,a,u,c),this.contentAttr=wd(c),this.hostAttr=Ed(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},_d=(()=>{let e=class e extends tr{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(T(H))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),yc=["alt","control","meta","shift"],bd={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Td={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Sd=(()=>{let e=class e extends tr{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>bi().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),yc.forEach(d=>{let h=i.indexOf(d);h>-1&&(i.splice(h,1),a+=d+".")}),a+=o,i.length!=0||o.length===0)return null;let c={};return c.domEventName=s,c.fullKey=a,c}static matchEventFullKeyCode(r,i){let s=bd[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),yc.forEach(a=>{if(a!==s){let u=Td[a];u(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(T(H))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})();function bc(t,e){return Ca(m({rootComponent:t},Cd(e)))}function Cd(t){return{appProviders:[...kd,...t?.providers??[]],platformProviders:Pd}}function Ad(){Fi.makeCurrent()}function Rd(){return new vi}function Od(){return aa(document),document}var Pd=[{provide:ne,useValue:Pa},{provide:ca,useValue:Ad,multi:!0},{provide:H,useFactory:Od,deps:[]}];var kd=[{provide:oa,useValue:"root"},{provide:vi,useFactory:Rd,deps:[]},{provide:ji,useClass:_d,multi:!0,deps:[H,U,ne]},{provide:ji,useClass:Sd,multi:!0,deps:[H]},nr,wc,Ic,{provide:Un,useExisting:nr},{provide:Yn,useClass:md,deps:[]},[]];function Dd(){return new Hi(T(H))}var Hi=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(T(H))},e.\u0275prov=_({token:e,factory:function(i){let s=null;return i?s=new i:s=Dd(),s},providedIn:"root"});let t=e;return t})();var E="primary",vn=Symbol("RouteTitle"),qi=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Tt(t){return new qi(t)}function Md(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Ld(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!pe(t[n],e[n]))return!1;return!0}function pe(t,e){let n=t?Ki(t):void 0,r=e?Ki(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Pc(t[i],e[i]))return!1;return!0}function Ki(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Pc(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function kc(t){return t.length>0?t[t.length-1]:null}function Me(t){return Go(t)?t:va(t)?K(Promise.resolve(t)):g(t)}var xd={exact:Nc,subset:Mc},Dc={exact:Ud,subset:Fd,ignored:()=>!0};function Tc(t,e,n){return xd[n.paths](t.root,e.root,n.matrixParams)&&Dc[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function Ud(t,e){return pe(t,e)}function Nc(t,e,n){if(!Ge(t.segments,e.segments)||!or(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!Nc(t.children[r],e.children[r],n))return!1;return!0}function Fd(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Pc(t[n],e[n]))}function Mc(t,e,n){return Lc(t,e,e.segments,n)}function Lc(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Ge(i,n)||e.hasChildren()||!or(i,n,r))}else if(t.segments.length===n.length){if(!Ge(t.segments,n)||!or(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!Mc(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Ge(t.segments,i)||!or(t.segments,i,r)||!t.children[E]?!1:Lc(t.children[E],e,s,r)}}function or(t,e,n){return e.every((r,i)=>Dc[n](t[i].parameters,r.parameters))}var De=class{constructor(e=new R([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Tt(this.queryParams)),this._queryParamMap}toString(){return Vd.serialize(this)}},R=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ar(this)}},Be=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Tt(this.parameters)),this._parameterMap}toString(){return Uc(this)}};function jd(t,e){return Ge(t,e)&&t.every((n,r)=>pe(n.parameters,e[r].parameters))}function Ge(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function $d(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===E&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==E&&(n=n.concat(e(i,r)))}),n}var Is=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:()=>(()=>new ur)(),providedIn:"root"});let t=e;return t})(),ur=class{parse(e){let n=new Ji(e);return new De(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${nn(e.root,!0)}`,r=zd(e.queryParams),i=typeof e.fragment=="string"?`#${Hd(e.fragment)}`:"";return`${n}${r}${i}`}},Vd=new ur;function ar(t){return t.segments.map(e=>Uc(e)).join("/")}function nn(t,e){if(!t.hasChildren())return ar(t);if(e){let n=t.children[E]?nn(t.children[E],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==E&&r.push(`${i}:${nn(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=$d(t,(r,i)=>i===E?[nn(t.children[E],!1)]:[`${i}:${nn(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[E]!=null?`${ar(t)}/${n[0]}`:`${ar(t)}/(${n.join("//")})`}}function xc(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ir(t){return xc(t).replace(/%3B/gi,";")}function Hd(t){return encodeURI(t)}function Yi(t){return xc(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function cr(t){return decodeURIComponent(t)}function Sc(t){return cr(t.replace(/\+/g,"%20"))}function Uc(t){return`${Yi(t.path)}${Wd(t.parameters)}`}function Wd(t){return Object.keys(t).map(e=>`;${Yi(e)}=${Yi(t[e])}`).join("")}function zd(t){let e=Object.keys(t).map(n=>{let r=t[n];return Array.isArray(r)?r.map(i=>`${ir(n)}=${ir(i)}`).join("&"):`${ir(n)}=${ir(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}var Bd=/^[^\/()?;#]+/;function Wi(t){let e=t.match(Bd);return e?e[0]:""}var Gd=/^[^\/()?;=#]+/;function qd(t){let e=t.match(Gd);return e?e[0]:""}var Kd=/^[^=?&#]+/;function Yd(t){let e=t.match(Kd);return e?e[0]:""}var Jd=/^[^&#]+/;function Xd(t){let e=t.match(Jd);return e?e[0]:""}var Ji=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new R([],{}):new R([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[E]=new R(e,n)),r}parseSegment(){let e=Wi(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new x(4009,!1);return this.capture(e),new Be(cr(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=qd(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Wi(this.remaining);i&&(r=i,this.capture(r))}e[cr(n)]=cr(r)}parseQueryParam(e){let n=Yd(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=Xd(this.remaining);o&&(r=o,this.capture(r))}let i=Sc(n),s=Sc(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Wi(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new x(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=E);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[E]:new R([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new x(4011,!1)}};function Fc(t){return t.segments.length>0?new R([],{[E]:t}):t}function jc(t){let e={};for(let r of Object.keys(t.children)){let i=t.children[r],s=jc(i);if(r===E&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new R(t.segments,e);return Zd(n)}function Zd(t){if(t.numberOfChildren===1&&t.children[E]){let e=t.children[E];return new R(t.segments.concat(e.segments),e.children)}return t}function St(t){return t instanceof De}function Qd(t,e,n=null,r=null){let i=$c(t);return Vc(i,e,n,r)}function $c(t){let e;function n(s){let o={};for(let u of s.children){let c=n(u);o[u.outlet]=c}let a=new R(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=Fc(r);return e??i}function Vc(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return zi(i,i,i,n,r);let s=eh(e);if(s.toRoot())return zi(i,i,new R([],{}),n,r);let o=th(s,i,t),a=o.processChildren?on(o.segmentGroup,o.index,s.commands):Wc(o.segmentGroup,o.index,s.commands);return zi(i,o.segmentGroup,a,n,r)}function lr(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function un(t){return typeof t=="object"&&t!=null&&t.outlets}function zi(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,c])=>{s[u]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let o;t===e?o=n:o=Hc(t,e,n);let a=Fc(jc(o));return new De(a,s,i)}function Hc(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=Hc(s,e,n)}),new R(t.segments,r)}var dr=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&lr(r[0]))throw new x(4003,!1);let i=r.find(un);if(i&&i!==kc(r))throw new x(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function eh(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new dr(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,c])=>{a[u]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new dr(n,e,r)}var _t=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function th(t,e,n){if(t.isAbsolute)return new _t(e,!0,0);if(!n)return new _t(e,!1,NaN);if(n.parent===null)return new _t(n,!0,0);let r=lr(t.commands[0])?0:1,i=n.segments.length-1+r;return nh(n,i,t.numberOfDoubleDots)}function nh(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new x(4005,!1);i=r.segments.length}return new _t(r,!1,i-s)}function rh(t){return un(t[0])?t[0].outlets:{[E]:t}}function Wc(t,e,n){if(t||(t=new R([],{})),t.segments.length===0&&t.hasChildren())return on(t,e,n);let r=ih(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new R(t.segments.slice(0,r.pathIndex),{});return s.children[E]=new R(t.segments.slice(r.pathIndex),t.children),on(s,0,i)}else return r.match&&i.length===0?new R(t.segments,{}):r.match&&!t.hasChildren()?Xi(t,e,n):r.match?on(t,0,i):Xi(t,e,n)}function on(t,e,n){if(n.length===0)return new R(t.segments,{});{let r=rh(n),i={};if(Object.keys(r).some(s=>s!==E)&&t.children[E]&&t.numberOfChildren===1&&t.children[E].segments.length===0){let s=on(t.children[E],e,n);return new R(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=Wc(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new R(t.segments,i)}}function ih(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(un(a))break;let u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&c&&typeof c=="object"&&c.outlets===void 0){if(!Ac(u,c,o))return s;r+=2}else{if(!Ac(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Xi(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(un(s)){let u=sh(s.outlets);return new R(r,u)}if(i===0&&lr(n[0])){let u=t.segments[e];r.push(new Be(u.path,Cc(n[0]))),i++;continue}let o=un(s)?s.outlets[E]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&lr(a)?(r.push(new Be(o,Cc(a))),i+=2):(r.push(new Be(o,{})),i++)}return new R(r,{})}function sh(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Xi(new R([],{}),0,r))}),e}function Cc(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function Ac(t,e,n){return t==n.path&&pe(e,n.parameters)}var an="imperative",oe=class{constructor(e,n){this.id=e,this.url=n}},ln=class extends oe{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Te=class extends oe{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ne=class extends oe{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},qe=class extends oe{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}},dn=class extends oe{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},hr=class extends oe{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zi=class extends oe{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qi=class extends oe{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},es=class extends oe{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ts=class extends oe{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ns=class{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},rs=class{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},is=class{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ss=class{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},os=class{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},as=class{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var hn=class{},pn=class{constructor(e){this.url=e}};var cs=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ir,this.attachRef=null}},Ir=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new cs,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),pr=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=us(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=us(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=ls(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return ls(e,this._root).map(n=>n.value)}};function us(t,e){if(t===e.value)return e;for(let n of e.children){let r=us(t,n);if(r)return r}return null}function ls(t,e){if(t===e.value)return[e];for(let n of e.children){let r=ls(t,n);if(r.length)return r.unshift(e),r}return[]}var Q=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Et(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var fr=class extends pr{constructor(e,n){super(e),this.snapshot=n,Es(this,e)}toString(){return this.snapshot.toString()}};function zc(t,e){let n=oh(t,e),r=new ee([new Be("",{})]),i=new ee({}),s=new ee({}),o=new ee({}),a=new ee(""),u=new Ke(r,i,o,a,s,E,e,n.root);return u.snapshot=n.root,new fr(new Q(u,[]),n)}function oh(t,e){let n={},r={},i={},s="",o=new fn([],n,i,s,r,E,e,null,{});return new mr("",new Q(o,[]))}var Ke=class{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(v(c=>c[vn]))??g(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(v(e=>Tt(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(v(e=>Tt(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ws(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:m(m({},e.params),t.params),data:m(m({},e.data),t.data),resolve:m(m(m(m({},t.data),e.data),i?.data),t._resolvedData)}:r={params:t.params,data:t.data,resolve:m(m({},t.data),t._resolvedData??{})},i&&Gc(i)&&(r.resolve[vn]=i.title),r}var fn=class{get title(){return this.data?.[vn]}constructor(e,n,r,i,s,o,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Tt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Tt(this.queryParams)),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},mr=class extends pr{constructor(e,n){super(n),this.url=e,Es(this,n)}toString(){return Bc(this._root)}};function Es(t,e){e.value._routerState=t,e.children.forEach(n=>Es(t,n))}function Bc(t){let e=t.children.length>0?` { ${t.children.map(Bc).join(", ")} } `:"";return`${t.value}${e}`}function Bi(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,pe(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),pe(e.params,n.params)||t.paramsSubject.next(n.params),Ld(e.url,n.url)||t.urlSubject.next(n.url),pe(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function ds(t,e){let n=pe(t.params,e.params)&&jd(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||ds(t.parent,e.parent))}function Gc(t){return typeof t.title=="string"||t.title===null}var _s=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=E,this.activateEvents=new mt,this.deactivateEvents=new mt,this.attachEvents=new mt,this.detachEvents=new mt,this.parentContexts=f(Ir),this.location=f(ma),this.changeDetector=f(jn),this.environmentInjector=f(ft),this.inputBinder=f(bs,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new x(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new x(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new x(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new x(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,c=new hs(r,u,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ln({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[xn]});let t=e;return t})(),hs=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Ke?this.route:e===Ir?this.childContexts:this.parent.get(e,n)}},bs=new k("");function ah(t,e,n){let r=mn(t,e._root,n?n._root:void 0);return new fr(r,e)}function mn(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=ch(t,e,n);return new Q(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>mn(t,a)),o}}let r=uh(e.value),i=e.children.map(s=>mn(t,s));return new Q(r,i)}}function ch(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return mn(t,r,i);return mn(t,r)})}function uh(t){return new Ke(new ee(t.url),new ee(t.params),new ee(t.queryParams),new ee(t.fragment),new ee(t.data),t.outlet,t.component,t)}var qc="ngNavigationCancelingError";function Kc(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=St(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Yc(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function Yc(t,e,n){let r=new Error("NavigationCancelingError: "+(t||""));return r[qc]=!0,r.cancellationCode=e,n&&(r.url=n),r}function lh(t){return Jc(t)&&St(t.url)}function Jc(t){return t&&t[qc]}var dh=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=pt({type:e,selectors:[["ng-component"]],standalone:!0,features:[gt],decls:1,vars:0,template:function(i,s){i&1&&ie(0,"router-outlet")},dependencies:[_s],encapsulation:2});let t=e;return t})();function hh(t,e){return t.providers&&!t._injector&&(t._injector=Ea(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Ts(t){let e=t.children&&t.children.map(Ts),n=e?M(m({},t),{children:e}):m({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==E&&(n.component=dh),n}function fe(t){return t.outlet||E}function ph(t,e){let n=t.filter(r=>fe(r)===e);return n.push(...t.filter(r=>fe(r)!==e)),n}function yn(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var fh=(t,e,n,r)=>v(i=>(new ps(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),ps=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Bi(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Et(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Et(e);for(let o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Et(e);for(let o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Et(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new as(s.value.snapshot))}),e.children.length&&this.forwardEvent(new ss(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Bi(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Bi(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=yn(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},gr=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},bt=class{constructor(e,n){this.component=e,this.route=n}};function mh(t,e,n){let r=t._root,i=e?e._root:null;return rn(r,i,n,[r.value])}function gh(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function At(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!ia(t)?t:e.get(t):r}function rn(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Et(e);return t.children.forEach(o=>{vh(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>cn(a,n.getContext(o),i)),i}function vh(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=yh(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new gr(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?rn(t,e,a?a.children:null,r,i):rn(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new bt(a.outlet.component,o))}else o&&cn(e,a,i),i.canActivateChecks.push(new gr(r)),s.component?rn(t,null,a?a.children:null,r,i):rn(t,null,n,r,i);return i}function yh(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Ge(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ge(t.url,e.url)||!pe(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ds(t,e)||!pe(t.queryParams,e.queryParams);case"paramsChange":default:return!ds(t,e)}}function cn(t,e,n){let r=Et(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?cn(o,e.children.getContext(s),n):cn(o,null,n):cn(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new bt(e.outlet.component,i)):n.canDeactivateChecks.push(new bt(null,i)):n.canDeactivateChecks.push(new bt(null,i))}function In(t){return typeof t=="function"}function Ih(t){return typeof t=="boolean"}function wh(t){return t&&In(t.canLoad)}function Eh(t){return t&&In(t.canActivate)}function _h(t){return t&&In(t.canActivateChild)}function bh(t){return t&&In(t.canDeactivate)}function Th(t){return t&&In(t.canMatch)}function Xc(t){return t instanceof qo||t?.name==="EmptyError"}var sr=Symbol("INITIAL_VALUE");function Ct(){return F(t=>ii(t.map(e=>e.pipe(X(1),na(sr)))).pipe(v(e=>{for(let n of e)if(n!==!0){if(n===sr)return sr;if(n===!1||n instanceof De)return n}return!0}),z(e=>e!==sr),X(1)))}function Sh(t,e){return te(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?g(M(m({},n),{guardsResult:!0})):Ch(o,r,i,t).pipe(te(a=>a&&Ih(a)?Ah(r,s,t,e):g(a)),v(a=>M(m({},n),{guardsResult:a})))})}function Ch(t,e,n,r){return K(t).pipe(te(i=>Dh(i.component,i.route,n,e,r)),Re(i=>i!==!0,!0))}function Ah(t,e,n,r){return K(e).pipe(Ve(i=>Mn(Oh(i.route.parent,r),Rh(i.route,r),kh(t,i.path,n),Ph(t,i.route,n))),Re(i=>i!==!0,!0))}function Rh(t,e){return t!==null&&e&&e(new os(t)),g(!0)}function Oh(t,e){return t!==null&&e&&e(new is(t)),g(!0)}function Ph(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return g(!0);let i=r.map(s=>ct(()=>{let o=yn(e)??n,a=At(s,o),u=Eh(a)?a.canActivate(e,t):Ee(o,()=>a(e,t));return Me(u).pipe(Re())}));return g(i).pipe(Ct())}function kh(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>gh(o)).filter(o=>o!==null).map(o=>ct(()=>{let a=o.guards.map(u=>{let c=yn(o.node)??n,d=At(u,c),h=_h(d)?d.canActivateChild(r,t):Ee(c,()=>d(r,t));return Me(h).pipe(Re())});return g(a).pipe(Ct())}));return g(s).pipe(Ct())}function Dh(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return g(!0);let o=s.map(a=>{let u=yn(e)??i,c=At(a,u),d=bh(c)?c.canDeactivate(t,e,n,r):Ee(u,()=>c(t,e,n,r));return Me(d).pipe(Re())});return g(o).pipe(Ct())}function Nh(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return g(!0);let s=i.map(o=>{let a=At(o,t),u=wh(a)?a.canLoad(e,n):Ee(t,()=>a(e,n));return Me(u)});return g(s).pipe(Ct(),Zc(r))}function Zc(t){return Wo(P(e=>{if(St(e))throw Kc(t,e)}),v(e=>e===!0))}function Mh(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return g(!0);let s=i.map(o=>{let a=At(o,t),u=Th(a)?a.canMatch(e,n):Ee(t,()=>a(e,n));return Me(u)});return g(s).pipe(Ct(),Zc(r))}var gn=class{constructor(e){this.segmentGroup=e||null}},vr=class extends Error{constructor(e){super(),this.urlTree=e}};function wt(t){return $e(new gn(t))}function Lh(t){return $e(new x(4e3,!1))}function xh(t){return $e(Yc(!1,3))}var fs=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new x(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return g(r);if(i.numberOfChildren>1||!i.children[E])return Lh(e.redirectTo);i=i.children[E]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new vr(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new De(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new R(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new x(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},ms={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Uh(t,e,n,r,i){let s=Ss(t,e,n);return s.matched?(r=hh(e,r),Mh(r,e,n,i).pipe(v(o=>o===!0?s:m({},ms)))):g(s)}function Ss(t,e,n){if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?m({},ms):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Md)(n,t,e);if(!i)return m({},ms);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?m(m({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Rc(t,e,n,r){return n.length>0&&$h(t,n,r)?{segmentGroup:new R(e,jh(r,new R(n,t.children))),slicedSegments:[]}:n.length===0&&Vh(t,n,r)?{segmentGroup:new R(t.segments,Fh(t,e,n,r,t.children)),slicedSegments:n}:{segmentGroup:new R(t.segments,t.children),slicedSegments:n}}function Fh(t,e,n,r,i){let s={};for(let o of r)if(wr(t,n,o)&&!i[fe(o)]){let a=new R([],{});s[fe(o)]=a}return m(m({},i),s)}function jh(t,e){let n={};n[E]=e;for(let r of t)if(r.path===""&&fe(r)!==E){let i=new R([],{});n[fe(r)]=i}return n}function $h(t,e,n){return n.some(r=>wr(t,e,r)&&fe(r)!==E)}function Vh(t,e,n){return n.some(r=>wr(t,e,r))}function wr(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Hh(t,e,n,r){return fe(t)!==r&&(r===E||!wr(e,n,t))?!1:t.path==="**"?!0:Ss(e,t,n).matched}function Wh(t,e,n){return e.length===0&&!t.children[n]}var gs=class{};function zh(t,e,n,r,i,s,o="emptyOnly"){return new vs(t,e,n,r,i,o,s).recognize()}var Bh=31,vs=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new fs(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new x(4002,!1)}recognize(){let e=Rc(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(v(n=>{let r=new fn([],Object.freeze({}),Object.freeze(m({},this.urlTree.queryParams)),this.urlTree.fragment,{},E,this.rootComponentType,null,{}),i=new Q(r,n),s=new mr("",i),o=Qd(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,E).pipe(dt(r=>{if(r instanceof vr)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof gn?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=ws(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(v(s=>s instanceof Q?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return K(i).pipe(Ve(s=>{let o=r.children[s],a=ph(n,s);return this.processSegmentGroup(e,a,o,s)}),ta((s,o)=>(s.push(...o),s)),ai(null),Qo(),te(s=>{if(s===null)return wt(r);let o=Qc(s);return Gh(o),g(o)}))}processSegment(e,n,r,i,s,o){return K(n).pipe(Ve(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(dt(u=>{if(u instanceof gn)return g(null);throw u}))),Re(a=>!!a),dt(a=>{if(Xc(a))return Wh(r,i,s)?g(new gs):wt(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return Hh(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):wt(i):wt(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:u,positionalParamSegments:c,remainingSegments:d}=i.path==="**"?Oc(s):Ss(n,i,s);if(!a)return wt(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Bh&&(this.allowRedirects=!1));let h=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,c);return this.applyRedirects.lineralizeSegments(i,h).pipe(te(p=>this.processSegment(e,r,n,p.concat(d),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o;return r.path==="**"?(o=g(Oc(i)),n.children={}):o=Uh(n,r,i,e,this.urlSerializer),o.pipe(F(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(F(({routes:u})=>{let c=r._loadedInjector??e,{consumedSegments:d,remainingSegments:h,parameters:p}=a,S=new fn(d,p,Object.freeze(m({},this.urlTree.queryParams)),this.urlTree.fragment,Kh(r),fe(r),r.component??r._loadedComponent??null,r,Yh(r)),{segmentGroup:B,slicedSegments:ae}=Rc(n,d,h,u);if(ae.length===0&&B.hasChildren())return this.processChildren(c,u,B).pipe(v(C=>C===null?null:new Q(S,C)));if(u.length===0&&ae.length===0)return g(new Q(S,[]));let A=fe(r)===s;return this.processSegment(c,u,B,ae,A?E:s,!0).pipe(v(C=>new Q(S,C instanceof Q?[C]:[])))}))):wt(n)))}getChildConfig(e,n,r){return n.children?g({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?g({routes:n._loadedRoutes,injector:n._loadedInjector}):Nh(e,n,r,this.urlSerializer).pipe(te(i=>i?this.configLoader.loadChildren(e,n).pipe(P(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):xh(n))):g({routes:[],injector:e})}};function Gh(t){t.sort((e,n)=>e.value.outlet===E?-1:n.value.outlet===E?1:e.value.outlet.localeCompare(n.value.outlet))}function qh(t){let e=t.value.routeConfig;return e&&e.path===""}function Qc(t){let e=[],n=new Set;for(let r of t){if(!qh(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=Qc(r.children);e.push(new Q(r.value,i))}return e.filter(r=>!n.has(r))}function Kh(t){return t.data||{}}function Yh(t){return t.resolve||{}}function Oc(t){return{matched:!0,parameters:t.length>0?kc(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Jh(t,e,n,r,i,s){return te(o=>zh(t,e,n,r,o.extractedUrl,i,s).pipe(v(({state:a,tree:u})=>M(m({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function Xh(t,e){return te(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return g(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let c of eu(u))o.add(c);let a=0;return K(o).pipe(Ve(u=>s.has(u)?Zh(u,r,t,e):(u.data=ws(u,u.parent,t).resolve,g(void 0))),P(()=>a++),ui(1),te(u=>a===o.size?g(n):je))})}function eu(t){let e=t.children.map(n=>eu(n)).flat();return[t,...e]}function Zh(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!Gc(i)&&(s[vn]=i.title),Qh(s,t,e,r).pipe(v(o=>(t._resolvedData=o,t.data=ws(t,t.parent,n).resolve,null)))}function Qh(t,e,n,r){let i=Ki(t);if(i.length===0)return g({});let s={};return K(i).pipe(te(o=>ep(t[o],e,n,r).pipe(Re(),P(a=>{s[o]=a}))),ui(1),Xo(s),dt(o=>Xc(o)?je:$e(o)))}function ep(t,e,n,r){let i=yn(e)??r,s=At(t,i),o=s.resolve?s.resolve(e,n):Ee(i,()=>s(e,n));return Me(o)}function Gi(t){return F(e=>{let n=t(e);return n?K(n).pipe(v(()=>e)):g(e)})}var tu=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===E);return i}getResolvedTitleForRoute(r){return r.data[vn]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:()=>(()=>f(tp))(),providedIn:"root"});let t=e;return t})(),tp=(()=>{let e=class e extends tu{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(T(Hi))},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Cs=new k("",{providedIn:"root",factory:()=>({})}),As=new k("ROUTES"),np=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=f(Ei)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return g(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Me(r.loadComponent()).pipe(v(nu),P(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),ht(()=>{this.componentLoaders.delete(r)})),s=new ti(i,()=>new J).pipe(ei());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return g({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=rp(i,this.compiler,r,this.onLoadEndListener).pipe(ht(()=>{this.childrenLoaders.delete(i)})),a=new ti(o,()=>new J).pipe(ei());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function rp(t,e,n,r){return Me(t.loadChildren()).pipe(v(nu),te(i=>i instanceof wa||Array.isArray(i)?g(i):K(e.compileModuleAsync(i))),v(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(As,[],{optional:!0,self:!0}).flat()),{routes:o.map(Ts),injector:s}}))}function ip(t){return t&&typeof t=="object"&&"default"in t}function nu(t){return ip(t)?t.default:t}var Rs=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:()=>(()=>f(sp))(),providedIn:"root"});let t=e;return t})(),sp=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),op=new k("");var ap=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new J,this.transitionAbortSubject=new J,this.configLoader=f(np),this.environmentInjector=f(ft),this.urlSerializer=f(Is),this.rootContexts=f(Ir),this.location=f(Bn),this.inputBindingEnabled=f(bs,{optional:!0})!==null,this.titleStrategy=f(tu),this.options=f(Cs,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=f(Rs),this.createViewTransition=f(op,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>g(void 0),this.rootComponentType=null;let r=s=>this.events.next(new ns(s)),i=s=>this.events.next(new rs(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(M(m(m({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new ee({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:an,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(z(o=>o.id!==0),v(o=>M(m({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),F(o=>{this.currentTransition=o;let a=!1,u=!1;return g(o).pipe(P(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?M(m({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),F(c=>{let d=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=c.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!d&&h!=="reload"){let p="";return this.events.next(new qe(c.id,this.urlSerializer.serialize(c.rawUrl),p,0)),c.resolve(null),je}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return g(c).pipe(F(p=>{let S=this.transitions?.getValue();return this.events.next(new ln(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),S!==this.transitions?.getValue()?je:Promise.resolve(p)}),Jh(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),P(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=M(m({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let S=new hr(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(S)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:p,extractedUrl:S,source:B,restoredState:ae,extras:A}=c,C=new ln(p,this.urlSerializer.serialize(S),B,ae);this.events.next(C);let ce=zc(S,this.rootComponentType).snapshot;return this.currentTransition=o=M(m({},c),{targetSnapshot:ce,urlAfterRedirects:S,extras:M(m({},A),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=S,g(o)}else{let p="";return this.events.next(new qe(c.id,this.urlSerializer.serialize(c.extractedUrl),p,1)),c.resolve(null),je}}),P(c=>{let d=new Zi(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),v(c=>(this.currentTransition=o=M(m({},c),{guards:mh(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),Sh(this.environmentInjector,c=>this.events.next(c)),P(c=>{if(o.guardsResult=c.guardsResult,St(c.guardsResult))throw Kc(this.urlSerializer,c.guardsResult);let d=new Qi(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(d)}),z(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",3),!1)),Gi(c=>{if(c.guards.canActivateChecks.length)return g(c).pipe(P(d=>{let h=new es(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}),F(d=>{let h=!1;return g(d).pipe(Xh(this.paramsInheritanceStrategy,this.environmentInjector),P({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(d,"",2)}}))}),P(d=>{let h=new ts(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}))}),Gi(c=>{let d=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(P(S=>{h.component=S}),v(()=>{})));for(let S of h.children)p.push(...d(S));return p};return ii(d(c.targetSnapshot.root)).pipe(ai(),X(1))}),Gi(()=>this.afterPreactivation()),F(()=>{let{currentSnapshot:c,targetSnapshot:d}=o,h=this.createViewTransition?.(this.environmentInjector,c.root,d.root);return h?K(h).pipe(v(()=>o)):g(o)}),v(c=>{let d=ah(r.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=M(m({},c),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),P(()=>{this.events.next(new hn)}),fh(this.rootContexts,r.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),X(1),P({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Te(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),ra(this.transitionAbortSubject.pipe(P(c=>{throw c}))),ht(()=>{if(!a&&!u){let c="";this.cancelNavigationTransition(o,c,1)}this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),dt(c=>{if(u=!0,Jc(c))this.events.next(new Ne(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),lh(c)?this.events.next(new pn(c.url)):o.resolve(!1);else{this.events.next(new dn(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(c))}catch(d){o.reject(d)}}return je}))}))}cancelNavigationTransition(r,i,s){let o=new Ne(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function cp(t){return t!==an}var up=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:()=>(()=>f(lp))(),providedIn:"root"});let t=e;return t})(),ys=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},lp=(()=>{let e=class e extends ys{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=di(e)))(s||e)}})(),e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ru=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:()=>(()=>f(dp))(),providedIn:"root"});let t=e;return t})(),dp=(()=>{let e=class e extends ru{constructor(){super(...arguments),this.location=f(Bn),this.urlSerializer=f(Is),this.options=f(Cs,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=f(Rs),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new De,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=zc(this.currentUrlTree,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof ln)this.stateMemento=this.createStateMemento();else if(r instanceof qe)this.rawUrlTree=i.initialUrl;else if(r instanceof hr){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof hn?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Ne&&(r.code===3||r.code===2)?this.restoreHistory(i):r instanceof dn?this.restoreHistory(i,!0):r instanceof Te&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=m(m({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=m(m({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=di(e)))(s||e)}})(),e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),sn=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(sn||{});function hp(t,e){t.events.pipe(z(n=>n instanceof Te||n instanceof Ne||n instanceof dn||n instanceof qe),v(n=>n instanceof Te||n instanceof qe?sn.COMPLETE:(n instanceof Ne?n.code===0||n.code===1:!1)?sn.REDIRECTING:sn.FAILED),z(n=>n!==sn.REDIRECTING),X(1)).subscribe(()=>{e()})}function pp(t){throw t}var fp={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},mp={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Er=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=f(Hn),this.stateManager=f(ru),this.options=f(Cs,{optional:!0})||{},this.pendingTasks=f(Wn),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=f(ap),this.urlSerializer=f(Is),this.location=f(Bn),this.urlHandlingStrategy=f(Rs),this._events=new J,this.errorHandler=this.options.errorHandler||pp,this.navigated=!1,this.routeReuseStrategy=f(up),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=f(As,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!f(bs,{optional:!0}),this.eventsSubscription=new Ho,this.isNgZoneEnabled=f(U)instanceof U&&U.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Ne&&i.code!==0&&i.code!==1)this.navigated=!0;else if(i instanceof Te)this.navigated=!0;else if(i instanceof pn){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),u={skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||cp(s.source)};this.scheduleNavigation(a,an,null,u,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}vp(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),an,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)}))}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let c=m({},s);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Ts),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:u,preserveFragment:c}=i,d=c?this.currentUrlTree.fragment:a,h=null;switch(u){case"merge":h=m(m({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let S=s?s.snapshot:this.routerState.snapshot.root;p=$c(S)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),p=this.currentUrlTree.root}return Vc(p,r,h,d??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=St(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,an,null,i)}navigate(r,i={skipLocationChange:!1}){return gp(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=m({},fp):i===!1?s=m({},mp):s=i,St(r))return Tc(this.currentUrlTree,r,s);let o=this.parseUrl(r);return Tc(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.keys(r).reduce((i,s)=>{let o=r[s];return o!=null&&(i[s]=o),i},{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let u,c,d;a?(u=a.resolve,c=a.reject,d=a.promise):d=new Promise((p,S)=>{u=p,c=S});let h=this.pendingTasks.add();return hp(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:u,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(p=>Promise.reject(p))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function gp(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new x(4008,!1)}function vp(t){return!(t instanceof hn)&&!(t instanceof pn)}var yr=(()=>{let e=class e{constructor(r,i,s,o,a,u){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=u,this.href=null,this.commands=null,this.onChanges=new J,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=r.events.subscribe(d=>{d instanceof Te&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){if(this.urlTree===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state};return this.router.navigateByUrl(this.urlTree,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=this.urlTree!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;let r=this.href===null?null:la(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(le(Er),le(Ke),sa("tabindex"),le(gi),le(mi),le(Ti))},e.\u0275dir=Ln({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&L("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&pa("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",zn],skipLocationChange:["skipLocationChange","skipLocationChange",zn],replaceUrl:["replaceUrl","replaceUrl",zn],routerLink:"routerLink"},standalone:!0,features:[ha,xn]});let t=e;return t})(),iu=(()=>{let e=class e{get isActive(){return this._isActive}constructor(r,i,s,o,a){this.router=r,this.element=i,this.renderer=s,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new mt,this.routerEventsSubscription=r.events.subscribe(u=>{u instanceof Te&&this.update()})}ngAfterContentInit(){g(this.links.changes,g(null)).pipe(si()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=K(r).pipe(si()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(s=>!!s)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(r))})}isLinkActive(r){let i=yp(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>s.urlTree?r.isActive(s.urlTree,i):!1}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};e.\u0275fac=function(i){return new(i||e)(le(Er),le(mi),le(gi),le(jn),le(yr,8))},e.\u0275dir=Ln({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,s,o){if(i&1&&Ta(o,yr,5),i&2){let a;zt(a=Bt())&&(s.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[xn]});let t=e;return t})();function yp(t){return!!t.paths}var Ip=new k("");function su(t,...e){return we([{provide:As,multi:!0,useValue:t},[],{provide:Ke,useFactory:wp,deps:[Er]},{provide:_i,multi:!0,useFactory:Ep},e.map(n=>n.\u0275providers)])}function wp(t){return t.routerState.root}function Ep(){let t=f(ue);return e=>{let n=t.get(vt);if(e!==n.components[0])return;let r=t.get(Er),i=t.get(_p);t.get(bp)===1&&r.initialNavigation(),t.get(Tp,null,li.Optional)?.setUpPreloading(),t.get(Ip,null,li.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var _p=new k("",{factory:()=>new J}),bp=new k("",{providedIn:"root",factory:()=>1});var Tp=new k("");var ou=(()=>{let e=class e{constructor(){this.http=f(ze),this.netApiUrl=f(Ye)}getExerciseLogsv2(){return this.http.get(`${this.netApiUrl}/logs`).pipe(v(r=>r.data))}createExerciseLog(r){return this.http.post(`${this.netApiUrl}/logs`,r)}updateExerciseLog(r){return this.http.put(`${this.netApiUrl}/logs/${r.id}`,r)}deleteExerciseLog(r){return this.http.delete(`${this.netApiUrl}/logs/${r}`)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var au=(()=>{let e=class e{constructor(){this.http=f(ze),this.netApiUrl=f(Ye)}getExercises(){return this.http.get(`${this.netApiUrl}/exercises`).pipe(v(r=>r.data))}createExercise(r){return this.http.post(`${this.netApiUrl}/exercises`,r)}updateExercise(r){return this.http.put(`${this.netApiUrl}/exercises/${r.id}`,r)}deleteExercise(r){return this.http.delete(`${this.netApiUrl}/exercises/${r}`)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Cp=["usernameTypeaheadInput"],Ap=["exerciseTypeaheadInput"];function Rp(t,e){if(t&1&&(b(0,"div",17),N(1),w()),t&2){let n=$();y(1),he(n.createOrUpdateLogFormGroup.errors.userRequired)}}function Op(t,e){if(t&1&&(b(0,"div",17),N(1),w()),t&2){let n=$();y(1),he(n.createOrUpdateLogFormGroup.errors.userInvalidPeron)}}function Pp(t,e){if(t&1&&(b(0,"div",17),N(1),w()),t&2){let n=$();y(1),he(n.createOrUpdateLogFormGroup.errors.exerciseRequired)}}function kp(t,e){if(t&1&&(b(0,"div",17),N(1),w()),t&2){let n=$();y(1),he(n.createOrUpdateLogFormGroup.errors.exerciseInvalidPeron)}}function Dp(t,e){if(t&1&&(b(0,"div",17),N(1),w()),t&2){let n=$();y(1),he(n.createOrUpdateLogFormGroup.errors.exerciseDoesNotExist)}}function Np(t,e){if(t&1&&(b(0,"div",18)(1,"span",19),N(2),w(),ie(3,"input",20)(4,"input",21),w()),t&2){let n=e.$implicit,r=e.$index;y(2),He("Serie ",r+1,""),y(1),j("formControl",n.controls.reps),y(1),j("formControl",n.controls.weightInKg)}}function Mp(t,e){if(t&1&&(b(0,"div",17),N(1),w()),t&2){let n=$();y(1),he(n.createOrUpdateLogFormGroup.errors.seriesAllSeriesAreEmpty)}}function Lp(t,e){if(t&1&&(b(0,"div",17),N(1),w()),t&2){let n=$();y(1),he(n.createOrUpdateLogFormGroup.errors.seriesRepsMustBeInteger)}}function xp(t,e){if(t&1){let n=be();b(0,"button",22),L("click",function(){G(n);let i=$();return i.exerciseLogService.deleteLog$.next(i.originalValue),q(i.modal.dismiss())}),N(1," Delete "),w()}}var Up=t=>({"justify-content-between":t}),Fp=(t,e)=>({"btn-primary":t,"btn-secondary":e}),cu=(()=>{let e=class e{constructor(){this.modal=f(Ya),this.exerciseLogService=f(qt),this.mode=null,this.createOrUpdateLogFormGroup=null,this.originalValue=null,this.usernameTypeaheadInput=null,this.usernameFocus$=new J,this.usernameSearch=r=>{let i=r.pipe(ci());return ut(i,this.usernameFocus$).pipe(v(()=>{let s=this.exerciseLogService.usernames().map(o=>o);return this.createOrUpdateLogFormGroup.value.user===""?s:s.filter(o=>!!o).filter(o=>o.toLowerCase().includes(this.createOrUpdateLogFormGroup.value.user?.toLowerCase()??""))}))},this.exerciseTypeaheadInput=null,this.exerciseFocus$=new J,this.exerciseSearch=r=>{let i=r.pipe(ci());return ut(i,this.exerciseFocus$).pipe(v(s=>{let o=this.exerciseLogService.exercises().map(a=>a);return s?o.filter(a=>!!a).filter(a=>a.name.toLowerCase().includes(s.toLowerCase())):o}))},this.exerciseFormatter=r=>r.name}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=pt({type:e,selectors:[["app-exercise-row-body"]],viewQuery:function(i,s){if(i&1&&(Ii(Cp,7),Ii(Ap,7)),i&2){let o;zt(o=Bt())&&(s.usernameTypeaheadInput=o.first),zt(o=Bt())&&(s.exerciseTypeaheadInput=o.first)}},inputs:{mode:"mode",createOrUpdateLogFormGroup:"createOrUpdateLogFormGroup",originalValue:"originalValue"},standalone:!0,features:[gt],decls:33,vars:27,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3"],[1,"input-group"],["type","text","placeholder","Username",1,"form-control",3,"formControl","ngbTypeahead","popupClass","selectItem","focus"],["usernameTypeaheadInput",""],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"fa","fa-times"],["class","d-block invalid-feedback"],["type","date","placeholder","DD-MM-YYYY","placeholder","Reps",1,"form-control",3,"formControl"],["type","text","placeholder","Exercise",1,"form-control",3,"selectOnExact","formControl","ngbTypeahead","inputFormatter","resultFormatter","popupClass","selectItem","focus"],["exerciseTypeaheadInput",""],[1,"modal-footer",3,"ngClass"],["type","button","class","btn btn-danger"],["type","button",1,"btn",3,"ngClass","disabled","click"],[1,"d-block","invalid-feedback"],[1,"input-group","mb-3","align-items-center"],[1,"input-group-text"],["type","number","placeholder","Reps",1,"form-control",3,"formControl"],["type","number","placeholder","Kg",1,"form-control",3,"formControl"],["type","button",1,"btn","btn-danger",3,"click"],["class","input-group mb-3 align-items-center"]],template:function(i,s){i&1&&(b(0,"div",0)(1,"h4",1),N(2),w(),b(3,"button",2),L("click",function(){return s.modal.dismiss()}),w()(),b(4,"div",3)(5,"form")(6,"div",4)(7,"div",5)(8,"input",6,7),L("selectItem",function(a){return s.createOrUpdateLogFormGroup.controls.user.patchValue(a.item)})("focus",function(){return s.usernameFocus$.next(s.createOrUpdateLogFormGroup.value.user||"")}),w(),b(10,"button",8),L("click",function(){return s.createOrUpdateLogFormGroup.controls.user.patchValue("")}),ie(11,"i",9),w()(),_e(12,Rp,2,1,"div",10)(13,Op,2,1,"div",10),w(),b(14,"div",4),ie(15,"input",11),w(),b(16,"div",4)(17,"div",5)(18,"input",12,13),L("selectItem",function(a){return s.createOrUpdateLogFormGroup.controls.exercise.patchValue(a.item)})("focus",function(){return s.exerciseFocus$.next((s.createOrUpdateLogFormGroup.value.exercise==null?null:s.createOrUpdateLogFormGroup.value.exercise.name)||"")}),w(),b(20,"button",8),L("click",function(){return s.createOrUpdateLogFormGroup.controls.exercise.patchValue(null)}),ie(21,"i",9),w()(),_e(22,Pp,2,1,"div",10)(23,kp,2,1,"div",10)(24,Dp,2,1,"div",10),w(),Vt(25,Np,5,3,"div",23,ga),_e(27,Mp,2,1,"div",10)(28,Lp,2,1,"div",10),w()(),b(29,"div",14),_e(30,xp,2,0,"button",15),b(31,"button",16),L("click",function(){return s.modal.close()}),N(32," Save "),w()()),i&2&&(y(2),He("",s.mode==="update"?"Edit":"Create"," Log"),y(6),j("formControl",s.createOrUpdateLogFormGroup.controls.user)("ngbTypeahead",s.usernameSearch)("popupClass","typeahead"),y(4),re(12,!s.createOrUpdateLogFormGroup.controls.user.pristine&&s.createOrUpdateLogFormGroup.errors&&s.createOrUpdateLogFormGroup.errors.userRequired?12:-1),y(1),re(13,!s.createOrUpdateLogFormGroup.controls.user.pristine&&s.createOrUpdateLogFormGroup.errors&&s.createOrUpdateLogFormGroup.errors.userInvalidPeron?13:-1),y(2),j("formControl",s.createOrUpdateLogFormGroup.controls.date),y(3),j("selectOnExact",!0)("formControl",s.createOrUpdateLogFormGroup.controls.exercise)("ngbTypeahead",s.exerciseSearch)("inputFormatter",s.exerciseFormatter)("resultFormatter",s.exerciseFormatter)("popupClass","typeahead"),y(4),re(22,!s.createOrUpdateLogFormGroup.controls.exercise.pristine&&s.createOrUpdateLogFormGroup.errors&&s.createOrUpdateLogFormGroup.errors.exerciseRequired?22:-1),y(1),re(23,!s.createOrUpdateLogFormGroup.controls.exercise.pristine&&s.createOrUpdateLogFormGroup.errors&&s.createOrUpdateLogFormGroup.errors.exerciseInvalidPeron?23:-1),y(1),re(24,!s.createOrUpdateLogFormGroup.controls.exercise.pristine&&s.createOrUpdateLogFormGroup.errors&&s.createOrUpdateLogFormGroup.errors.exerciseDoesNotExist?24:-1),y(1),Ht(s.createOrUpdateLogFormGroup.controls.series.controls),y(2),re(27,!s.createOrUpdateLogFormGroup.controls.series.pristine&&s.createOrUpdateLogFormGroup.errors&&s.createOrUpdateLogFormGroup.errors.seriesAllSeriesAreEmpty?27:-1),y(1),re(28,!s.createOrUpdateLogFormGroup.controls.series.pristine&&s.createOrUpdateLogFormGroup.errors&&s.createOrUpdateLogFormGroup.errors.seriesRepsMustBeInteger?28:-1),y(1),j("ngClass",Wt(22,Up,s.mode==="update")),y(1),re(30,s.mode==="update"?30:-1),y(1),j("ngClass",ba(24,Fp,s.createOrUpdateLogFormGroup.valid,s.createOrUpdateLogFormGroup.invalid))("disabled",s.createOrUpdateLogFormGroup.invalid))},dependencies:[$a,xa,Da,Ua,Na,Ma,Fa,ja,La,ec,Qa,qn],changeDetection:0});let t=e;return t})();var uu=(()=>{let e=class e{constructor(){this.toasts=[]}show(r){this.toasts.push(r)}ok(r){this.show({text:r,type:"success"})}error(r){this.show({text:r??"An error ocurred",type:"danger"})}remove(r){this.toasts=this.toasts.filter(i=>i!==r)}clear(){this.toasts=[]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function jp(t,e){if(t&1){let n=be();b(0,"div",18)(1,"button",19),L("click",function(){let s=G(n).$implicit;return q(s.dismiss("Cross click"))}),w()(),b(2,"div",20)(3,"a",21),L("click",function(){let s=G(n).$implicit;return q(s.dismiss())}),N(4,"Sign In"),w(),b(5,"a",21),L("click",function(){let s=G(n).$implicit;return q(s.dismiss())}),N(6,"Sign Up"),w(),b(7,"a",22),L("click",function(){let s=G(n).$implicit;return q(s.dismiss())}),N(8,"Sign out"),w(),b(9,"a",21),L("click",function(){let s=G(n).$implicit;return q(s.dismiss())}),N(10,"Exercises"),w(),b(11,"a",21),L("click",function(){let s=G(n).$implicit;return q(s.dismiss())}),N(12,"Developer"),w()()}if(t&2){let n=$();y(3),j("routerLink",n.Paths.SIGN_IN),y(2),j("routerLink",n.Paths.SIGN_UP),y(4),j("routerLink",n.Paths.EXERCISES),y(2),j("routerLink",n.Paths.DEVELOPER)}}function $p(t,e){if(t&1){let n=be();b(0,"ngb-toast",23),L("hidden",function(){let s=G(n).$implicit,o=$();return q(o.toastService.remove(s))}),b(1,"ngb-alert",24),L("closed",function(){let s=G(n).$implicit,o=$();return q(o.toastService.remove(s))}),N(2),w()()}if(t&2){let n=e.$implicit;j("autohide",!0)("delay",n.delay||3e3),y(1),j("type",n.type),y(1),he(n.text)}}var Vp=t=>({active:t});function Hp(t,e){if(t&1){let n=be();b(0,"button",29),L("click",function(){let s=G(n).$implicit,o=$(2);return q(o.exerciseLogService.selectedUsername$.next(s))}),N(1),$n(2,"titlecase"),w()}if(t&2){let n=e.$implicit,r=$(2);j("ngClass",Wt(4,Vp,n===r.exerciseLogService.selectedUsername())),y(1),He(" ",Vn(2,2,n)," ")}}function Wp(t,e){if(t&1){let n=be();b(0,"div",25)(1,"button",26),N(2),$n(3,"titlecase"),w(),b(4,"div",27)(5,"button",28),L("click",function(){G(n);let i=$();return q(i.exerciseLogService.selectedUsername$.next(null))}),N(6,"All Users"),w(),Vt(7,Hp,3,6,"button",30,yi),w()()}if(t&2){let n=$();y(2),He(" ",Vn(3,1,n.exerciseLogService.selectedUsernameLabel())," "),y(5),Ht(n.exerciseLogService.usernames())}}function zp(t,e){if(t&1&&(b(0,"div",31)(1,"button",32),N(2),$n(3,"titlecase"),w()()),t&2){let n=$();y(2),He(" ",Vn(3,1,n.exerciseLogService.usernames()[0])," ")}}function Bp(t,e){if(t&1){let n=be();b(0,"button",33),L("click",function(){G(n);let i=$();return q(i.open("create"))}),ie(1,"i",34),w()}}var Gp=t=>({spin:t}),qp=()=>({exact:!0}),Os="robertly-get-data-cache",lu="robertly-exercise-logs",du="robertly-exercises",Ps="robertly-create-log-value",Kp=5*60,hu=t=>{let e=t,n=null;return Ai.required(e.controls.user)&&(n=M(m({},n??{}),{userRequired:"Username is required"})),e.value.user==="peron"&&(n=M(m({},n??{}),{userInvalidPeron:"Peron is not allowed"})),Ai.required(e.controls.exercise)&&(n=M(m({},n??{}),{exerciseRequired:"Exercise is required"})),e.value.exercise?.name?.toLowerCase()==="peron"&&(n=M(m({},n??{}),{exerciseInvalidPeron:"Peron is not allowed"})),e.controls.series.value.map(s=>(s.reps??0)>0&&(s.weightInKg??0)>0).every(s=>!s)&&(n=M(m({},n??{}),{seriesAllSeriesAreEmpty:"Needs at least one serie"})),e.controls.series.value.some(s=>!Number.isInteger(s.reps??0))&&(n=M(m({},n??{}),{seriesRepsMustBeInteger:"Reps needs to be whole numbers"})),n},pu=(()=>{let e=class e{constructor(){this.exerciseLogService=f(qt),this.toastService=f(uu),this.exerciseLogApiService=f(ou),this.exerciseApiService=f(au),this.serviceWorkerUpdates=f(Oi),this.modalService=f(Ja),this.document=f(H),this.dayjsService=f(ka),this.dayjs=this.dayjsService.instance,this.injector=f(ue),this.offcanvasService=f(tc),this.createLogFormGroup=new Z({user:new O(""),userId:new O(""),exercise:new O(null),date:new O(""),series:new Ri([new Z({reps:new O,weightInKg:new O}),new Z({reps:new O,weightInKg:new O}),new Z({reps:new O,weightInKg:new O}),new Z({reps:new O,weightInKg:new O}),new Z({reps:new O,weightInKg:new O})])},[hu]),this.updateLogFormGroup=new Z({user:new O(""),userId:new O(""),exercise:new O(null),date:new O(""),series:new Ri([new Z({reps:new O,weightInKg:new O}),new Z({reps:new O,weightInKg:new O}),new Z({reps:new O,weightInKg:new O}),new Z({reps:new O,weightInKg:new O}),new Z({reps:new O,weightInKg:new O})])},[hu]),this.isSpinning=!1,this.Paths=Je;let r=localStorage.getItem(Os),i=!1;if(!r)localStorage.setItem(Os,this.dayjs().unix().toString()),i=!0;else{let s=this.dayjs.unix(+r);this.dayjs().diff(s,"seconds")>Kp&&(i=!0,localStorage.setItem(Os,this.dayjs().unix().toString()))}this.fetchData(i,i),this.serviceWorkerUpdates.unrecoverable.pipe(Gt()).subscribe(s=>console.error(s)),this.serviceWorkerUpdates.versionUpdates.pipe(P(s=>{console.log(s),this.toastService.show({text:s.type,type:"secondary"})}),z(s=>s.type==="VERSION_READY")).subscribe(()=>{this.document.location.reload()}),this.createLogFormGroup.valueChanges.pipe(Gt(),Jo(1e3)).subscribe(s=>localStorage.setItem(Ps,JSON.stringify(s))),this.exerciseLogService.logClicked$.pipe(Gt()).subscribe(s=>{this.updateLogFormGroup.reset(),this.updateLogFormGroup.patchValue({exercise:s.exercise,date:this.dayjsService.parseDate(s.date).format("YYYY-MM-DD"),user:s.username,series:s.series.map(o=>({reps:o.reps,weightInKg:o.weightInKg}))}),this.open("update",s)}),this.exerciseLogService.deleteLog$.pipe(F(s=>this.exerciseLogApiService.deleteExerciseLog(s.id).pipe(P(()=>{this.fetchData(),this.toastService.ok("Log deleted successfully!")}))),Gt()).subscribe()}ngOnInit(){let r=JSON.parse(localStorage.getItem(Ps)??"null");r&&this.createLogFormGroup.patchValue(r)}open(r,i){let s=this.modalService.open(cu,{centered:!0,injector:this.injector}),o=s.componentInstance;o.createOrUpdateLogFormGroup=r==="update"?this.updateLogFormGroup:this.createLogFormGroup,o.mode=r,r==="create"&&!this.createLogFormGroup.value.date&&this.createLogFormGroup.controls.date.patchValue(this.dayjs().format("YYYY-MM-DD")),i&&(o.originalValue=i),s.result.then(()=>{if(r==="create"){if(this.createLogFormGroup.invalid)return;let a=this.exerciseLogService.logs().find(c=>c.user.toLowerCase()===this.createLogFormGroup.value.user?.toLowerCase()&&!!c.userId)??null,u={date:this.dayjsService.parseDate(this.createLogFormGroup.value.date).format("YYYY-MM-DD"),exerciseId:this.createLogFormGroup.value.exercise.id,user:a?.user??this.createLogFormGroup.value.user.toLowerCase(),userId:a?.userId??null,series:(this.createLogFormGroup.value.series??[]).filter(c=>!!c.reps&&!!c.weightInKg).map(c=>({reps:+c.reps,weightInKg:+c.weightInKg.toFixed(1)}))};this.exerciseLogApiService.createExerciseLog(u).subscribe({next:()=>{this.createLogFormGroup.reset(),localStorage.removeItem(Ps),this.fetchData(),this.toastService.ok("Log created successfully!")},error:()=>{this.fetchData(),this.toastService.error()}})}else{if(this.updateLogFormGroup.invalid)return;let a=this.exerciseLogService.logs().find(c=>c.user.toLowerCase()===this.updateLogFormGroup.value.user?.toLowerCase()&&!!c.userId)??null,u={id:i.id,date:this.dayjsService.parseDate(this.updateLogFormGroup.value.date).format("YYYY-MM-DD"),exerciseId:this.updateLogFormGroup.value.exercise.id,user:a?.user??this.updateLogFormGroup.value.user.toLowerCase(),userId:a?.userId??null,series:(this.updateLogFormGroup.value.series??[]).filter(c=>!!c.reps&&!!c.weightInKg).map(c=>({reps:+c.reps,weightInKg:+c.weightInKg.toFixed(1)}))};this.exerciseLogApiService.updateExerciseLog(u).subscribe({next:()=>{this.updateLogFormGroup.reset(),this.fetchData(),this.toastService.ok("Log updated successfully!")},error:()=>{this.fetchData(),this.toastService.error()}})}},()=>{this.createLogFormGroup.markAsPristine(),this.updateLogFormGroup.markAsPristine()})}fetchData(r=!1,i=!0){let s=JSON.parse(localStorage.getItem(du)??"[]"),o=JSON.parse(localStorage.getItem(lu)??"[]"),a=this.exerciseApiService.getExercises(),u=this.exerciseLogApiService.getExerciseLogsv2();!r&&s.length&&(a=g(s)),!i&&o.length&&(u=g(o)),this.exerciseLogService.withLoading(Yo([u,a]).pipe(P(([c,d])=>{localStorage.setItem(lu,JSON.stringify(c)),localStorage.setItem(du,JSON.stringify(d)),this.exerciseLogService.updateLogs$.next(c),this.exerciseLogService.updateExercises$.next(d)})))}openSidebar(r){this.offcanvasService.open(r,{position:"end"})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=pt({type:e,selectors:[["app-root"]],standalone:!0,features:[Ia([qt]),gt],decls:27,vars:11,consts:[["content",""],[1,"toast-container"],[1,"navbar","navbar-dark","bg-primary","bg-gradient","fw-bold","px-1"],[1,"container-fluid","d-flex","justify-content-end","align-items-center"],["ngbDropdown","","display","dynamic","class","d-flex justify-content-end"],["type","button",1,"btn","me-3",2,"outline","none","border","none","padding","0"],[1,"fa","fa-refresh",2,"font-size","22px","color","white",3,"ngClass","click","animationend"],["type","button",1,"btn",2,"outline","none","border","none","padding","0"],[1,"fa","fa-bars",2,"font-size","22px","color","white",3,"click"],["class","btn btn-lg btn-primary"],[1,"navbar","navbar-dark","bg-primary","bg-gradient","fixed-bottom","fw-bold"],[1,"container-fluid"],[1,"navbar-nav","flex-row","gap-3","justify-content-center","w-100"],[1,"nav-item","w-100"],["routerLinkActive","active",1,"nav-link","text-center","d-flex","justify-content-center","align-items-center","gap-2",3,"routerLink","routerLinkActiveOptions"],[1,"fa","fa-history"],["routerLinkActive","active",1,"nav-link","text-center","d-flex","justify-content-center","align-items-center","gap-2",3,"routerLink"],[1,"fa","fa-bar-chart"],[1,"offcanvas-header"],["type","button","aria-label","Close",1,"btn-close",2,"margin-left","auto",3,"click"],[1,"offcanvas-body"],[3,"routerLink","click"],[3,"click"],[3,"autohide","delay","hidden"],[3,"type","closed"],["ngbDropdown","","display","dynamic",1,"d-flex","justify-content-end"],["type","button","ngbDropdownToggle","",1,"btn","d-flex","justify-content-between","align-items-center","me-3",2,"outline","none","border","none","color","white","font-weight","500"],["ngbDropdownMenu",""],["ngbDropdownItem","",3,"click"],["ngbDropdownItem","",3,"ngClass","click"],["ngbDropdownItem","",3,"ngClass"],["display","dynamic",1,"d-flex","justify-content-end"],["type","button",1,"btn","d-flex","justify-content-between","align-items-center","me-3",2,"outline","none","border","none","color","white","font-weight","500"],[1,"btn","btn-lg","btn-primary",3,"click"],[1,"fa","fa-plus"],[3,"autohide","delay"]],template:function(i,s){if(i&1){let o=be();_e(0,jp,13,4,"ng-template",null,0,Sa),b(2,"div",1),Vt(3,$p,3,4,"ngb-toast",35,yi),w(),b(5,"nav",2)(6,"div",3),_e(7,Wp,9,3,"div",4)(8,zp,4,3),b(9,"button",5)(10,"i",6),L("click",function(){return s.isSpinning=!0,s.fetchData(!0,!0)})("animationend",function(){return s.isSpinning=!1}),w()(),b(11,"button",7)(12,"i",8),L("click",function(){G(o);let u=ya(1);return q(s.openSidebar(u))}),w()()()(),b(13,"div"),ie(14,"router-outlet"),w(),_e(15,Bp,2,0,"button",9),b(16,"nav",10)(17,"div",11)(18,"ul",12)(19,"li",13)(20,"a",14),N(21," Logs "),ie(22,"i",15),w()(),b(23,"li",13)(24,"a",16),N(25," Stats "),ie(26,"i",17),w()()()()()}i&2&&(y(3),Ht(s.toastService.toasts),y(4),re(7,s.exerciseLogService.usernames().length>1?7:8),y(3),j("ngClass",Wt(8,Gp,s.isSpinning)),y(3),fa("margin-bottom",8,"rem"),y(2),re(15,s.exerciseLogService.loaded()?15:-1),y(5),j("routerLink",s.Paths.LOGS)("routerLinkActiveOptions",_a(10,qp)),y(4),j("routerLink",s.Paths.STATS))},dependencies:[qn,Kn,yr,iu,_s,Ka,qa,Ga,Ba,Wa,za,nc,Za,Xa,Ha,Va],styles:["nav.navbar.fixed-bottom[_ngcontent-%COMP%]{padding-bottom:max(env(safe-area-inset-bottom),.8rem);border-top-left-radius:10px;border-top-right-radius:10px}button[_ngcontent-%COMP%]:focus   i.fa.fa-refresh.spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate 1s ease-in-out 0s}@keyframes _ngcontent-%COMP%_rotate{0%{transform:rotate(0)}to{transform:rotate(720deg)}}button[_ngcontent-%COMP%]:has(.fa.fa-plus){border-radius:100%;position:fixed;right:25px;bottom:75px;z-index:4}@supports (-webkit-hyphens: none){button[_ngcontent-%COMP%]:has(.fa.fa-plus){bottom:100px}}.toast-container[_ngcontent-%COMP%]{position:fixed;top:15px;left:50%;transform:translate(-50%);z-index:1200}.toast-container[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:last-child){--bs-toast-spacing: .5rem}.offcanvas-body[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]});let t=e;return t})();var Yp="@",ks=class{constructor(e,n,r,i,s){this.doc=e,this.delegate=n,this.zone=r,this.animationType=i,this.moduleImpl=s,this._rendererFactoryPromise=null}loadImpl(){return(this.moduleImpl??import("./chunk-2TQZJVSN.js")).catch(n=>{throw new x(5300,!1)}).then(({\u0275createEngine:n,\u0275AnimationRendererFactory:r})=>{let i=n(this.animationType,this.doc),s=new r(this.delegate,i,this.zone);return this.delegate=s,s})}createRenderer(e,n){let r=this.delegate.createRenderer(e,n);if(r.\u0275type===0)return r;typeof r.throwOnSyntheticProps=="boolean"&&(r.throwOnSyntheticProps=!1);let i=new Ds(r);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(s=>{let o=s.createRenderer(e,n);i.use(o)}).catch(s=>{i.use(r)}),i}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}},Ds=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let n of this.replay)n(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,n){this.delegate.appendChild(e,n)}insertBefore(e,n,r,i){this.delegate.insertBefore(e,n,r,i)}removeChild(e,n,r){this.delegate.removeChild(e,n,r)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){this.shouldReplay(n)&&this.replay.push(i=>i.setProperty(e,n,r)),this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.shouldReplay(n)&&this.replay.push(i=>i.listen(e,n,r)),this.delegate.listen(e,n,r)}shouldReplay(e){return this.replay!==null&&e.startsWith(Yp)}};function fu(t="animations"){return we([{provide:Un,useFactory:(e,n,r)=>new ks(e,n,r,t),deps:[H,nr,U]},{provide:ua,useValue:t==="noop"?"NoopAnimations":"BrowserAnimations"}])}var mu={apiUrl:"https://robertly.azurewebsites.net/api"};var vu=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Jp=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},yu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4,p=(a&15)<<2|c>>6,S=c&63;u||(S=64,o||(p=64)),r.push(n[d],n[h],n[p],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(vu(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Jp(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let c=i<t.length?n[t.charAt(i)]:64;++i;let h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new Ms;let p=s<<2|a>>4;if(r.push(p),c!==64){let S=a<<4&240|c>>2;if(r.push(S),h!==64){let B=c<<6&192|h;r.push(B)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Ms=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Xp=function(t){let e=vu(t);return yu.encodeByteArray(e,!0)},xs=function(t){return Xp(t).replace(/\./g,"")},Us=function(t){try{return yu.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Zp(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Qp=()=>Zp().__FIREBASE_DEFAULTS__,ef=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},tf=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Us(t[1]);return e&&JSON.parse(e)},Fs=()=>{try{return Qp()||ef()||tf()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Iu=t=>{var e,n;return(n=(e=Fs())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]};var js=()=>{var t;return(t=Fs())===null||t===void 0?void 0:t.config},$s=t=>{var e;return(e=Fs())===null||e===void 0?void 0:e[`_${t}`]};var _r=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function W(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wu(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(W())}function Eu(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function _u(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bu(){let t=W();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Tu(){try{return typeof indexedDB=="object"}catch{return!1}}function Su(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var nf="FirebaseError",de=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=nf,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Se.prototype.create)}},Se=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?rf(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new de(i,a,r)}};function rf(t,e){return t.replace(sf,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var sf=/\{\$([^}]+)}/g;function Cu(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Rt(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(gu(s)&&gu(o)){if(!Rt(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function gu(t){return t!==null&&typeof t=="object"}function Ot(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Au(t,e){let n=new Ls(t,e);return n.subscribe.bind(n)}var Ls=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");of(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ns),i.error===void 0&&(i.error=Ns),i.complete===void 0&&(i.complete=Ns);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function of(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ns(){}var yw=4*60*60*1e3;function Xe(t){return t&&t._delegate?t._delegate:t}var me=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ze="[DEFAULT]";var Vs=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new _r;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cf(e))try{this.getOrInitializeService({instanceIdentifier:Ze})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ze){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return l(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ze){return this.instances.has(e)}getOptions(e=Ze){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:af(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ze){return this.component?this.component.multipleInstances?e:Ze:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function af(t){return t===Ze?void 0:t}function cf(t){return t.instantiationMode==="EAGER"}var br=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Vs(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var uf=[],D=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(D||{}),lf={debug:D.DEBUG,verbose:D.VERBOSE,info:D.INFO,warn:D.WARN,error:D.ERROR,silent:D.SILENT},df=D.INFO,hf={[D.DEBUG]:"log",[D.VERBOSE]:"log",[D.INFO]:"info",[D.WARN]:"warn",[D.ERROR]:"error"},pf=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=hf[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Pt=class{constructor(e){this.name=e,this._logLevel=df,this._logHandler=pf,this._userLogHandler=null,uf.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in D))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lf[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,D.DEBUG,...e),this._logHandler(this,D.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,D.VERBOSE,...e),this._logHandler(this,D.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,D.INFO,...e),this._logHandler(this,D.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,D.WARN,...e),this._logHandler(this,D.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,D.ERROR,...e),this._logHandler(this,D.ERROR,...e)}};var ff=(t,e)=>e.some(n=>t instanceof n),Ru,Ou;function mf(){return Ru||(Ru=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gf(){return Ou||(Ou=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Pu=new WeakMap,Ws=new WeakMap,ku=new WeakMap,Hs=new WeakMap,Bs=new WeakMap;function vf(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ge(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Pu.set(n,t)}).catch(()=>{}),Bs.set(e,t),e}function yf(t){if(Ws.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Ws.set(t,e)}var zs={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ws.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ku.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ge(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Du(t){zs=t(zs)}function If(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Tr(this),e,...n);return ku.set(r,e.sort?e.sort():[e]),ge(r)}:gf().includes(t)?function(...e){return t.apply(Tr(this),e),ge(Pu.get(this))}:function(...e){return ge(t.apply(Tr(this),e))}}function wf(t){return typeof t=="function"?If(t):(t instanceof IDBTransaction&&yf(t),ff(t,mf())?new Proxy(t,zs):t)}function ge(t){if(t instanceof IDBRequest)return vf(t);if(Hs.has(t))return Hs.get(t);let e=wf(t);return e!==t&&(Hs.set(t,e),Bs.set(e,t)),e}var Tr=t=>Bs.get(t);function Mu(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=ge(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ge(o.result),u.oldVersion,u.newVersion,ge(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}var Ef=["get","getKey","getAll","getAllKeys","count"],_f=["put","add","delete","clear"],Gs=new Map;function Nu(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Gs.get(e))return Gs.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=_f.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Ef.includes(n)))return;let s=function(o,...a){return l(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),c=u.store;return r&&(c=c.index(a.shift())),(yield Promise.all([c[n](...a),i&&u.done]))[0]})};return Gs.set(e,s),s}Du(t=>M(m({},t),{get:(e,n,r)=>Nu(e,n)||t.get(e,n,r),has:(e,n)=>!!Nu(e,n)||t.has(e,n)}));var Ks=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bf(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function bf(t){let e=t.getComponent();return e?.type==="VERSION"}var Ys="@firebase/app",Lu="0.9.28";var Qe=new Pt("@firebase/app"),Tf="@firebase/app-compat",Sf="@firebase/analytics-compat",Cf="@firebase/analytics",Af="@firebase/app-check-compat",Rf="@firebase/app-check",Of="@firebase/auth",Pf="@firebase/auth-compat",kf="@firebase/database",Df="@firebase/database-compat",Nf="@firebase/functions",Mf="@firebase/functions-compat",Lf="@firebase/installations",xf="@firebase/installations-compat",Uf="@firebase/messaging",Ff="@firebase/messaging-compat",jf="@firebase/performance",$f="@firebase/performance-compat",Vf="@firebase/remote-config",Hf="@firebase/remote-config-compat",Wf="@firebase/storage",zf="@firebase/storage-compat",Bf="@firebase/firestore",Gf="@firebase/firestore-compat",qf="firebase",Kf="10.8.1";var Js="[DEFAULT]",Yf={[Ys]:"fire-core",[Tf]:"fire-core-compat",[Cf]:"fire-analytics",[Sf]:"fire-analytics-compat",[Rf]:"fire-app-check",[Af]:"fire-app-check-compat",[Of]:"fire-auth",[Pf]:"fire-auth-compat",[kf]:"fire-rtdb",[Df]:"fire-rtdb-compat",[Nf]:"fire-fn",[Mf]:"fire-fn-compat",[Lf]:"fire-iid",[xf]:"fire-iid-compat",[Uf]:"fire-fcm",[Ff]:"fire-fcm-compat",[jf]:"fire-perf",[$f]:"fire-perf-compat",[Vf]:"fire-rc",[Hf]:"fire-rc-compat",[Wf]:"fire-gcs",[zf]:"fire-gcs-compat",[Bf]:"fire-fst",[Gf]:"fire-fst-compat","fire-js":"fire-js",[qf]:"fire-js-all"};var wn=new Map,Xs=new Map;function Jf(t,e){try{t.container.addComponent(e)}catch(n){Qe.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function kt(t){let e=t.name;if(Xs.has(e))return Qe.debug(`There were multiple attempts to register component ${e}.`),!1;Xs.set(e,t);for(let n of wn.values())Jf(n,t);return!0}function to(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var Xf={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Le=new Se("app","Firebase",Xf);var Zs=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new me("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Le.create("app-deleted",{appName:this._name})}};var Dt=Kf;function no(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Js,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Le.create("bad-app-name",{appName:String(i)});if(n||(n=js()),!n)throw Le.create("no-options");let s=wn.get(i);if(s){if(Rt(n,s.options)&&Rt(r,s.config))return s;throw Le.create("duplicate-app",{appName:i})}let o=new br(i);for(let u of Xs.values())o.addComponent(u);let a=new Zs(n,r,o);return wn.set(i,a),a}function Sr(t=Js){let e=wn.get(t);if(!e&&t===Js&&js())return no();if(!e)throw Le.create("no-app",{appName:t});return e}function Cr(){return Array.from(wn.values())}function Y(t,e,n){var r;let i=(r=Yf[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qe.warn(a.join(" "));return}kt(new me(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Zf="firebase-heartbeat-database",Qf=1,En="firebase-heartbeat-store",qs=null;function ju(){return qs||(qs=Mu(Zf,Qf,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(En)}catch(n){console.warn(n)}}}}).catch(t=>{throw Le.create("idb-open",{originalErrorMessage:t.message})})),qs}function em(t){return l(this,null,function*(){try{let n=(yield ju()).transaction(En),r=yield n.objectStore(En).get($u(t));return yield n.done,r}catch(e){if(e instanceof de)Qe.warn(e.message);else{let n=Le.create("idb-get",{originalErrorMessage:e?.message});Qe.warn(n.message)}}})}function xu(t,e){return l(this,null,function*(){try{let r=(yield ju()).transaction(En,"readwrite");yield r.objectStore(En).put(e,$u(t)),yield r.done}catch(n){if(n instanceof de)Qe.warn(n.message);else{let r=Le.create("idb-set",{originalErrorMessage:n?.message});Qe.warn(r.message)}}})}function $u(t){return`${t.name}!${t.options.appId}`}var tm=1024,nm=30*24*60*60*1e3,Qs=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new eo(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return l(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Uu();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=nm}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return l(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=Uu(),{heartbeatsToSend:r,unsentEntries:i}=rm(this._heartbeatsCache.heartbeats),s=xs(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function Uu(){return new Date().toISOString().substring(0,10)}function rm(t,e=tm){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Fu(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Fu(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var eo=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return l(this,null,function*(){return Tu()?Su().then(()=>!0).catch(()=>!1):!1})}read(){return l(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield em(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return l(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return xu(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return l(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return xu(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function Fu(t){return xs(JSON.stringify({version:2,heartbeats:t})).length}function im(t){kt(new me("platform-logger",e=>new Ks(e),"PRIVATE")),kt(new me("heartbeat",e=>new Qs(e),"PRIVATE")),Y(Ys,Lu,t),Y(Ys,Lu,"esm2017"),Y("fire-js","")}im("");var sm="firebase",om="10.8.1";Y(sm,om,"app");var _n=new Fn("ANGULARFIRE2_VERSION");function Vu(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var io=(t,e)=>{let n=e?[e]:Cr(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Ar=class{constructor(){return io(am)}},am="app-check";function Nt(){}var Rr=class{zone;delegate;constructor(e,n=Bo){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},ro=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Nt,{},Nt,Nt)),n.pipe(P({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Or=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Rr(Zone.current)),this.insideAngular=n.run(()=>new Rr(Zone.current,zo)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(T(U))};static \u0275prov=_({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Pr(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function cm(t){return Pr().ngZone.runOutsideAngular(()=>t())}function et(t){return Pr().ngZone.run(()=>t())}function um(t){return lm(Pr())(t)}function lm(t){return function(n){return n=n.lift(new ro(t.ngZone)),n.pipe(ri(t.outsideAngular),ni(t.insideAngular))}}var dm=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),et(()=>t.apply(void 0,r))},Mt=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=et(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Nt,{},Nt,Nt))),r[s]=dm(r[s],n));let i=cm(()=>t.apply(this,r));if(!e)if(i instanceof Ft){let s=Pr();return i.pipe(ri(s.outsideAngular),ni(s.insideAngular))}else return et(()=>i);return i instanceof Ft?i.pipe(um):i instanceof Promise?et(()=>new Promise((s,o)=>i.then(a=>et(()=>s(a)),a=>et(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:et(()=>i)};var tt=class{constructor(e){return e}},bn=class{constructor(){return Cr()}};function hm(t){return t&&t.length===1?t[0]:new tt(Sr())}var so=new k("angularfire2._apps"),pm={provide:tt,useFactory:hm,deps:[[new Ie,so]]},fm={provide:bn,deps:[[new Ie,so]]};function mm(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new tt(r)}}var gm=(()=>{class t{constructor(n){Y("angularfire",_n.full,"core"),Y("angularfire",_n.full,"app"),Y("angular",da.full,n.toString())}static \u0275fac=function(r){return new(r||t)(T(ne))};static \u0275mod=Pe({type:t});static \u0275inj=Oe({providers:[pm,fm]})}return t})();function Hu(t,...e){return{ngModule:gm,providers:[{provide:so,useFactory:mm(t),multi:!0,deps:[U,ue,Or,...e]}]}}var Wu=Mt(no,!0);function rl(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var il=rl,sl=new Se("auth","Firebase",rl());var xr=new Pt("@firebase/auth");function vm(t,...e){xr.logLevel<=D.WARN&&xr.warn(`Auth (${Dt}): ${t}`,...e)}function Dr(t,...e){xr.logLevel<=D.ERROR&&xr.error(`Auth (${Dt}): ${t}`,...e)}function ye(t,...e){throw To(t,...e)}function nt(t,...e){return To(t,...e)}function ol(t,e,n){let r=Object.assign(Object.assign({},il()),{[e]:n});return new Se("auth","Firebase",r).create(e,{appName:t.name})}function ym(t,e,n){let r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ye(t,"argument-error"),ol(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function To(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return sl.create(t,...e)}function I(t,e,...n){if(!t)throw To(e,...n)}function Ce(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Dr(e),new Error(e)}function Ue(t,e){t||Ce(e)}function co(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Im(){return zu()==="http:"||zu()==="https:"}function zu(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function wm(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Im()||Eu()||"connection"in navigator)?navigator.onLine:!0}function Em(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var rt=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ue(n>e,"Short delay should be less than long delay!"),this.isMobile=wu()||_u()}get(){return wm()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function So(t,e){Ue(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Ur=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ce("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ce("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ce("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var _m={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var bm=new rt(3e4,6e4);function Co(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function xt(s,o,a,u){return l(this,arguments,function*(t,e,n,r,i={}){return al(t,i,()=>l(this,null,function*(){let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});let h=Ot(Object.assign({key:t.config.apiKey},d)).slice(1),p=yield t._getAdditionalHeaders();return p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode),Ur.fetch()(cl(t,t.config.apiHost,n,h),Object.assign({method:e,headers:p,referrerPolicy:"no-referrer"},c))}))})}function al(t,e,n){return l(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},_m),e);try{let i=new uo(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw kr(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw kr(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw kr(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw kr(t,"user-disabled",o);let d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw ol(t,d,c);ye(t,d)}}catch(i){if(i instanceof de)throw i;ye(t,"network-request-failed",{message:String(i)})}})}function Tm(s,o,a,u){return l(this,arguments,function*(t,e,n,r,i={}){let c=yield xt(t,e,n,r,i);return"mfaPendingCredential"in c&&ye(t,"multi-factor-auth-required",{_serverResponse:c}),c})}function cl(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?So(t.config,i):`${t.config.apiScheme}://${i}`}var uo=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(nt(this.auth,"network-request-failed")),bm.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function kr(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=nt(t,e,r);return i.customData._tokenResponse=n,i}function Sm(t,e){return l(this,null,function*(){return xt(t,"POST","/v1/accounts:delete",e)})}function Cm(t,e){return l(this,null,function*(){return xt(t,"POST","/v1/accounts:lookup",e)})}function Tn(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Ao(t,e=!1){return l(this,null,function*(){let n=Xe(t),r=yield n.getIdToken(e),i=Ro(r);I(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Tn(oo(i.auth_time)),issuedAtTime:Tn(oo(i.iat)),expirationTime:Tn(oo(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function oo(t){return Number(t)*1e3}function Ro(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Dr("JWT malformed, contained fewer than 3 sections"),null;try{let i=Us(n);return i?JSON.parse(i):(Dr("Failed to decode base64 JWT payload"),null)}catch(i){return Dr("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Am(t){let e=Ro(t);return I(e,"internal-error"),I(typeof e.exp<"u","internal-error"),I(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Sn(t,e,n=!1){return l(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof de&&Rm(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function Rm({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var lo=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>l(this,null,function*(){yield this.iteration()}),n)}iteration(){return l(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Fr=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tn(this.lastLoginAt),this.creationTime=Tn(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function jr(t){return l(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Sn(t,Cm(n,{idToken:r}));I(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Pm(s.providerUserInfo):[],a=Om(t.providerData,o),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!a?.length,d=u?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Fr(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)})}function Oo(t){return l(this,null,function*(){let e=Xe(t);yield jr(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Om(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Pm(t){return t.map(e=>{var{providerId:n}=e,r=Nn(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function km(t,e){return l(this,null,function*(){let n=yield al(t,{},()=>l(this,null,function*(){let r=Ot({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=cl(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Ur.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function Dm(t,e){return l(this,null,function*(){return xt(t,"POST","/v2/accounts:revokeToken",Co(t,e))})}var $r=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){I(e.idToken,"internal-error"),I(typeof e.idToken<"u","internal-error"),I(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Am(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return l(this,null,function*(){return I(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return l(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield km(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(I(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(I(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(I(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Ce("not implemented")}};function xe(t,e){I(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Cn=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Nn(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Fr(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return l(this,null,function*(){let n=yield Sn(this,this.stsTokenManager.getToken(this.auth,e));return I(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Ao(this,e)}reload(){return Oo(this)}_assign(e){this!==e&&(I(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){I(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return l(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield jr(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return l(this,null,function*(){let e=yield this.getIdToken();return yield Sn(this,Sm(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,d;let h=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,S=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,B=(o=n.photoURL)!==null&&o!==void 0?o:void 0,ae=(a=n.tenantId)!==null&&a!==void 0?a:void 0,A=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,C=(c=n.createdAt)!==null&&c!==void 0?c:void 0,ce=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:ot,emailVerified:V,isAnonymous:at,providerData:Ut,stsTokenManager:Dn}=n;I(ot&&Dn,e,"internal-error");let Fl=$r.fromJSON(this.name,Dn);I(typeof ot=="string",e,"internal-error"),xe(h,e.name),xe(p,e.name),I(typeof V=="boolean",e,"internal-error"),I(typeof at=="boolean",e,"internal-error"),xe(S,e.name),xe(B,e.name),xe(ae,e.name),xe(A,e.name),xe(C,e.name),xe(ce,e.name);let Qr=new t({uid:ot,auth:e,email:p,emailVerified:V,displayName:h,isAnonymous:at,photoURL:B,phoneNumber:S,tenantId:ae,stsTokenManager:Fl,createdAt:C,lastLoginAt:ce});return Ut&&Array.isArray(Ut)&&(Qr.providerData=Ut.map(jl=>Object.assign({},jl))),A&&(Qr._redirectEventId=A),Qr}static _fromIdTokenResponse(e,n,r=!1){return l(this,null,function*(){let i=new $r;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield jr(s),s})}};var Bu=new Map;function Ae(t){Ue(t instanceof Function,"Expected a class definition");let e=Bu.get(t);return e?(Ue(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Bu.set(t,e),e)}var Nm=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return l(this,null,function*(){return!0})}_set(n,r){return l(this,null,function*(){this.storage[n]=r})}_get(n){return l(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return l(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),ho=Nm;function Nr(t,e,n){return`firebase:${t}:${e}:${n}`}var Vr=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Nr(this.userKey,i.apiKey,s),this.fullPersistenceKey=Nr("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return l(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Cn._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return l(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return l(this,null,function*(){if(!n.length)return new t(Ae(ho),e,r);let i=(yield Promise.all(n.map(c=>l(this,null,function*(){if(yield c._isAvailable())return c})))).filter(c=>c),s=i[0]||Ae(ho),o=Nr(r,e.config.apiKey,e.name),a=null;for(let c of n)try{let d=yield c._get(o);if(d){let h=Cn._fromJSON(e,d);c!==s&&(a=h),s=c;break}}catch{}let u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(c=>l(this,null,function*(){if(c!==s)try{yield c._remove(o)}catch{}}))),new t(s,e,r))})}};function Gu(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dl(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ul(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(pl(e))return"Blackberry";if(fl(e))return"Webos";if(Po(e))return"Safari";if((e.includes("chrome/")||ll(e))&&!e.includes("edge/"))return"Chrome";if(hl(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function ul(t=W()){return/firefox\//i.test(t)}function Po(t=W()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ll(t=W()){return/crios\//i.test(t)}function dl(t=W()){return/iemobile/i.test(t)}function hl(t=W()){return/android/i.test(t)}function pl(t=W()){return/blackberry/i.test(t)}function fl(t=W()){return/webos/i.test(t)}function Yr(t=W()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Mm(t=W()){var e;return Yr(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Lm(){return bu()&&document.documentMode===10}function ml(t=W()){return Yr(t)||hl(t)||fl(t)||pl(t)||/windows phone/i.test(t)||dl(t)}function xm(){try{return!!(window&&window!==window.top)}catch{return!1}}function gl(t,e=[]){let n;switch(t){case"Browser":n=Gu(W());break;case"Worker":n=`${Gu(W())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Dt}/${r}`}var po=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return l(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Um(n){return l(this,arguments,function*(t,e={}){return xt(t,"GET","/v2/passwordPolicy",Co(t,e))})}var Fm=6,fo=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Fm,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var mo=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hr(this),this.idTokenSubscription=new Hr(this),this.beforeStateQueue=new po(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sl,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ae(n)),this._initializationPromise=this.queue(()=>l(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Vr.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return l(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return l(this,null,function*(){var n;let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return I(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return l(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return l(this,null,function*(){try{yield jr(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Em()}_delete(){return l(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return l(this,null,function*(){let n=e?Xe(e):null;return n&&I(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return l(this,null,function*(){if(!this._deleted)return e&&I(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>l(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return l(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>l(this,null,function*(){yield this.assertedPersistence.setPersistence(Ae(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return l(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return l(this,null,function*(){let e=yield Um(this),n=new fo(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Se("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return l(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Dm(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return l(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return l(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Ae(e)||this._popupRedirectResolver;I(n,this,"argument-error"),this.redirectPersistenceManager=yield Vr.create(this,[Ae(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return l(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>l(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return l(this,null,function*(){if(e===this.currentUser)return this.queue(()=>l(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(I(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return l(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return I(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gl(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return l(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return l(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&vm(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function kn(t){return Xe(t)}var Hr=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Au(n=>this.observer=n)}get next(){return I(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var ko={loadJS(){return l(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jm(t){ko=t}function $m(t){return ko.loadJS(t)}function Vm(){return ko.gapiScript}function vl(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function Do(t,e){let n=to(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(Rt(s,e??{}))return i;ye(i,"already-initialized")}return n.initialize({options:e})}function Hm(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ae);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function No(t,e,n){let r=kn(t);I(r._canInitEmulator,r,"emulator-config-failed"),I(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=yl(e),{host:o,port:a}=Wm(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||zm()}function yl(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Wm(t){let e=yl(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:qu(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:qu(o)}}}function qu(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function zm(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var An=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ce("not implemented")}_getIdTokenResponse(e){return Ce("not implemented")}_linkToIdToken(e,n){return Ce("not implemented")}_getReauthenticationResolver(e){return Ce("not implemented")}};function Lt(t,e){return l(this,null,function*(){return Tm(t,"POST","/v1/accounts:signInWithIdp",Co(t,e))})}var Bm="http://localhost",Wr=class t extends An{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ye("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Nn(n,["providerId","signInMethod"]);if(!r||!i)return null;let o=new t(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){let n=this.buildRequest();return Lt(e,n)}_linkToIdToken(e,n){let r=this.buildRequest();return r.idToken=n,Lt(e,r)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,Lt(e,n)}buildRequest(){let e={requestUri:Bm,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ot(n)}return e}};var Rn=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var zr=class extends Rn{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Jr=(()=>{class t extends zr{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return Wr._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})();var On=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return l(this,null,function*(){let s=yield Cn._fromIdTokenResponse(e,r,i),o=Ku(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return l(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=Ku(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function Ku(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var go=class t extends de{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function Il(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?go._fromErrorAndOperation(t,s,e,r):s})}function Gm(t,e,n=!1){return l(this,null,function*(){let r=yield Sn(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return On._forOperation(t,"link",r)})}function qm(t,e,n=!1){return l(this,null,function*(){let{auth:r}=t,i="reauthenticate";try{let s=yield Sn(t,Il(r,i,e,t),n);I(s.idToken,r,"internal-error");let o=Ro(s.idToken);I(o,r,"internal-error");let{sub:a}=o;return I(t.uid===a,r,"user-mismatch"),On._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&ye(r,"user-mismatch"),s}})}function Km(t,e,n=!1){return l(this,null,function*(){let r="signIn",i=yield Il(t,r,e),s=yield On._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function Mo(t,e,n,r){return Xe(t).onIdTokenChanged(e,n,r)}function Lo(t,e,n){return Xe(t).beforeAuthStateChanged(e,n)}var Br="__sak";var Gr=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Br,"1"),this.storage.removeItem(Br),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function Ym(){let t=W();return Po(t)||Yr(t)}var Jm=1e3,Xm=10,Zm=(()=>{class t extends Gr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Ym()&&xm(),this.fallbackToPolling=ml(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);Lm()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,Xm):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},Jm)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return l(this,null,function*(){yield Fe(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return l(this,null,function*(){let r=yield Fe(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return l(this,null,function*(){yield Fe(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),wl=Zm;var Qm=(()=>{class t extends Gr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),xo=Qm;function eg(t){return Promise.all(t.map(e=>l(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var tg=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return l(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(a).map(d=>l(this,null,function*(){return d(r.origin,o)})),c=yield eg(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:c})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function El(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var vo=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return l(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{let c=El("",20);i.port1.start();let d=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){let p=h;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function ve(){return window}function ng(t){ve().location.href=t}function _l(){return typeof ve().WorkerGlobalScope<"u"&&typeof ve().importScripts=="function"}function rg(){return l(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function ig(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function sg(){return _l()?self:null}var bl="firebaseLocalStorageDb",og=1,qr="firebaseLocalStorage",Tl="fbase_key",it=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Xr(t,e){return t.transaction([qr],e?"readwrite":"readonly").objectStore(qr)}function ag(){let t=indexedDB.deleteDatabase(bl);return new it(t).toPromise()}function yo(){let t=indexedDB.open(bl,og);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(qr,{keyPath:Tl})}catch(i){n(i)}}),t.addEventListener("success",()=>l(this,null,function*(){let r=t.result;r.objectStoreNames.contains(qr)?e(r):(r.close(),yield ag(),e(yield yo()))}))})}function Yu(t,e,n){return l(this,null,function*(){let r=Xr(t,!0).put({[Tl]:e,value:n});return new it(r).toPromise()})}function cg(t,e){return l(this,null,function*(){let n=Xr(t,!1).get(e),r=yield new it(n).toPromise();return r===void 0?null:r.value})}function Ju(t,e){let n=Xr(t,!0).delete(e);return new it(n).toPromise()}var ug=800,lg=3,dg=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return l(this,null,function*(){return this.db?this.db:(this.db=yield yo(),this.db)})}_withRetries(n){return l(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>lg)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return l(this,null,function*(){return _l()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return l(this,null,function*(){this.receiver=tg._getInstance(sg()),this.receiver._subscribe("keyChanged",(n,r)=>l(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>l(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return l(this,null,function*(){var n,r;if(this.activeServiceWorker=yield rg(),!this.activeServiceWorker)return;this.sender=new vo(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return l(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||ig()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return l(this,null,function*(){try{if(!indexedDB)return!1;let n=yield yo();return yield Yu(n,Br,"1"),yield Ju(n,Br),!0}catch{}return!1})}_withPendingWrite(n){return l(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return l(this,null,function*(){return this._withPendingWrite(()=>l(this,null,function*(){return yield this._withRetries(i=>Yu(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return l(this,null,function*(){let r=yield this._withRetries(i=>cg(i,n));return this.localCache[n]=r,r})}_remove(n){return l(this,null,function*(){return this._withPendingWrite(()=>l(this,null,function*(){return yield this._withRetries(r=>Ju(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return l(this,null,function*(){let n=yield this._withRetries(s=>{let o=Xr(s,!1).getAll();return new it(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>l(this,null,function*(){return this._poll()}),ug)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),Sl=dg;var lE=vl("rcb"),dE=new rt(3e4,6e4);function Cl(t,e){return e?Ae(e):(I(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Pn=class extends An{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Lt(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Lt(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Lt(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function hg(t){return Km(t.auth,new Pn(t),t.bypassAuthState)}function pg(t){let{auth:e,user:n}=t;return I(n,e,"internal-error"),qm(n,new Pn(t),t.bypassAuthState)}function fg(t){return l(this,null,function*(){let{auth:e,user:n}=t;return I(n,e,"internal-error"),Gm(n,new Pn(t),t.bypassAuthState)})}var Io=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>l(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return l(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(c){this.reject(c)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hg;case"linkViaPopup":case"linkViaRedirect":return fg;case"reauthViaPopup":case"reauthViaRedirect":return pg;default:ye(this.auth,"internal-error")}}resolve(e){Ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var hE=new rt(2e3,1e4);var mg="pendingRedirect",Mr=new Map,wo=class t extends Io{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return l(this,null,function*(){let e=Mr.get(this.auth._key());if(!e){try{let r=(yield gg(this.resolver,this.auth))?yield Fe(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Mr.set(this.auth._key(),e)}return this.bypassAuthState||Mr.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return l(this,null,function*(){if(e.type==="signInViaRedirect")return Fe(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Fe(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return l(this,null,function*(){})}cleanUp(){}};function gg(t,e){return l(this,null,function*(){let n=Rl(e),r=Al(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function vg(t,e){return l(this,null,function*(){return Al(t)._set(Rl(e),"true")})}function yg(t,e){Mr.set(t._key(),e)}function Al(t){return Ae(t._redirectPersistence)}function Rl(t){return Nr(mg,t.config.apiKey,t.name)}function Uo(t,e,n){return Ig(t,e,n)}function Ig(t,e,n){return l(this,null,function*(){let r=kn(t);ym(t,e,Rn),yield r._initializationPromise;let i=Cl(r,n);return yield vg(i,r),i._openRedirect(r,e,"signInViaRedirect")})}function Fo(t,e){return l(this,null,function*(){return yield kn(t)._initializationPromise,Ol(t,e,!1)})}function Ol(t,e,n=!1){return l(this,null,function*(){let r=kn(t),i=Cl(r,e),o=yield new wo(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var wg=10*60*1e3,Eo=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Eg(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Pl(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(nt(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=wg&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xu(e))}saveEventToCache(e){this.cachedEventUids.add(Xu(e)),this.lastProcessedEventTime=Date.now()}};function Xu(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Pl({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Eg(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Pl(t);default:return!1}}function _g(n){return l(this,arguments,function*(t,e={}){return xt(t,"GET","/v1/projects",e)})}var bg=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Tg=/^https?/;function Sg(t){return l(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield _g(t);for(let n of e)try{if(Cg(n))return}catch{}ye(t,"unauthorized-domain")})}function Cg(t){let e=co(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Tg.test(n))return!1;if(bg.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var Ag=new rt(3e4,6e4);function Zu(){let t=ve().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Rg(t){return new Promise((e,n)=>{var r,i,s;function o(){Zu(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Zu(),n(nt(t,"network-request-failed"))},timeout:Ag.get()})}if(!((i=(r=ve().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ve().gapi)===null||s===void 0)&&s.load)o();else{let a=vl("iframefcb");return ve()[a]=()=>{gapi.load?o():n(nt(t,"network-request-failed"))},$m(`${Vm()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Lr=null,e})}var Lr=null;function Og(t){return Lr=Lr||Rg(t),Lr}var Pg=new rt(5e3,15e3),kg="__/auth/iframe",Dg="emulator/auth/iframe",Ng={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Mg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Lg(t){let e=t.config;I(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?So(e,Dg):`https://${t.config.authDomain}/${kg}`,r={apiKey:e.apiKey,appName:t.name,v:Dt},i=Mg.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ot(r).slice(1)}`}function xg(t){return l(this,null,function*(){let e=yield Og(t),n=ve().gapi;return I(n,t,"internal-error"),e.open({where:document.body,url:Lg(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ng,dontclear:!0},r=>new Promise((i,s)=>l(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=nt(t,"network-request-failed"),a=ve().setTimeout(()=>{s(o)},Pg.get());function u(){ve().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var Ug={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Fg=500,jg=600,$g="_blank",Vg="http://localhost",Kr=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Hg(t,e,n,r=Fg,i=jg){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},Ug),{width:r.toString(),height:i.toString(),top:s,left:o}),c=W().toLowerCase();n&&(a=ll(c)?$g:n),ul(c)&&(e=e||Vg,u.scrollbars="yes");let d=Object.entries(u).reduce((p,[S,B])=>`${p}${S}=${B},`,"");if(Mm(c)&&a!=="_self")return Wg(e||"",a),new Kr(null);let h=window.open(e||"",a,d);I(h,t,"popup-blocked");try{h.focus()}catch{}return new Kr(h)}function Wg(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var zg="__/auth/handler",Bg="emulator/auth/handler",Gg=encodeURIComponent("fac");function Qu(t,e,n,r,i,s){return l(this,null,function*(){I(t.config.authDomain,t,"auth-domain-config-required"),I(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Dt,eventId:i};if(e instanceof Rn){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Cu(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,h]of Object.entries(s||{}))o[d]=h}if(e instanceof zr){let d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let u=yield t._getAppCheckToken(),c=u?`#${Gg}=${encodeURIComponent(u)}`:"";return`${qg(t)}?${Ot(a).slice(1)}${c}`})}function qg({config:t}){return t.emulator?So(t,Bg):`https://${t.authDomain}/${zg}`}var ao="webStorageSupport",_o=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xo,this._completeRedirectFn=Ol,this._overrideRedirectResult=yg}_openPopup(e,n,r,i){return l(this,null,function*(){var s;Ue((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield Qu(e,n,r,co(),i);return Hg(e,o,El())})}_openRedirect(e,n,r,i){return l(this,null,function*(){yield this._originValidation(e);let s=yield Qu(e,n,r,co(),i);return ng(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ue(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return l(this,null,function*(){let n=yield xg(e),r=new Eo(e);return n.register("authEvent",i=>(I(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ao,{type:ao},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[ao];o!==void 0&&n(!!o),ye(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Sg(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ml()||Po()||Yr()}},kl=_o;var el="@firebase/auth",tl="1.6.1";var bo=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return l(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){I(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Kg(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Yg(t){kt(new me("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;I(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gl(t)},c=new mo(r,i,s,u);return Hm(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),kt(new me("auth-internal",e=>{let n=kn(e.getProvider("auth").getImmediate());return(r=>new bo(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Y(el,tl,Kg(t)),Y(el,tl,"esm2017")}var Jg=5*60,Xg=$s("authIdTokenMaxAge")||Jg,nl=null,Zg=t=>e=>l(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Xg)return;let i=n?.token;nl!==i&&(nl=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function jo(t=Sr()){let e=to(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Do(t,{popupRedirectResolver:kl,persistence:[Sl,wl,xo]}),r=$s("authTokenSyncURL");if(r){let s=Zg(r);Lo(n,s,()=>s(n.currentUser)),Mo(n,o=>s(o))}let i=Iu("auth");return i&&No(n,`http://${i}`),n}function Qg(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}jm({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=nt("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Qg().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Yg("Browser");var Dl="auth",st=class{constructor(e){return e}},$o=class{constructor(){return io(Dl)}};var Vo=new k("angularfire2.auth-instances");function Bv(t,e){let n=Vu(Dl,t,e);return n&&new st(n)}function Gv(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new st(r)}}var qv={provide:$o,deps:[[new Ie,Vo]]},Kv={provide:st,useFactory:Bv,deps:[[new Ie,Vo],tt]},Yv=(()=>{class t{constructor(){Y("angularfire",_n.full,"auth")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Pe({type:t});static \u0275inj=Oe({providers:[Kv,qv]})}return t})();function Nl(t,...e){return{ngModule:Yv,providers:[{provide:Vo,useFactory:Gv(t),multi:!0,deps:[U,ue,Or,bn,[new Ie,Ar],...e]}]}}var Ml=Mt(jo,!0);var Ll=Mt(Fo,!0);var xl=Mt(Uo,!0);var Zr="robertly-idtoken",i_=(()=>{let e=class e{constructor(){this.http=f(ze),this.apiUrl=f(Ye),this.auth=f(st)}signIn(r){return this.http.post(`${this.apiUrl}/auth/signin`,r,{responseType:"text"}).pipe(P(i=>{localStorage.setItem(Zr,i)}))}signInWithGoogle(){return l(this,null,function*(){let r=new Jr;r.addScope("https://www.googleapis.com/auth/userinfo.email"),this.auth.useDeviceLanguage(),yield xl(this.auth,r)})}handleRedirectResult(){return l(this,null,function*(){try{let r=yield Ll(this.auth),s=Jr.credentialFromResult(r).accessToken,o=yield Ko(this.http.post(`${this.apiUrl}/auth/signup/google`,{accessToken:s},{responseType:"text"}));localStorage.setItem(Zr,o)}catch(r){let i=r,s=i.code,o=i.message,a=i.customData.email}})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ul(t,e){let n=localStorage.getItem(Zr);return n&&(t=t.clone({setHeaders:{Authorization:`Bearer ${n}`}})),e(t)}var Je={LOGS:"",STATS:"stats",EXERCISES:"exercises",SIGN_IN:"signin",SIGN_UP:"signup",DEVELOPER:"developer"},Jv=[{path:Je.EXERCISES,loadComponent:()=>import("./chunk-KIOYODBS.js").then(t=>t.ExercisesPageComponent)},{path:Je.STATS,loadComponent:()=>import("./chunk-HDQBI5YP.js").then(t=>t.StatsPageComponent)},{path:Je.SIGN_IN,loadComponent:()=>import("./chunk-F3XITBDF.js").then(t=>t.SignInComponent)},{path:Je.LOGS,pathMatch:"full",loadComponent:()=>import("./chunk-L2DIEPID.js").then(t=>t.ExerciseLogsPageComponent)},{path:Je.DEVELOPER,pathMatch:"full",loadComponent:()=>import("./chunk-QNBECGMR.js").then(t=>t.DeveloperPageComponent)}],Ye=new k("API_URL");bc(pu,{providers:[Kn,fu(),mc(gc([Ul])),su(Jv),oc("ngsw-worker.js",{enabled:!Aa()}),hi(Hu(()=>Wu({projectId:"gymtracker-b0b72",appId:"1:1063566206093:web:a3154a1ae143b91f05eec4",storageBucket:"gymtracker-b0b72.appspot.com",apiKey:"AIzaSyCA0ExS-7mRUULdk7CYFORL5zwYXd4lJ-E",authDomain:"gymtracker-b0b72.firebaseapp.com",messagingSenderId:"1063566206093"}))),hi(Nl(()=>Ml())),{provide:Ye,useValue:mu.apiUrl}]}).catch(t=>console.error(t));export{au as a,Zr as b,i_ as c,Je as d,Ye as e};
