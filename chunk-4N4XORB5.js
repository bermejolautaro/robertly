import{H as Wa,I as za,J as Ba,K as Ga,L as qa,M as Ka,N as Ya,O as Ja,P as Xa,Q as Za,a as Gt,aa as Qa,ba as ec,ca as tc,da as nc,ea as rc,fa as ic,j as Na,k as qt,m as Ma,n as Ri,o as La,p as xa,q as Z,r as Ua,s as O,u as Fa,v as ja,w as $a,x as Oi,y as Va,z as Ha}from"./chunk-RKATQ2FY.js";import{$ as ra,$b as zn,A as si,Aa as we,Ab as F,B as te,Ba as pi,C as oi,Ca as ca,D as Ln,Da as mt,Db as wa,E as ut,Ea as Ee,Eb as N,F as Xo,Fb as he,G as ai,Ga as ue,Gb as We,Ha as ua,I as lt,Ia as fi,Ib as Ea,J as dt,Ja as la,Jb as _a,K as z,Ka as ne,Kb as ba,La as da,Lb as vt,Ma as mi,Mb as Ta,N as ht,Na as $t,Nb as Wt,O as He,Oa as ha,Ob as Sa,P as Zo,Pa as gi,Q as ci,Qa as Fn,Qb as Vn,R as X,Ra as vi,Rb as Hn,S as Qo,Sa as jn,T as ea,Ta as pa,U as ui,Ub as zt,Vb as wi,W as pt,Wa as yi,Wb as Ca,X as Re,Xa as y,Xb as Bt,Y as li,Ya as le,Yb as Aa,Z as ta,Za as $n,Zb as Ei,_ as na,_b as Wn,a as m,ab as gt,ac as _i,b as M,ba as ia,bb as U,bc as bi,ca as j,cc as Ra,da as sa,dc as yt,e as je,ea as P,eb as fa,ec as Oa,f as l,fb as ma,fc as Bn,g as zo,gb as $,h as Bo,ha as x,hb as ga,hc as Ti,i as Ft,ia as _,ic as Pa,j as ti,ja as Oe,jc as ka,k as ni,ka as oa,kb as va,kc as H,l as J,la as di,lb as _e,lc as Si,m as ee,ma as k,mb as re,mc as Gn,n as Go,na as T,nb as ya,nc as qn,o as qo,oa as f,ob as Ii,oc as Kn,p as $e,pa as jt,pb as Vt,q as Mn,qa as ft,qb as Ht,qc as Yn,r as ri,ra as Pe,rb as b,s as ii,sa as xn,sb as w,sc as Da,t as K,tb as ie,tc as Ci,u as g,ua as Un,uc as Ai,v as Ve,va as G,vc as Jn,w as Ko,wa as q,wb as be,x as Yo,xa as hi,y as Jo,ya as aa,yb as Ia,z as v,za as Ie,zb as L}from"./chunk-E4QOSI7Y.js";var Yt="Service workers are disabled or not supported by this browser";function Wl(t){return ut(()=>Ve(new Error(t)))}var It=class{constructor(e){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=Wl(Yt);else{let r=ai(e,"controllerchange").pipe(v(()=>e.controller)),i=ut(()=>g(e.controller)),s=Ln(i,r);this.worker=s.pipe(z(d=>!!d)),this.registration=this.worker.pipe(j(()=>e.getRegistration()));let c=ai(e,"message").pipe(v(d=>d.data)).pipe(z(d=>d&&d.type)).pipe(na());c.connect(),this.events=c}}postMessage(e,n){return this.worker.pipe(X(1),P(r=>{r.postMessage(m({action:e},n))})).toPromise().then(()=>{})}postMessageWithOperation(e,n,r){let i=this.waitForOperationCompleted(r),s=this.postMessage(e,n);return Promise.all([s,i]).then(([,o])=>o)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(e){let n;return typeof e=="string"?n=r=>r.type===e:n=r=>e.includes(r.type),this.events.pipe(z(n))}nextEventOfType(e){return this.eventsOfType(e).pipe(X(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(z(n=>n.nonce===e),X(1),v(n=>{if(n.result!==void 0)return n.result;throw new Error(n.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},zl=(()=>{let e=class e{get isEnabled(){return this.sw.isEnabled}constructor(r){if(this.sw=r,this.pushManager=null,this.subscriptionChanges=new J,!r.isEnabled){this.messages=dt,this.notificationClicks=dt,this.subscription=dt;return}this.messages=this.sw.eventsOfType("PUSH").pipe(v(s=>s.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(v(s=>s.data)),this.pushManager=this.sw.registration.pipe(v(s=>s.pushManager));let i=this.pushManager.pipe(j(s=>s.getSubscription()));this.subscription=lt(i,this.subscriptionChanges)}requestSubscription(r){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(Yt));let i={userVisibleOnly:!0},s=this.decodeBase64(r.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(s.length));for(let a=0;a<s.length;a++)o[a]=s.charCodeAt(a);return i.applicationServerKey=o,this.pushManager.pipe(j(a=>a.subscribe(i)),X(1)).toPromise().then(a=>(this.subscriptionChanges.next(a),a))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(Yt));let r=i=>{if(i===null)throw new Error("Not subscribed to push notifications.");return i.unsubscribe().then(s=>{if(!s)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(X(1),j(r)).toPromise()}decodeBase64(r){return atob(r)}};e.\u0275fac=function(i){return new(i||e)(T(It))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),Pi=(()=>{let e=class e{get isEnabled(){return this.sw.isEnabled}constructor(r){if(this.sw=r,!r.isEnabled){this.versionUpdates=dt,this.unrecoverable=dt;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Yt));let r=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:r},r)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Yt));let r=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:r},r)}};e.\u0275fac=function(i){return new(i||e)(T(It))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})();var sc=new k("NGSW_REGISTER_SCRIPT");function Bl(t,e,n,r){return()=>{if(!(Ci(r)&&"serviceWorker"in navigator&&n.enabled!==!1))return;navigator.serviceWorker.addEventListener("controllerchange",()=>{navigator.serviceWorker.controller!==null&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})});let i;if(typeof n.registrationStrategy=="function")i=n.registrationStrategy();else{let[o,...a]=(n.registrationStrategy||"registerWhenStable:30000").split(":");switch(o){case"registerImmediately":i=g(null);break;case"registerWithDelay":i=oc(+a[0]||0);break;case"registerWhenStable":i=a[0]?lt(ac(t),oc(+a[0])):ac(t);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${n.registrationStrategy}`)}}t.get(U).runOutsideAngular(()=>i.pipe(X(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:n.scope}).catch(o=>console.error("Service worker registration failed with:",o))))}}function oc(t){return g(null).pipe(ea(t))}function ac(t){return t.get(yt).isStable.pipe(z(n=>n))}function Gl(t,e){return new It(Ci(e)&&t.enabled!==!1?navigator.serviceWorker:void 0)}var Kt=class{};function cc(t,e={}){return we([zl,Pi,{provide:sc,useValue:t},{provide:Kt,useValue:e},{provide:It,useFactory:Gl,deps:[Kt,ne]},{provide:Ei,useFactory:Bl,deps:[ue,sc,Kt,ne],multi:!0}])}var Xt=class{},Zn=class{},ze=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Di=class{encodeKey(e){return uc(e)}encodeValue(e){return uc(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function Xl(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=n.get(o)||[];u.push(a),n.set(o,u)}),n}var Zl=/%(\d[a-f0-9])/gi,Ql={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function uc(t){return encodeURIComponent(t).replace(Zl,(e,n)=>Ql[n]??e)}function Xn(t){return`${t}`}var ke=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Di,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Xl(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(Xn):[Xn(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Xn(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Xn(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Ni=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function ed(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function lc(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function dc(t){return typeof Blob<"u"&&t instanceof Blob}function hc(t){return typeof FormData<"u"&&t instanceof FormData}function td(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Jt=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(ed(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers||(this.headers=new ze),this.context||(this.context=new Ni),!this.params)this.params=new ke,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),u=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+u+o}}}serializeBody(){return this.body===null?null:lc(this.body)||dc(this.body)||hc(this.body)||td(this.body)||typeof this.body=="string"?this.body:this.body instanceof ke?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||hc(this.body)?null:dc(this.body)?this.body.type||null:lc(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof ke?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.body!==void 0?e.body:this.body,o=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,a=e.reportProgress!==void 0?e.reportProgress:this.reportProgress,u=e.headers||this.headers,c=e.params||this.params,d=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((h,p)=>h.set(p,e.setHeaders[p]),u)),e.setParams&&(c=Object.keys(e.setParams).reduce((h,p)=>h.set(p,e.setParams[p]),c)),new t(n,r,s,{params:c,headers:u,context:d,reportProgress:a,responseType:i,withCredentials:o})}},wt=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(wt||{}),Zt=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new ze,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Mi=class t extends Zt{constructor(e={}){super(e),this.type=wt.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Qn=class t extends Zt{constructor(e={}){super(e),this.type=wt.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},er=class extends Zt{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}};function ki(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Be=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,s={}){let o;if(r instanceof Jt)o=r;else{let c;s.headers instanceof ze?c=s.headers:c=new ze(s.headers);let d;s.params&&(s.params instanceof ke?d=s.params:d=new ke({fromObject:s.params})),o=new Jt(r,i,s.body!==void 0?s.body:null,{headers:c,context:s.context,params:d,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=g(o).pipe(He(c=>this.handler.handle(c)));if(r instanceof Jt||s.observe==="events")return a;let u=a.pipe(z(c=>c instanceof Qn));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return u.pipe(v(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return u.pipe(v(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return u.pipe(v(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return u.pipe(v(c=>c.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new ke().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,ki(s,i))}post(r,i,s={}){return this.request("POST",r,ki(s,i))}put(r,i,s={}){return this.request("PUT",r,ki(s,i))}};e.\u0275fac=function(i){return new(i||e)(T(Xt))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})();function nd(t,e){return e(t)}function rd(t,e,n){return(r,i)=>Ee(n,()=>e(r,s=>t(s,i)))}var Li=new k(""),id=new k(""),sd=new k("");var pc=(()=>{let e=class e extends Xt{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=f(zn);let s=f(sd,{optional:!0});this.backend=s??r}handle(r){if(this.chain===null){let s=Array.from(new Set([...this.injector.get(Li),...this.injector.get(id,[])]));this.chain=s.reduceRight((o,a)=>rd(o,a,this.injector),nd)}let i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(pt(()=>this.pendingTasks.remove(i)))}};e.\u0275fac=function(i){return new(i||e)(T(Zn),T(mt))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})();var od=/^\)\]\}',?\n/;function ad(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var fc=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new x(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?K(i.\u0275loadImpl()):g(null)).pipe(j(()=>new Ft(o=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((A,C)=>a.setRequestHeader(A,C.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let A=r.detectContentTypeHeader();A!==null&&a.setRequestHeader("Content-Type",A)}if(r.responseType){let A=r.responseType.toLowerCase();a.responseType=A!=="json"?A:"text"}let u=r.serializeBody(),c=null,d=()=>{if(c!==null)return c;let A=a.statusText||"OK",C=new ze(a.getAllResponseHeaders()),ce=ad(a)||r.url;return c=new Mi({headers:C,status:a.status,statusText:A,url:ce}),c},h=()=>{let{headers:A,status:C,statusText:ce,url:at}=d(),V=null;C!==204&&(V=typeof a.response>"u"?a.responseText:a.response),C===0&&(C=V?200:0);let ct=C>=200&&C<300;if(r.responseType==="json"&&typeof V=="string"){let Ut=V;V=V.replace(od,"");try{V=V!==""?JSON.parse(V):null}catch(Nn){V=Ut,ct&&(ct=!1,V={error:Nn,text:V})}}ct?(o.next(new Qn({body:V,headers:A,status:C,statusText:ce,url:at||void 0})),o.complete()):o.error(new er({error:V,headers:A,status:C,statusText:ce,url:at||void 0}))},p=A=>{let{url:C}=d(),ce=new er({error:A,status:a.status||0,statusText:a.statusText||"Unknown Error",url:C||void 0});o.error(ce)},S=!1,B=A=>{S||(o.next(d()),S=!0);let C={type:wt.DownloadProgress,loaded:A.loaded};A.lengthComputable&&(C.total=A.total),r.responseType==="text"&&a.responseText&&(C.partialText=a.responseText),o.next(C)},ae=A=>{let C={type:wt.UploadProgress,loaded:A.loaded};A.lengthComputable&&(C.total=A.total),o.next(C)};return a.addEventListener("load",h),a.addEventListener("error",p),a.addEventListener("timeout",p),a.addEventListener("abort",p),r.reportProgress&&(a.addEventListener("progress",B),u!==null&&a.upload&&a.upload.addEventListener("progress",ae)),a.send(u),o.next({type:wt.Sent}),()=>{a.removeEventListener("error",p),a.removeEventListener("abort",p),a.removeEventListener("load",h),a.removeEventListener("timeout",p),r.reportProgress&&(a.removeEventListener("progress",B),u!==null&&a.upload&&a.upload.removeEventListener("progress",ae)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(T(Jn))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),mc=new k("XSRF_ENABLED"),cd="XSRF-TOKEN",ud=new k("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>cd}),ld="X-XSRF-TOKEN",dd=new k("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>ld}),tr=class{},hd=(()=>{let e=class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=qn(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(T(H),T(ne),T(ud))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})();function pd(t,e){let n=t.url.toLowerCase();if(!f(mc)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=f(tr).getToken(),i=f(dd);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var gc=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(gc||{});function fd(t,e){return{\u0275kind:t,\u0275providers:e}}function vc(...t){let e=[Be,fc,pc,{provide:Xt,useExisting:pc},{provide:Zn,useExisting:fc},{provide:Li,useValue:pd,multi:!0},{provide:mc,useValue:!0},{provide:tr,useClass:hd}];for(let n of t)e.push(...n.\u0275providers);return we(e)}function yc(t){return fd(gc.Interceptors,t.map(e=>({provide:Li,useValue:e,multi:!0})))}var Fi=class extends ka{constructor(){super(...arguments),this.supportsDOMEvents=!0}},ji=class t extends Fi{static makeCurrent(){Pa(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=gd();return n==null?null:vd(n)}resetBaseElement(){Qt=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return qn(document.cookie,e)}},Qt=null;function gd(){return Qt=Qt||document.querySelector("base"),Qt?Qt.getAttribute("href"):null}function vd(t){return new URL(t,"http://a").pathname}var yd=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),$i=new k("EventManagerPlugins"),Ec=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new x(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(T($i),T(U))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),nr=class{constructor(e){this._doc=e}},xi="ng-app-id",_c=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ai(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${xi}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(xi),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(xi,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(T(H),T(fi),T(mi,8),T(ne))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),Ui={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Hi=/%COMP%/g,bc="%COMP%",Id=`_nghost-${bc}`,wd=`_ngcontent-${bc}`,Ed=!0,_d=new k("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>Ed});function bd(t){return wd.replace(Hi,t)}function Td(t){return Id.replace(Hi,t)}function Tc(t,e){return e.map(n=>n.replace(Hi,t))}var rr=(()=>{let e=class e{constructor(r,i,s,o,a,u,c,d=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=u,this.ngZone=c,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=Ai(u),this.defaultRenderer=new en(r,a,c,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===jt.ShadowDom&&(i=M(m({},i),{encapsulation:jt.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof ir?s.applyToHost(r):s instanceof tn&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,u=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(i.encapsulation){case jt.Emulated:o=new ir(c,d,i,this.appId,h,a,u,p);break;case jt.ShadowDom:return new Vi(c,d,r,i,a,u,this.nonce,p);default:o=new tn(c,d,i,h,a,u,p);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(T(Ec),T(_c),T(fi),T(_d),T(H),T(ne),T(U),T(mi))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),en=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Ui[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Ic(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Ic(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new x(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Ui[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Ui[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&($t.DashCase|$t.Important)?e.style.setProperty(n,r,i&$t.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&$t.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Ti().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function Ic(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Vi=class extends en{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=Tc(i.id,i.styles);for(let d of c){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=d,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},tn=class extends en{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?Tc(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},ir=class extends tn{constructor(e,n,r,i,s,o,a,u){let c=i+"-"+r.id;super(e,n,r,s,o,a,u,c),this.contentAttr=bd(c),this.hostAttr=Td(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},Sd=(()=>{let e=class e extends nr{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(T(H))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),wc=["alt","control","meta","shift"],Cd={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ad={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Rd=(()=>{let e=class e extends nr{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ti().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),wc.forEach(d=>{let h=i.indexOf(d);h>-1&&(i.splice(h,1),a+=d+".")}),a+=o,i.length!=0||o.length===0)return null;let c={};return c.domEventName=s,c.fullKey=a,c}static matchEventFullKeyCode(r,i){let s=Cd[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),wc.forEach(a=>{if(a!==s){let u=Ad[a];u(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(T(H))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})();function Sc(t,e){return Ra(m({rootComponent:t},Od(e)))}function Od(t){return{appProviders:[...Md,...t?.providers??[]],platformProviders:Nd}}function Pd(){ji.makeCurrent()}function kd(){return new yi}function Dd(){return ua(document),document}var Nd=[{provide:ne,useValue:Da},{provide:la,useValue:Pd,multi:!0},{provide:H,useFactory:Dd,deps:[]}];var Md=[{provide:ca,useValue:"root"},{provide:yi,useFactory:kd,deps:[]},{provide:$i,useClass:Sd,multi:!0,deps:[H,U,ne]},{provide:$i,useClass:Rd,multi:!0,deps:[H]},rr,_c,Ec,{provide:Fn,useExisting:rr},{provide:Jn,useClass:yd,deps:[]},[]];function Ld(){return new Wi(T(H))}var Wi=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(T(H))},e.\u0275prov=_({token:e,factory:function(i){let s=null;return i?s=new i:s=Ld(),s},providedIn:"root"});let t=e;return t})();var E="primary",vn=Symbol("RouteTitle"),Ki=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function St(t){return new Ki(t)}function Ud(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Fd(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!pe(t[n],e[n]))return!1;return!0}function pe(t,e){let n=t?Yi(t):void 0,r=e?Yi(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Dc(t[i],e[i]))return!1;return!0}function Yi(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Dc(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function Nc(t){return t.length>0?t[t.length-1]:null}function Me(t){return Ko(t)?t:Ia(t)?K(Promise.resolve(t)):g(t)}var jd={exact:Lc,subset:xc},Mc={exact:$d,subset:Vd,ignored:()=>!0};function Cc(t,e,n){return jd[n.paths](t.root,e.root,n.matrixParams)&&Mc[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function $d(t,e){return pe(t,e)}function Lc(t,e,n){if(!qe(t.segments,e.segments)||!ar(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!Lc(t.children[r],e.children[r],n))return!1;return!0}function Vd(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Dc(t[n],e[n]))}function xc(t,e,n){return Uc(t,e,e.segments,n)}function Uc(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!qe(i,n)||e.hasChildren()||!ar(i,n,r))}else if(t.segments.length===n.length){if(!qe(t.segments,n)||!ar(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!xc(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!qe(t.segments,i)||!ar(t.segments,i,r)||!t.children[E]?!1:Uc(t.children[E],e,s,r)}}function ar(t,e,n){return e.every((r,i)=>Mc[n](t[i].parameters,r.parameters))}var De=class{constructor(e=new R([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=St(this.queryParams)),this._queryParamMap}toString(){return zd.serialize(this)}},R=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cr(this)}},Ge=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=St(this.parameters)),this._parameterMap}toString(){return jc(this)}};function Hd(t,e){return qe(t,e)&&t.every((n,r)=>pe(n.parameters,e[r].parameters))}function qe(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function Wd(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===E&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==E&&(n=n.concat(e(i,r)))}),n}var ws=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:()=>(()=>new lr)(),providedIn:"root"});let t=e;return t})(),lr=class{parse(e){let n=new Xi(e);return new De(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${nn(e.root,!0)}`,r=qd(e.queryParams),i=typeof e.fragment=="string"?`#${Bd(e.fragment)}`:"";return`${n}${r}${i}`}},zd=new lr;function cr(t){return t.segments.map(e=>jc(e)).join("/")}function nn(t,e){if(!t.hasChildren())return cr(t);if(e){let n=t.children[E]?nn(t.children[E],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==E&&r.push(`${i}:${nn(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=Wd(t,(r,i)=>i===E?[nn(t.children[E],!1)]:[`${i}:${nn(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[E]!=null?`${cr(t)}/${n[0]}`:`${cr(t)}/(${n.join("//")})`}}function Fc(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function sr(t){return Fc(t).replace(/%3B/gi,";")}function Bd(t){return encodeURI(t)}function Ji(t){return Fc(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ur(t){return decodeURIComponent(t)}function Ac(t){return ur(t.replace(/\+/g,"%20"))}function jc(t){return`${Ji(t.path)}${Gd(t.parameters)}`}function Gd(t){return Object.keys(t).map(e=>`;${Ji(e)}=${Ji(t[e])}`).join("")}function qd(t){let e=Object.keys(t).map(n=>{let r=t[n];return Array.isArray(r)?r.map(i=>`${sr(n)}=${sr(i)}`).join("&"):`${sr(n)}=${sr(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}var Kd=/^[^\/()?;#]+/;function zi(t){let e=t.match(Kd);return e?e[0]:""}var Yd=/^[^\/()?;=#]+/;function Jd(t){let e=t.match(Yd);return e?e[0]:""}var Xd=/^[^=?&#]+/;function Zd(t){let e=t.match(Xd);return e?e[0]:""}var Qd=/^[^&#]+/;function eh(t){let e=t.match(Qd);return e?e[0]:""}var Xi=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new R([],{}):new R([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[E]=new R(e,n)),r}parseSegment(){let e=zi(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new x(4009,!1);return this.capture(e),new Ge(ur(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=Jd(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=zi(this.remaining);i&&(r=i,this.capture(r))}e[ur(n)]=ur(r)}parseQueryParam(e){let n=Zd(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=eh(this.remaining);o&&(r=o,this.capture(r))}let i=Ac(n),s=Ac(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=zi(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new x(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=E);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[E]:new R([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new x(4011,!1)}};function $c(t){return t.segments.length>0?new R([],{[E]:t}):t}function Vc(t){let e={};for(let r of Object.keys(t.children)){let i=t.children[r],s=Vc(i);if(r===E&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new R(t.segments,e);return th(n)}function th(t){if(t.numberOfChildren===1&&t.children[E]){let e=t.children[E];return new R(t.segments.concat(e.segments),e.children)}return t}function Ct(t){return t instanceof De}function nh(t,e,n=null,r=null){let i=Hc(t);return Wc(i,e,n,r)}function Hc(t){let e;function n(s){let o={};for(let u of s.children){let c=n(u);o[u.outlet]=c}let a=new R(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=$c(r);return e??i}function Wc(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Bi(i,i,i,n,r);let s=rh(e);if(s.toRoot())return Bi(i,i,new R([],{}),n,r);let o=ih(s,i,t),a=o.processChildren?on(o.segmentGroup,o.index,s.commands):Bc(o.segmentGroup,o.index,s.commands);return Bi(i,o.segmentGroup,a,n,r)}function dr(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function un(t){return typeof t=="object"&&t!=null&&t.outlets}function Bi(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,c])=>{s[u]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let o;t===e?o=n:o=zc(t,e,n);let a=$c(Vc(o));return new De(a,s,i)}function zc(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=zc(s,e,n)}),new R(t.segments,r)}var hr=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&dr(r[0]))throw new x(4003,!1);let i=r.find(un);if(i&&i!==Nc(r))throw new x(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function rh(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new hr(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,c])=>{a[u]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new hr(n,e,r)}var bt=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function ih(t,e,n){if(t.isAbsolute)return new bt(e,!0,0);if(!n)return new bt(e,!1,NaN);if(n.parent===null)return new bt(n,!0,0);let r=dr(t.commands[0])?0:1,i=n.segments.length-1+r;return sh(n,i,t.numberOfDoubleDots)}function sh(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new x(4005,!1);i=r.segments.length}return new bt(r,!1,i-s)}function oh(t){return un(t[0])?t[0].outlets:{[E]:t}}function Bc(t,e,n){if(t||(t=new R([],{})),t.segments.length===0&&t.hasChildren())return on(t,e,n);let r=ah(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new R(t.segments.slice(0,r.pathIndex),{});return s.children[E]=new R(t.segments.slice(r.pathIndex),t.children),on(s,0,i)}else return r.match&&i.length===0?new R(t.segments,{}):r.match&&!t.hasChildren()?Zi(t,e,n):r.match?on(t,0,i):Zi(t,e,n)}function on(t,e,n){if(n.length===0)return new R(t.segments,{});{let r=oh(n),i={};if(Object.keys(r).some(s=>s!==E)&&t.children[E]&&t.numberOfChildren===1&&t.children[E].segments.length===0){let s=on(t.children[E],e,n);return new R(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=Bc(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new R(t.segments,i)}}function ah(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(un(a))break;let u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&c&&typeof c=="object"&&c.outlets===void 0){if(!Oc(u,c,o))return s;r+=2}else{if(!Oc(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Zi(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(un(s)){let u=ch(s.outlets);return new R(r,u)}if(i===0&&dr(n[0])){let u=t.segments[e];r.push(new Ge(u.path,Rc(n[0]))),i++;continue}let o=un(s)?s.outlets[E]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&dr(a)?(r.push(new Ge(o,Rc(a))),i+=2):(r.push(new Ge(o,{})),i++)}return new R(r,{})}function ch(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Zi(new R([],{}),0,r))}),e}function Rc(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function Oc(t,e,n){return t==n.path&&pe(e,n.parameters)}var an="imperative",oe=class{constructor(e,n){this.id=e,this.url=n}},ln=class extends oe{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Te=class extends oe{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ne=class extends oe{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ke=class extends oe{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}},dn=class extends oe{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},pr=class extends oe{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qi=class extends oe{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},es=class extends oe{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ts=class extends oe{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ns=class extends oe{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rs=class{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},is=class{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ss=class{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},os=class{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},as=class{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},cs=class{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var hn=class{},pn=class{constructor(e){this.url=e}};var us=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new wr,this.attachRef=null}},wr=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new us,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),fr=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=ls(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=ls(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=ds(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return ds(e,this._root).map(n=>n.value)}};function ls(t,e){if(t===e.value)return e;for(let n of e.children){let r=ls(t,n);if(r)return r}return null}function ds(t,e){if(t===e.value)return[e];for(let n of e.children){let r=ds(t,n);if(r.length)return r.unshift(e),r}return[]}var Q=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function _t(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var mr=class extends fr{constructor(e,n){super(e),this.snapshot=n,_s(this,e)}toString(){return this.snapshot.toString()}};function Gc(t,e){let n=uh(t,e),r=new ee([new Ge("",{})]),i=new ee({}),s=new ee({}),o=new ee({}),a=new ee(""),u=new Ye(r,i,o,a,s,E,e,n.root);return u.snapshot=n.root,new mr(new Q(u,[]),n)}function uh(t,e){let n={},r={},i={},s="",o=new fn([],n,i,s,r,E,e,null,{});return new gr("",new Q(o,[]))}var Ye=class{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(v(c=>c[vn]))??g(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(v(e=>St(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(v(e=>St(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Es(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:m(m({},e.params),t.params),data:m(m({},e.data),t.data),resolve:m(m(m(m({},t.data),e.data),i?.data),t._resolvedData)}:r={params:t.params,data:t.data,resolve:m(m({},t.data),t._resolvedData??{})},i&&Kc(i)&&(r.resolve[vn]=i.title),r}var fn=class{get title(){return this.data?.[vn]}constructor(e,n,r,i,s,o,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=St(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=St(this.queryParams)),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},gr=class extends fr{constructor(e,n){super(n),this.url=e,_s(this,n)}toString(){return qc(this._root)}};function _s(t,e){e.value._routerState=t,e.children.forEach(n=>_s(t,n))}function qc(t){let e=t.children.length>0?` { ${t.children.map(qc).join(", ")} } `:"";return`${t.value}${e}`}function Gi(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,pe(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),pe(e.params,n.params)||t.paramsSubject.next(n.params),Fd(e.url,n.url)||t.urlSubject.next(n.url),pe(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function hs(t,e){let n=pe(t.params,e.params)&&Hd(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||hs(t.parent,e.parent))}function Kc(t){return typeof t.title=="string"||t.title===null}var bs=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=E,this.activateEvents=new gt,this.deactivateEvents=new gt,this.attachEvents=new gt,this.detachEvents=new gt,this.parentContexts=f(wr),this.location=f(va),this.changeDetector=f($n),this.environmentInjector=f(mt),this.inputBinder=f(Ts,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new x(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new x(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new x(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new x(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,c=new ps(r,u,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=xn({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Un]});let t=e;return t})(),ps=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Ye?this.route:e===wr?this.childContexts:this.parent.get(e,n)}},Ts=new k("");function lh(t,e,n){let r=mn(t,e._root,n?n._root:void 0);return new mr(r,e)}function mn(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=dh(t,e,n);return new Q(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>mn(t,a)),o}}let r=hh(e.value),i=e.children.map(s=>mn(t,s));return new Q(r,i)}}function dh(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return mn(t,r,i);return mn(t,r)})}function hh(t){return new Ye(new ee(t.url),new ee(t.params),new ee(t.queryParams),new ee(t.fragment),new ee(t.data),t.outlet,t.component,t)}var Yc="ngNavigationCancelingError";function Jc(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Ct(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Xc(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function Xc(t,e,n){let r=new Error("NavigationCancelingError: "+(t||""));return r[Yc]=!0,r.cancellationCode=e,n&&(r.url=n),r}function ph(t){return Zc(t)&&Ct(t.url)}function Zc(t){return t&&t[Yc]}var fh=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ft({type:e,selectors:[["ng-component"]],standalone:!0,features:[vt],decls:1,vars:0,template:function(i,s){i&1&&ie(0,"router-outlet")},dependencies:[bs],encapsulation:2});let t=e;return t})();function mh(t,e){return t.providers&&!t._injector&&(t._injector=ba(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Ss(t){let e=t.children&&t.children.map(Ss),n=e?M(m({},t),{children:e}):m({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==E&&(n.component=fh),n}function fe(t){return t.outlet||E}function gh(t,e){let n=t.filter(r=>fe(r)===e);return n.push(...t.filter(r=>fe(r)!==e)),n}function yn(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var vh=(t,e,n,r)=>v(i=>(new fs(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),fs=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Gi(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=_t(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=_t(e);for(let o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=_t(e);for(let o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=_t(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new cs(s.value.snapshot))}),e.children.length&&this.forwardEvent(new os(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Gi(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Gi(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=yn(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},vr=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Tt=class{constructor(e,n){this.component=e,this.route=n}};function yh(t,e,n){let r=t._root,i=e?e._root:null;return rn(r,i,n,[r.value])}function Ih(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Rt(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!oa(t)?t:e.get(t):r}function rn(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=_t(e);return t.children.forEach(o=>{wh(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>cn(a,n.getContext(o),i)),i}function wh(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=Eh(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new vr(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?rn(t,e,a?a.children:null,r,i):rn(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Tt(a.outlet.component,o))}else o&&cn(e,a,i),i.canActivateChecks.push(new vr(r)),s.component?rn(t,null,a?a.children:null,r,i):rn(t,null,n,r,i);return i}function Eh(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!qe(t.url,e.url);case"pathParamsOrQueryParamsChange":return!qe(t.url,e.url)||!pe(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hs(t,e)||!pe(t.queryParams,e.queryParams);case"paramsChange":default:return!hs(t,e)}}function cn(t,e,n){let r=_t(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?cn(o,e.children.getContext(s),n):cn(o,null,n):cn(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Tt(e.outlet.component,i)):n.canDeactivateChecks.push(new Tt(null,i)):n.canDeactivateChecks.push(new Tt(null,i))}function In(t){return typeof t=="function"}function _h(t){return typeof t=="boolean"}function bh(t){return t&&In(t.canLoad)}function Th(t){return t&&In(t.canActivate)}function Sh(t){return t&&In(t.canActivateChild)}function Ch(t){return t&&In(t.canDeactivate)}function Ah(t){return t&&In(t.canMatch)}function Qc(t){return t instanceof Yo||t?.name==="EmptyError"}var or=Symbol("INITIAL_VALUE");function At(){return j(t=>si(t.map(e=>e.pipe(X(1),ia(or)))).pipe(v(e=>{for(let n of e)if(n!==!0){if(n===or)return or;if(n===!1||n instanceof De)return n}return!0}),z(e=>e!==or),X(1)))}function Rh(t,e){return te(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?g(M(m({},n),{guardsResult:!0})):Oh(o,r,i,t).pipe(te(a=>a&&_h(a)?Ph(r,s,t,e):g(a)),v(a=>M(m({},n),{guardsResult:a})))})}function Oh(t,e,n,r){return K(t).pipe(te(i=>Lh(i.component,i.route,n,e,r)),Re(i=>i!==!0,!0))}function Ph(t,e,n,r){return K(e).pipe(He(i=>Ln(Dh(i.route.parent,r),kh(i.route,r),Mh(t,i.path,n),Nh(t,i.route,n))),Re(i=>i!==!0,!0))}function kh(t,e){return t!==null&&e&&e(new as(t)),g(!0)}function Dh(t,e){return t!==null&&e&&e(new ss(t)),g(!0)}function Nh(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return g(!0);let i=r.map(s=>ut(()=>{let o=yn(e)??n,a=Rt(s,o),u=Th(a)?a.canActivate(e,t):Ee(o,()=>a(e,t));return Me(u).pipe(Re())}));return g(i).pipe(At())}function Mh(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>Ih(o)).filter(o=>o!==null).map(o=>ut(()=>{let a=o.guards.map(u=>{let c=yn(o.node)??n,d=Rt(u,c),h=Sh(d)?d.canActivateChild(r,t):Ee(c,()=>d(r,t));return Me(h).pipe(Re())});return g(a).pipe(At())}));return g(s).pipe(At())}function Lh(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return g(!0);let o=s.map(a=>{let u=yn(e)??i,c=Rt(a,u),d=Ch(c)?c.canDeactivate(t,e,n,r):Ee(u,()=>c(t,e,n,r));return Me(d).pipe(Re())});return g(o).pipe(At())}function xh(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return g(!0);let s=i.map(o=>{let a=Rt(o,t),u=bh(a)?a.canLoad(e,n):Ee(t,()=>a(e,n));return Me(u)});return g(s).pipe(At(),eu(r))}function eu(t){return Bo(P(e=>{if(Ct(e))throw Jc(t,e)}),v(e=>e===!0))}function Uh(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return g(!0);let s=i.map(o=>{let a=Rt(o,t),u=Ah(a)?a.canMatch(e,n):Ee(t,()=>a(e,n));return Me(u)});return g(s).pipe(At(),eu(r))}var gn=class{constructor(e){this.segmentGroup=e||null}},yr=class extends Error{constructor(e){super(),this.urlTree=e}};function Et(t){return Ve(new gn(t))}function Fh(t){return Ve(new x(4e3,!1))}function jh(t){return Ve(Xc(!1,3))}var ms=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new x(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return g(r);if(i.numberOfChildren>1||!i.children[E])return Fh(e.redirectTo);i=i.children[E]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new yr(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new De(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new R(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new x(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},gs={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $h(t,e,n,r,i){let s=Cs(t,e,n);return s.matched?(r=mh(e,r),Uh(r,e,n,i).pipe(v(o=>o===!0?s:m({},gs)))):g(s)}function Cs(t,e,n){if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?m({},gs):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Ud)(n,t,e);if(!i)return m({},gs);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?m(m({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Pc(t,e,n,r){return n.length>0&&Wh(t,n,r)?{segmentGroup:new R(e,Hh(r,new R(n,t.children))),slicedSegments:[]}:n.length===0&&zh(t,n,r)?{segmentGroup:new R(t.segments,Vh(t,e,n,r,t.children)),slicedSegments:n}:{segmentGroup:new R(t.segments,t.children),slicedSegments:n}}function Vh(t,e,n,r,i){let s={};for(let o of r)if(Er(t,n,o)&&!i[fe(o)]){let a=new R([],{});s[fe(o)]=a}return m(m({},i),s)}function Hh(t,e){let n={};n[E]=e;for(let r of t)if(r.path===""&&fe(r)!==E){let i=new R([],{});n[fe(r)]=i}return n}function Wh(t,e,n){return n.some(r=>Er(t,e,r)&&fe(r)!==E)}function zh(t,e,n){return n.some(r=>Er(t,e,r))}function Er(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Bh(t,e,n,r){return fe(t)!==r&&(r===E||!Er(e,n,t))?!1:t.path==="**"?!0:Cs(e,t,n).matched}function Gh(t,e,n){return e.length===0&&!t.children[n]}var vs=class{};function qh(t,e,n,r,i,s,o="emptyOnly"){return new ys(t,e,n,r,i,o,s).recognize()}var Kh=31,ys=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new ms(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new x(4002,!1)}recognize(){let e=Pc(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(v(n=>{let r=new fn([],Object.freeze({}),Object.freeze(m({},this.urlTree.queryParams)),this.urlTree.fragment,{},E,this.rootComponentType,null,{}),i=new Q(r,n),s=new gr("",i),o=nh(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,E).pipe(ht(r=>{if(r instanceof yr)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof gn?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Es(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(v(s=>s instanceof Q?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return K(i).pipe(He(s=>{let o=r.children[s],a=gh(n,s);return this.processSegmentGroup(e,a,o,s)}),ra((s,o)=>(s.push(...o),s)),ci(null),ta(),te(s=>{if(s===null)return Et(r);let o=tu(s);return Yh(o),g(o)}))}processSegment(e,n,r,i,s,o){return K(n).pipe(He(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(ht(u=>{if(u instanceof gn)return g(null);throw u}))),Re(a=>!!a),ht(a=>{if(Qc(a))return Gh(r,i,s)?g(new vs):Et(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return Bh(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Et(i):Et(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:u,positionalParamSegments:c,remainingSegments:d}=i.path==="**"?kc(s):Cs(n,i,s);if(!a)return Et(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Kh&&(this.allowRedirects=!1));let h=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,c);return this.applyRedirects.lineralizeSegments(i,h).pipe(te(p=>this.processSegment(e,r,n,p.concat(d),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o;return r.path==="**"?(o=g(kc(i)),n.children={}):o=$h(n,r,i,e,this.urlSerializer),o.pipe(j(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(j(({routes:u})=>{let c=r._loadedInjector??e,{consumedSegments:d,remainingSegments:h,parameters:p}=a,S=new fn(d,p,Object.freeze(m({},this.urlTree.queryParams)),this.urlTree.fragment,Xh(r),fe(r),r.component??r._loadedComponent??null,r,Zh(r)),{segmentGroup:B,slicedSegments:ae}=Pc(n,d,h,u);if(ae.length===0&&B.hasChildren())return this.processChildren(c,u,B).pipe(v(C=>C===null?null:new Q(S,C)));if(u.length===0&&ae.length===0)return g(new Q(S,[]));let A=fe(r)===s;return this.processSegment(c,u,B,ae,A?E:s,!0).pipe(v(C=>new Q(S,C instanceof Q?[C]:[])))}))):Et(n)))}getChildConfig(e,n,r){return n.children?g({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?g({routes:n._loadedRoutes,injector:n._loadedInjector}):xh(e,n,r,this.urlSerializer).pipe(te(i=>i?this.configLoader.loadChildren(e,n).pipe(P(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):jh(n))):g({routes:[],injector:e})}};function Yh(t){t.sort((e,n)=>e.value.outlet===E?-1:n.value.outlet===E?1:e.value.outlet.localeCompare(n.value.outlet))}function Jh(t){let e=t.value.routeConfig;return e&&e.path===""}function tu(t){let e=[],n=new Set;for(let r of t){if(!Jh(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=tu(r.children);e.push(new Q(r.value,i))}return e.filter(r=>!n.has(r))}function Xh(t){return t.data||{}}function Zh(t){return t.resolve||{}}function kc(t){return{matched:!0,parameters:t.length>0?Nc(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Qh(t,e,n,r,i,s){return te(o=>qh(t,e,n,r,o.extractedUrl,i,s).pipe(v(({state:a,tree:u})=>M(m({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function ep(t,e){return te(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return g(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let c of nu(u))o.add(c);let a=0;return K(o).pipe(He(u=>s.has(u)?tp(u,r,t,e):(u.data=Es(u,u.parent,t).resolve,g(void 0))),P(()=>a++),li(1),te(u=>a===o.size?g(n):$e))})}function nu(t){let e=t.children.map(n=>nu(n)).flat();return[t,...e]}function tp(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!Kc(i)&&(s[vn]=i.title),np(s,t,e,r).pipe(v(o=>(t._resolvedData=o,t.data=Es(t,t.parent,n).resolve,null)))}function np(t,e,n,r){let i=Yi(t);if(i.length===0)return g({});let s={};return K(i).pipe(te(o=>rp(t[o],e,n,r).pipe(Re(),P(a=>{s[o]=a}))),li(1),Qo(s),ht(o=>Qc(o)?$e:Ve(o)))}function rp(t,e,n,r){let i=yn(e)??r,s=Rt(t,i),o=s.resolve?s.resolve(e,n):Ee(i,()=>s(e,n));return Me(o)}function qi(t){return j(e=>{let n=t(e);return n?K(n).pipe(v(()=>e)):g(e)})}var ru=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===E);return i}getResolvedTitleForRoute(r){return r.data[vn]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:()=>(()=>f(ip))(),providedIn:"root"});let t=e;return t})(),ip=(()=>{let e=class e extends ru{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(T(Wi))},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),As=new k("",{providedIn:"root",factory:()=>({})}),Rs=new k("ROUTES"),sp=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=f(_i)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return g(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Me(r.loadComponent()).pipe(v(iu),P(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),pt(()=>{this.componentLoaders.delete(r)})),s=new ni(i,()=>new J).pipe(ti());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return g({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=op(i,this.compiler,r,this.onLoadEndListener).pipe(pt(()=>{this.childrenLoaders.delete(i)})),a=new ni(o,()=>new J).pipe(ti());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function op(t,e,n,r){return Me(t.loadChildren()).pipe(v(iu),te(i=>i instanceof _a||Array.isArray(i)?g(i):K(e.compileModuleAsync(i))),v(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Rs,[],{optional:!0,self:!0}).flat()),{routes:o.map(Ss),injector:s}}))}function ap(t){return t&&typeof t=="object"&&"default"in t}function iu(t){return ap(t)?t.default:t}var Os=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:()=>(()=>f(cp))(),providedIn:"root"});let t=e;return t})(),cp=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),up=new k("");var lp=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new J,this.transitionAbortSubject=new J,this.configLoader=f(sp),this.environmentInjector=f(mt),this.urlSerializer=f(ws),this.rootContexts=f(wr),this.location=f(Gn),this.inputBindingEnabled=f(Ts,{optional:!0})!==null,this.titleStrategy=f(ru),this.options=f(As,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=f(Os),this.createViewTransition=f(up,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>g(void 0),this.rootComponentType=null;let r=s=>this.events.next(new rs(s)),i=s=>this.events.next(new is(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(M(m(m({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new ee({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:an,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(z(o=>o.id!==0),v(o=>M(m({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),j(o=>{this.currentTransition=o;let a=!1,u=!1;return g(o).pipe(P(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?M(m({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),j(c=>{let d=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=c.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!d&&h!=="reload"){let p="";return this.events.next(new Ke(c.id,this.urlSerializer.serialize(c.rawUrl),p,0)),c.resolve(null),$e}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return g(c).pipe(j(p=>{let S=this.transitions?.getValue();return this.events.next(new ln(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),S!==this.transitions?.getValue()?$e:Promise.resolve(p)}),Qh(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),P(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=M(m({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let S=new pr(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(S)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:p,extractedUrl:S,source:B,restoredState:ae,extras:A}=c,C=new ln(p,this.urlSerializer.serialize(S),B,ae);this.events.next(C);let ce=Gc(S,this.rootComponentType).snapshot;return this.currentTransition=o=M(m({},c),{targetSnapshot:ce,urlAfterRedirects:S,extras:M(m({},A),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=S,g(o)}else{let p="";return this.events.next(new Ke(c.id,this.urlSerializer.serialize(c.extractedUrl),p,1)),c.resolve(null),$e}}),P(c=>{let d=new Qi(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),v(c=>(this.currentTransition=o=M(m({},c),{guards:yh(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),Rh(this.environmentInjector,c=>this.events.next(c)),P(c=>{if(o.guardsResult=c.guardsResult,Ct(c.guardsResult))throw Jc(this.urlSerializer,c.guardsResult);let d=new es(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(d)}),z(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",3),!1)),qi(c=>{if(c.guards.canActivateChecks.length)return g(c).pipe(P(d=>{let h=new ts(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}),j(d=>{let h=!1;return g(d).pipe(ep(this.paramsInheritanceStrategy,this.environmentInjector),P({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(d,"",2)}}))}),P(d=>{let h=new ns(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}))}),qi(c=>{let d=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(P(S=>{h.component=S}),v(()=>{})));for(let S of h.children)p.push(...d(S));return p};return si(d(c.targetSnapshot.root)).pipe(ci(),X(1))}),qi(()=>this.afterPreactivation()),j(()=>{let{currentSnapshot:c,targetSnapshot:d}=o,h=this.createViewTransition?.(this.environmentInjector,c.root,d.root);return h?K(h).pipe(v(()=>o)):g(o)}),v(c=>{let d=lh(r.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=M(m({},c),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),P(()=>{this.events.next(new hn)}),vh(this.rootContexts,r.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),X(1),P({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Te(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),sa(this.transitionAbortSubject.pipe(P(c=>{throw c}))),pt(()=>{if(!a&&!u){let c="";this.cancelNavigationTransition(o,c,1)}this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),ht(c=>{if(u=!0,Zc(c))this.events.next(new Ne(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),ph(c)?this.events.next(new pn(c.url)):o.resolve(!1);else{this.events.next(new dn(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(c))}catch(d){o.reject(d)}}return $e}))}))}cancelNavigationTransition(r,i,s){let o=new Ne(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function dp(t){return t!==an}var hp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:()=>(()=>f(pp))(),providedIn:"root"});let t=e;return t})(),Is=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},pp=(()=>{let e=class e extends Is{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=hi(e)))(s||e)}})(),e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),su=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:()=>(()=>f(fp))(),providedIn:"root"});let t=e;return t})(),fp=(()=>{let e=class e extends su{constructor(){super(...arguments),this.location=f(Gn),this.urlSerializer=f(ws),this.options=f(As,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=f(Os),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new De,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Gc(this.currentUrlTree,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof ln)this.stateMemento=this.createStateMemento();else if(r instanceof Ke)this.rawUrlTree=i.initialUrl;else if(r instanceof pr){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof hn?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Ne&&(r.code===3||r.code===2)?this.restoreHistory(i):r instanceof dn?this.restoreHistory(i,!0):r instanceof Te&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=m(m({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=m(m({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=hi(e)))(s||e)}})(),e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),sn=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(sn||{});function mp(t,e){t.events.pipe(z(n=>n instanceof Te||n instanceof Ne||n instanceof dn||n instanceof Ke),v(n=>n instanceof Te||n instanceof Ke?sn.COMPLETE:(n instanceof Ne?n.code===0||n.code===1:!1)?sn.REDIRECTING:sn.FAILED),z(n=>n!==sn.REDIRECTING),X(1)).subscribe(()=>{e()})}function gp(t){throw t}var vp={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},yp={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},_r=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=f(Wn),this.stateManager=f(su),this.options=f(As,{optional:!0})||{},this.pendingTasks=f(zn),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=f(lp),this.urlSerializer=f(ws),this.location=f(Gn),this.urlHandlingStrategy=f(Os),this._events=new J,this.errorHandler=this.options.errorHandler||gp,this.navigated=!1,this.routeReuseStrategy=f(hp),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=f(Rs,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!f(Ts,{optional:!0}),this.eventsSubscription=new zo,this.isNgZoneEnabled=f(U)instanceof U&&U.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Ne&&i.code!==0&&i.code!==1)this.navigated=!0;else if(i instanceof Te)this.navigated=!0;else if(i instanceof pn){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),u={skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||dp(s.source)};this.scheduleNavigation(a,an,null,u,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}wp(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),an,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)}))}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let c=m({},s);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Ss),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:u,preserveFragment:c}=i,d=c?this.currentUrlTree.fragment:a,h=null;switch(u){case"merge":h=m(m({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let S=s?s.snapshot:this.routerState.snapshot.root;p=Hc(S)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),p=this.currentUrlTree.root}return Wc(p,r,h,d??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=Ct(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,an,null,i)}navigate(r,i={skipLocationChange:!1}){return Ip(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=m({},vp):i===!1?s=m({},yp):s=i,Ct(r))return Cc(this.currentUrlTree,r,s);let o=this.parseUrl(r);return Cc(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.keys(r).reduce((i,s)=>{let o=r[s];return o!=null&&(i[s]=o),i},{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let u,c,d;a?(u=a.resolve,c=a.reject,d=a.promise):d=new Promise((p,S)=>{u=p,c=S});let h=this.pendingTasks.add();return mp(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:u,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(p=>Promise.reject(p))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ip(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new x(4008,!1)}function wp(t){return!(t instanceof hn)&&!(t instanceof pn)}var Ir=(()=>{let e=class e{constructor(r,i,s,o,a,u){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=u,this.href=null,this.commands=null,this.onChanges=new J,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=r.events.subscribe(d=>{d instanceof Te&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){if(this.urlTree===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state};return this.router.navigateByUrl(this.urlTree,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=this.urlTree!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;let r=this.href===null?null:ha(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(le(_r),le(Ye),aa("tabindex"),le(vi),le(gi),le(Si))},e.\u0275dir=xn({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&L("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&ma("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Bn],skipLocationChange:["skipLocationChange","skipLocationChange",Bn],replaceUrl:["replaceUrl","replaceUrl",Bn],routerLink:"routerLink"},standalone:!0,features:[fa,Un]});let t=e;return t})(),ou=(()=>{let e=class e{get isActive(){return this._isActive}constructor(r,i,s,o,a){this.router=r,this.element=i,this.renderer=s,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new gt,this.routerEventsSubscription=r.events.subscribe(u=>{u instanceof Te&&this.update()})}ngAfterContentInit(){g(this.links.changes,g(null)).pipe(oi()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=K(r).pipe(oi()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(s=>!!s)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(r))})}isLinkActive(r){let i=Ep(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>s.urlTree?r.isActive(s.urlTree,i):!1}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};e.\u0275fac=function(i){return new(i||e)(le(_r),le(gi),le(vi),le($n),le(Ir,8))},e.\u0275dir=xn({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,s,o){if(i&1&&Ca(o,Ir,5),i&2){let a;zt(a=Bt())&&(s.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Un]});let t=e;return t})();function Ep(t){return!!t.paths}var _p=new k("");function au(t,...e){return we([{provide:Rs,multi:!0,useValue:t},[],{provide:Ye,useFactory:bp,deps:[_r]},{provide:bi,multi:!0,useFactory:Tp},e.map(n=>n.\u0275providers)])}function bp(t){return t.routerState.root}function Tp(){let t=f(ue);return e=>{let n=t.get(yt);if(e!==n.components[0])return;let r=t.get(_r),i=t.get(Sp);t.get(Cp)===1&&r.initialNavigation(),t.get(Ap,null,di.Optional)?.setUpPreloading(),t.get(_p,null,di.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Sp=new k("",{factory:()=>new J}),Cp=new k("",{providedIn:"root",factory:()=>1});var Ap=new k("");var cu=(()=>{let e=class e{constructor(){this.http=f(Be),this.netApiUrl=f(Je)}getExerciseLogsv2(){return this.http.get(`${this.netApiUrl}/logs`).pipe(v(r=>r.data))}createExerciseLog(r){return this.http.post(`${this.netApiUrl}/logs`,r)}updateExerciseLog(r){return this.http.put(`${this.netApiUrl}/logs/${r.id}`,r)}deleteExerciseLog(r){return this.http.delete(`${this.netApiUrl}/logs/${r}`)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var uu=(()=>{let e=class e{constructor(){this.http=f(Be),this.netApiUrl=f(Je)}getExercises(){return this.http.get(`${this.netApiUrl}/exercises`).pipe(v(r=>r.data))}createExercise(r){return this.http.post(`${this.netApiUrl}/exercises`,r)}updateExercise(r){return this.http.put(`${this.netApiUrl}/exercises/${r.id}`,r)}deleteExercise(r){return this.http.delete(`${this.netApiUrl}/exercises/${r}`)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Op=["usernameTypeaheadInput"],Pp=["exerciseTypeaheadInput"];function kp(t,e){if(t&1&&(b(0,"div",17),N(1),w()),t&2){let n=F();y(1),he(n.createOrUpdateLogFormGroup.errors.userRequired)}}function Dp(t,e){if(t&1&&(b(0,"div",17),N(1),w()),t&2){let n=F();y(1),he(n.createOrUpdateLogFormGroup.errors.userInvalidPeron)}}function Np(t,e){if(t&1&&(b(0,"div",17),N(1),w()),t&2){let n=F();y(1),he(n.createOrUpdateLogFormGroup.errors.exerciseRequired)}}function Mp(t,e){if(t&1&&(b(0,"div",17),N(1),w()),t&2){let n=F();y(1),he(n.createOrUpdateLogFormGroup.errors.exerciseInvalidPeron)}}function Lp(t,e){if(t&1&&(b(0,"div",17),N(1),w()),t&2){let n=F();y(1),he(n.createOrUpdateLogFormGroup.errors.exerciseDoesNotExist)}}function xp(t,e){if(t&1&&(b(0,"div",18)(1,"span",19),N(2),w(),ie(3,"input",20)(4,"input",21),w()),t&2){let n=e.$implicit,r=e.$index;y(2),We("Serie ",r+1,""),y(1),$("formControl",n.controls.reps),y(1),$("formControl",n.controls.weightInKg)}}function Up(t,e){if(t&1&&(b(0,"div",17),N(1),w()),t&2){let n=F();y(1),he(n.createOrUpdateLogFormGroup.errors.seriesAllSeriesAreEmpty)}}function Fp(t,e){if(t&1&&(b(0,"div",17),N(1),w()),t&2){let n=F();y(1),he(n.createOrUpdateLogFormGroup.errors.seriesRepsMustBeInteger)}}function jp(t,e){if(t&1){let n=be();b(0,"button",22),L("click",function(){G(n);let i=F();return i.exerciseLogService.deleteLog$.next(i.originalValue),q(i.modal.dismiss())}),N(1," Delete "),w()}}var $p=t=>({"justify-content-between":t}),Vp=(t,e)=>({"btn-primary":t,"btn-secondary":e}),lu=(()=>{let e=class e{constructor(){this.modal=f(Xa),this.exerciseLogService=f(qt),this.mode=null,this.createOrUpdateLogFormGroup=null,this.originalValue=null,this.usernameTypeaheadInput=null,this.usernameFocus$=new J,this.usernameSearch=r=>{let i=r.pipe(ui());return lt(i,this.usernameFocus$).pipe(v(()=>{let s=this.exerciseLogService.usernames().map(o=>o);return this.createOrUpdateLogFormGroup.value.user===""?s:s.filter(o=>!!o).filter(o=>o.toLowerCase().includes(this.createOrUpdateLogFormGroup.value.user?.toLowerCase()??""))}))},this.exerciseTypeaheadInput=null,this.exerciseFocus$=new J,this.exerciseSearch=r=>{let i=r.pipe(ui());return lt(i,this.exerciseFocus$).pipe(v(s=>{let o=this.exerciseLogService.exercises().map(a=>a);return s?o.filter(a=>!!a).filter(a=>a.name.toLowerCase().includes(s.toLowerCase())):o}))},this.exerciseFormatter=r=>r.name}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ft({type:e,selectors:[["app-exercise-row-body"]],viewQuery:function(i,s){if(i&1&&(wi(Op,7),wi(Pp,7)),i&2){let o;zt(o=Bt())&&(s.usernameTypeaheadInput=o.first),zt(o=Bt())&&(s.exerciseTypeaheadInput=o.first)}},inputs:{mode:"mode",createOrUpdateLogFormGroup:"createOrUpdateLogFormGroup",originalValue:"originalValue"},standalone:!0,features:[vt],decls:33,vars:27,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3"],[1,"input-group"],["type","text","placeholder","Username",1,"form-control",3,"formControl","ngbTypeahead","popupClass","selectItem","focus"],["usernameTypeaheadInput",""],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"fa","fa-times"],["class","d-block invalid-feedback"],["type","date","placeholder","DD-MM-YYYY","placeholder","Reps",1,"form-control",3,"formControl"],["type","text","placeholder","Exercise",1,"form-control",3,"selectOnExact","formControl","ngbTypeahead","inputFormatter","resultFormatter","popupClass","selectItem","focus"],["exerciseTypeaheadInput",""],[1,"modal-footer",3,"ngClass"],["type","button","class","btn btn-danger"],["type","button",1,"btn",3,"ngClass","disabled","click"],[1,"d-block","invalid-feedback"],[1,"input-group","mb-3","align-items-center"],[1,"input-group-text"],["type","number","placeholder","Reps",1,"form-control",3,"formControl"],["type","number","placeholder","Kg",1,"form-control",3,"formControl"],["type","button",1,"btn","btn-danger",3,"click"],["class","input-group mb-3 align-items-center"]],template:function(i,s){i&1&&(b(0,"div",0)(1,"h4",1),N(2),w(),b(3,"button",2),L("click",function(){return s.modal.dismiss()}),w()(),b(4,"div",3)(5,"form")(6,"div",4)(7,"div",5)(8,"input",6,7),L("selectItem",function(a){return s.createOrUpdateLogFormGroup.controls.user.patchValue(a.item)})("focus",function(){return s.usernameFocus$.next(s.createOrUpdateLogFormGroup.value.user||"")}),w(),b(10,"button",8),L("click",function(){return s.createOrUpdateLogFormGroup.controls.user.patchValue("")}),ie(11,"i",9),w()(),_e(12,kp,2,1,"div",10)(13,Dp,2,1,"div",10),w(),b(14,"div",4),ie(15,"input",11),w(),b(16,"div",4)(17,"div",5)(18,"input",12,13),L("selectItem",function(a){return s.createOrUpdateLogFormGroup.controls.exercise.patchValue(a.item)})("focus",function(){return s.exerciseFocus$.next((s.createOrUpdateLogFormGroup.value.exercise==null?null:s.createOrUpdateLogFormGroup.value.exercise.name)||"")}),w(),b(20,"button",8),L("click",function(){return s.createOrUpdateLogFormGroup.controls.exercise.patchValue(null)}),ie(21,"i",9),w()(),_e(22,Np,2,1,"div",10)(23,Mp,2,1,"div",10)(24,Lp,2,1,"div",10),w(),Vt(25,xp,5,3,"div",23,ya),_e(27,Up,2,1,"div",10)(28,Fp,2,1,"div",10),w()(),b(29,"div",14),_e(30,jp,2,0,"button",15),b(31,"button",16),L("click",function(){return s.modal.close()}),N(32," Save "),w()()),i&2&&(y(2),We("",s.mode==="update"?"Edit":"Create"," Log"),y(6),$("formControl",s.createOrUpdateLogFormGroup.controls.user)("ngbTypeahead",s.usernameSearch)("popupClass","typeahead"),y(4),re(12,!s.createOrUpdateLogFormGroup.controls.user.pristine&&s.createOrUpdateLogFormGroup.errors&&s.createOrUpdateLogFormGroup.errors.userRequired?12:-1),y(1),re(13,!s.createOrUpdateLogFormGroup.controls.user.pristine&&s.createOrUpdateLogFormGroup.errors&&s.createOrUpdateLogFormGroup.errors.userInvalidPeron?13:-1),y(2),$("formControl",s.createOrUpdateLogFormGroup.controls.date),y(3),$("selectOnExact",!0)("formControl",s.createOrUpdateLogFormGroup.controls.exercise)("ngbTypeahead",s.exerciseSearch)("inputFormatter",s.exerciseFormatter)("resultFormatter",s.exerciseFormatter)("popupClass","typeahead"),y(4),re(22,!s.createOrUpdateLogFormGroup.controls.exercise.pristine&&s.createOrUpdateLogFormGroup.errors&&s.createOrUpdateLogFormGroup.errors.exerciseRequired?22:-1),y(1),re(23,!s.createOrUpdateLogFormGroup.controls.exercise.pristine&&s.createOrUpdateLogFormGroup.errors&&s.createOrUpdateLogFormGroup.errors.exerciseInvalidPeron?23:-1),y(1),re(24,!s.createOrUpdateLogFormGroup.controls.exercise.pristine&&s.createOrUpdateLogFormGroup.errors&&s.createOrUpdateLogFormGroup.errors.exerciseDoesNotExist?24:-1),y(1),Ht(s.createOrUpdateLogFormGroup.controls.series.controls),y(2),re(27,!s.createOrUpdateLogFormGroup.controls.series.pristine&&s.createOrUpdateLogFormGroup.errors&&s.createOrUpdateLogFormGroup.errors.seriesAllSeriesAreEmpty?27:-1),y(1),re(28,!s.createOrUpdateLogFormGroup.controls.series.pristine&&s.createOrUpdateLogFormGroup.errors&&s.createOrUpdateLogFormGroup.errors.seriesRepsMustBeInteger?28:-1),y(1),$("ngClass",Wt(22,$p,s.mode==="update")),y(1),re(30,s.mode==="update"?30:-1),y(1),$("ngClass",Sa(24,Vp,s.createOrUpdateLogFormGroup.valid,s.createOrUpdateLogFormGroup.invalid))("disabled",s.createOrUpdateLogFormGroup.invalid))},dependencies:[Ha,Fa,Ma,ja,La,xa,$a,Va,Ua,nc,tc,Kn],changeDetection:0});let t=e;return t})();var br=(()=>{let e=class e{constructor(){this.toasts=[]}show(r){this.toasts.push(r)}ok(r){this.show({text:r,type:"success"})}error(r){this.show({text:r??"An error ocurred",type:"danger"})}remove(r){this.toasts=this.toasts.filter(i=>i!==r)}clear(){this.toasts=[]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var hu=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Hp=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},pu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4,p=(a&15)<<2|c>>6,S=c&63;u||(S=64,o||(p=64)),r.push(n[d],n[h],n[p],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hu(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Hp(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let c=i<t.length?n[t.charAt(i)]:64;++i;let h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new ks;let p=s<<2|a>>4;if(r.push(p),c!==64){let S=a<<4&240|c>>2;if(r.push(S),h!==64){let B=c<<6&192|h;r.push(B)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},ks=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Wp=function(t){let e=hu(t);return pu.encodeByteArray(e,!0)},Ns=function(t){return Wp(t).replace(/\./g,"")},Ms=function(t){try{return pu.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function zp(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Bp=()=>zp().__FIREBASE_DEFAULTS__,Gp=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},qp=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Ms(t[1]);return e&&JSON.parse(e)},Ls=()=>{try{return Bp()||Gp()||qp()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},fu=t=>{var e,n;return(n=(e=Ls())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]};var xs=()=>{var t;return(t=Ls())===null||t===void 0?void 0:t.config},Us=t=>{var e;return(e=Ls())===null||e===void 0?void 0:e[`_${t}`]};var Tr=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function W(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mu(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(W())}function gu(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function vu(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yu(){let t=W();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Iu(){try{return typeof indexedDB=="object"}catch{return!1}}function wu(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var Kp="FirebaseError",de=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Kp,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Se.prototype.create)}},Se=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Yp(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new de(i,a,r)}};function Yp(t,e){return t.replace(Jp,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Jp=/\{\$([^}]+)}/g;function Eu(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ot(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(du(s)&&du(o)){if(!Ot(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function du(t){return t!==null&&typeof t=="object"}function Pt(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function _u(t,e){let n=new Ds(t,e);return n.subscribe.bind(n)}var Ds=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Xp(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ps),i.error===void 0&&(i.error=Ps),i.complete===void 0&&(i.complete=Ps);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Xp(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ps(){}var YI=4*60*60*1e3;function Le(t){return t&&t._delegate?t._delegate:t}var me=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Xe="[DEFAULT]";var Fs=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Tr;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Qp(e))try{this.getOrInitializeService({instanceIdentifier:Xe})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Xe){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return l(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Xe){return this.instances.has(e)}getOptions(e=Xe){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Zp(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xe){return this.component?this.component.multipleInstances?e:Xe:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Zp(t){return t===Xe?void 0:t}function Qp(t){return t.instantiationMode==="EAGER"}var Sr=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Fs(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var ef=[],D=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(D||{}),tf={debug:D.DEBUG,verbose:D.VERBOSE,info:D.INFO,warn:D.WARN,error:D.ERROR,silent:D.SILENT},nf=D.INFO,rf={[D.DEBUG]:"log",[D.VERBOSE]:"log",[D.INFO]:"info",[D.WARN]:"warn",[D.ERROR]:"error"},sf=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=rf[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},kt=class{constructor(e){this.name=e,this._logLevel=nf,this._logHandler=sf,this._userLogHandler=null,ef.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in D))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tf[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,D.DEBUG,...e),this._logHandler(this,D.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,D.VERBOSE,...e),this._logHandler(this,D.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,D.INFO,...e),this._logHandler(this,D.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,D.WARN,...e),this._logHandler(this,D.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,D.ERROR,...e),this._logHandler(this,D.ERROR,...e)}};var of=(t,e)=>e.some(n=>t instanceof n),bu,Tu;function af(){return bu||(bu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cf(){return Tu||(Tu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Su=new WeakMap,$s=new WeakMap,Cu=new WeakMap,js=new WeakMap,Hs=new WeakMap;function uf(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ge(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Su.set(n,t)}).catch(()=>{}),Hs.set(e,t),e}function lf(t){if($s.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});$s.set(t,e)}var Vs={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $s.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Cu.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ge(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Au(t){Vs=t(Vs)}function df(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Cr(this),e,...n);return Cu.set(r,e.sort?e.sort():[e]),ge(r)}:cf().includes(t)?function(...e){return t.apply(Cr(this),e),ge(Su.get(this))}:function(...e){return ge(t.apply(Cr(this),e))}}function hf(t){return typeof t=="function"?df(t):(t instanceof IDBTransaction&&lf(t),of(t,af())?new Proxy(t,Vs):t)}function ge(t){if(t instanceof IDBRequest)return uf(t);if(js.has(t))return js.get(t);let e=hf(t);return e!==t&&(js.set(t,e),Hs.set(e,t)),e}var Cr=t=>Hs.get(t);function Ou(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=ge(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ge(o.result),u.oldVersion,u.newVersion,ge(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}var pf=["get","getKey","getAll","getAllKeys","count"],ff=["put","add","delete","clear"],Ws=new Map;function Ru(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ws.get(e))return Ws.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=ff.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||pf.includes(n)))return;let s=function(o,...a){return l(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),c=u.store;return r&&(c=c.index(a.shift())),(yield Promise.all([c[n](...a),i&&u.done]))[0]})};return Ws.set(e,s),s}Au(t=>M(m({},t),{get:(e,n,r)=>Ru(e,n)||t.get(e,n,r),has:(e,n)=>!!Ru(e,n)||t.has(e,n)}));var Bs=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mf(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function mf(t){let e=t.getComponent();return e?.type==="VERSION"}var Gs="@firebase/app",Pu="0.9.28";var Ze=new kt("@firebase/app"),gf="@firebase/app-compat",vf="@firebase/analytics-compat",yf="@firebase/analytics",If="@firebase/app-check-compat",wf="@firebase/app-check",Ef="@firebase/auth",_f="@firebase/auth-compat",bf="@firebase/database",Tf="@firebase/database-compat",Sf="@firebase/functions",Cf="@firebase/functions-compat",Af="@firebase/installations",Rf="@firebase/installations-compat",Of="@firebase/messaging",Pf="@firebase/messaging-compat",kf="@firebase/performance",Df="@firebase/performance-compat",Nf="@firebase/remote-config",Mf="@firebase/remote-config-compat",Lf="@firebase/storage",xf="@firebase/storage-compat",Uf="@firebase/firestore",Ff="@firebase/firestore-compat",jf="firebase",$f="10.8.1";var qs="[DEFAULT]",Vf={[Gs]:"fire-core",[gf]:"fire-core-compat",[yf]:"fire-analytics",[vf]:"fire-analytics-compat",[wf]:"fire-app-check",[If]:"fire-app-check-compat",[Ef]:"fire-auth",[_f]:"fire-auth-compat",[bf]:"fire-rtdb",[Tf]:"fire-rtdb-compat",[Sf]:"fire-fn",[Cf]:"fire-fn-compat",[Af]:"fire-iid",[Rf]:"fire-iid-compat",[Of]:"fire-fcm",[Pf]:"fire-fcm-compat",[kf]:"fire-perf",[Df]:"fire-perf-compat",[Nf]:"fire-rc",[Mf]:"fire-rc-compat",[Lf]:"fire-gcs",[xf]:"fire-gcs-compat",[Uf]:"fire-fst",[Ff]:"fire-fst-compat","fire-js":"fire-js",[jf]:"fire-js-all"};var wn=new Map,Ks=new Map;function Hf(t,e){try{t.container.addComponent(e)}catch(n){Ze.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Dt(t){let e=t.name;if(Ks.has(e))return Ze.debug(`There were multiple attempts to register component ${e}.`),!1;Ks.set(e,t);for(let n of wn.values())Hf(n,t);return!0}function Zs(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var Wf={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},xe=new Se("app","Firebase",Wf);var Ys=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new me("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xe.create("app-deleted",{appName:this._name})}};var Nt=$f;function Qs(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:qs,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw xe.create("bad-app-name",{appName:String(i)});if(n||(n=xs()),!n)throw xe.create("no-options");let s=wn.get(i);if(s){if(Ot(n,s.options)&&Ot(r,s.config))return s;throw xe.create("duplicate-app",{appName:i})}let o=new Sr(i);for(let u of Ks.values())o.addComponent(u);let a=new Ys(n,r,o);return wn.set(i,a),a}function Ar(t=qs){let e=wn.get(t);if(!e&&t===qs&&xs())return Qs();if(!e)throw xe.create("no-app",{appName:t});return e}function Rr(){return Array.from(wn.values())}function Y(t,e,n){var r;let i=(r=Vf[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ze.warn(a.join(" "));return}Dt(new me(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var zf="firebase-heartbeat-database",Bf=1,En="firebase-heartbeat-store",zs=null;function Mu(){return zs||(zs=Ou(zf,Bf,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(En)}catch(n){console.warn(n)}}}}).catch(t=>{throw xe.create("idb-open",{originalErrorMessage:t.message})})),zs}function Gf(t){return l(this,null,function*(){try{let n=(yield Mu()).transaction(En),r=yield n.objectStore(En).get(Lu(t));return yield n.done,r}catch(e){if(e instanceof de)Ze.warn(e.message);else{let n=xe.create("idb-get",{originalErrorMessage:e?.message});Ze.warn(n.message)}}})}function ku(t,e){return l(this,null,function*(){try{let r=(yield Mu()).transaction(En,"readwrite");yield r.objectStore(En).put(e,Lu(t)),yield r.done}catch(n){if(n instanceof de)Ze.warn(n.message);else{let r=xe.create("idb-set",{originalErrorMessage:n?.message});Ze.warn(r.message)}}})}function Lu(t){return`${t.name}!${t.options.appId}`}var qf=1024,Kf=30*24*60*60*1e3,Js=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Xs(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return l(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Du();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=Kf}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return l(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=Du(),{heartbeatsToSend:r,unsentEntries:i}=Yf(this._heartbeatsCache.heartbeats),s=Ns(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function Du(){return new Date().toISOString().substring(0,10)}function Yf(t,e=qf){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Nu(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Nu(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Xs=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return l(this,null,function*(){return Iu()?wu().then(()=>!0).catch(()=>!1):!1})}read(){return l(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Gf(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return l(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return ku(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return l(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return ku(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function Nu(t){return Ns(JSON.stringify({version:2,heartbeats:t})).length}function Jf(t){Dt(new me("platform-logger",e=>new Bs(e),"PRIVATE")),Dt(new me("heartbeat",e=>new Js(e),"PRIVATE")),Y(Gs,Pu,t),Y(Gs,Pu,"esm2017"),Y("fire-js","")}Jf("");var Xf="firebase",Zf="10.8.1";Y(Xf,Zf,"app");var _n=new jn("ANGULARFIRE2_VERSION");function xu(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var to=(t,e)=>{let n=e?[e]:Rr(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Or=class{constructor(){return to(Qf)}},Qf="app-check";function Mt(){}var Pr=class{zone;delegate;constructor(e,n=qo){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},eo=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Mt,{},Mt,Mt)),n.pipe(P({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},kr=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Pr(Zone.current)),this.insideAngular=n.run(()=>new Pr(Zone.current,Go)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(T(U))};static \u0275prov=_({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Dr(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function em(t){return Dr().ngZone.runOutsideAngular(()=>t())}function Qe(t){return Dr().ngZone.run(()=>t())}function tm(t){return nm(Dr())(t)}function nm(t){return function(n){return n=n.lift(new eo(t.ngZone)),n.pipe(ii(t.outsideAngular),ri(t.insideAngular))}}var rm=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Qe(()=>t.apply(void 0,r))},et=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Qe(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Mt,{},Mt,Mt))),r[s]=rm(r[s],n));let i=em(()=>t.apply(this,r));if(!e)if(i instanceof Ft){let s=Dr();return i.pipe(ii(s.outsideAngular),ri(s.insideAngular))}else return Qe(()=>i);return i instanceof Ft?i.pipe(tm):i instanceof Promise?Qe(()=>new Promise((s,o)=>i.then(a=>Qe(()=>s(a)),a=>Qe(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Qe(()=>i)};var tt=class{constructor(e){return e}},bn=class{constructor(){return Rr()}};function im(t){return t&&t.length===1?t[0]:new tt(Ar())}var no=new k("angularfire2._apps"),sm={provide:tt,useFactory:im,deps:[[new Ie,no]]},om={provide:bn,deps:[[new Ie,no]]};function am(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new tt(r)}}var cm=(()=>{class t{constructor(n){Y("angularfire",_n.full,"core"),Y("angularfire",_n.full,"app"),Y("angular",pa.full,n.toString())}static \u0275fac=function(r){return new(r||t)(T(ne))};static \u0275mod=Pe({type:t});static \u0275inj=Oe({providers:[sm,om]})}return t})();function Uu(t,...e){return{ngModule:cm,providers:[{provide:no,useFactory:am(t),multi:!0,deps:[U,ue,kr,...e]}]}}var Fu=et(Qs,!0);function Zu(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Qu=Zu,el=new Se("auth","Firebase",Zu());var Fr=new kt("@firebase/auth");function um(t,...e){Fr.logLevel<=D.WARN&&Fr.warn(`Auth (${Nt}): ${t}`,...e)}function Mr(t,...e){Fr.logLevel<=D.ERROR&&Fr.error(`Auth (${Nt}): ${t}`,...e)}function ye(t,...e){throw Eo(t,...e)}function nt(t,...e){return Eo(t,...e)}function tl(t,e,n){let r=Object.assign(Object.assign({},Qu()),{[e]:n});return new Se("auth","Firebase",r).create(e,{appName:t.name})}function lm(t,e,n){let r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ye(t,"argument-error"),tl(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Eo(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return el.create(t,...e)}function I(t,e,...n){if(!t)throw Eo(e,...n)}function Ce(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Mr(e),new Error(e)}function Fe(t,e){t||Ce(e)}function so(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function dm(){return ju()==="http:"||ju()==="https:"}function ju(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function hm(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dm()||gu()||"connection"in navigator)?navigator.onLine:!0}function pm(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var rt=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fe(n>e,"Short delay should be less than long delay!"),this.isMobile=mu()||vu()}get(){return hm()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function _o(t,e){Fe(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var jr=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ce("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ce("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ce("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var fm={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var mm=new rt(3e4,6e4);function bo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function xt(s,o,a,u){return l(this,arguments,function*(t,e,n,r,i={}){return nl(t,i,()=>l(this,null,function*(){let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});let h=Pt(Object.assign({key:t.config.apiKey},d)).slice(1),p=yield t._getAdditionalHeaders();return p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode),jr.fetch()(rl(t,t.config.apiHost,n,h),Object.assign({method:e,headers:p,referrerPolicy:"no-referrer"},c))}))})}function nl(t,e,n){return l(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},fm),e);try{let i=new oo(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Nr(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nr(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Nr(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Nr(t,"user-disabled",o);let d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw tl(t,d,c);ye(t,d)}}catch(i){if(i instanceof de)throw i;ye(t,"network-request-failed",{message:String(i)})}})}function gm(s,o,a,u){return l(this,arguments,function*(t,e,n,r,i={}){let c=yield xt(t,e,n,r,i);return"mfaPendingCredential"in c&&ye(t,"multi-factor-auth-required",{_serverResponse:c}),c})}function rl(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?_o(t.config,i):`${t.config.apiScheme}://${i}`}var oo=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(nt(this.auth,"network-request-failed")),mm.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Nr(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=nt(t,e,r);return i.customData._tokenResponse=n,i}function vm(t,e){return l(this,null,function*(){return xt(t,"POST","/v1/accounts:delete",e)})}function ym(t,e){return l(this,null,function*(){return xt(t,"POST","/v1/accounts:lookup",e)})}function Tn(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function To(t,e=!1){return l(this,null,function*(){let n=Le(t),r=yield n.getIdToken(e),i=So(r);I(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Tn(ro(i.auth_time)),issuedAtTime:Tn(ro(i.iat)),expirationTime:Tn(ro(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function ro(t){return Number(t)*1e3}function So(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Mr("JWT malformed, contained fewer than 3 sections"),null;try{let i=Ms(n);return i?JSON.parse(i):(Mr("Failed to decode base64 JWT payload"),null)}catch(i){return Mr("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Im(t){let e=So(t);return I(e,"internal-error"),I(typeof e.exp<"u","internal-error"),I(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Sn(t,e,n=!1){return l(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof de&&wm(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function wm({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var ao=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>l(this,null,function*(){yield this.iteration()}),n)}iteration(){return l(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var $r=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tn(this.lastLoginAt),this.creationTime=Tn(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Vr(t){return l(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Sn(t,ym(n,{idToken:r}));I(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?_m(s.providerUserInfo):[],a=Em(t.providerData,o),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!a?.length,d=u?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new $r(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)})}function Co(t){return l(this,null,function*(){let e=Le(t);yield Vr(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Em(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function _m(t){return t.map(e=>{var{providerId:n}=e,r=Mn(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function bm(t,e){return l(this,null,function*(){let n=yield nl(t,{},()=>l(this,null,function*(){let r=Pt({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=rl(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",jr.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function Tm(t,e){return l(this,null,function*(){return xt(t,"POST","/v2/accounts:revokeToken",bo(t,e))})}var Hr=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){I(e.idToken,"internal-error"),I(typeof e.idToken<"u","internal-error"),I(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Im(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return l(this,null,function*(){return I(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return l(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield bm(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(I(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(I(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(I(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Ce("not implemented")}};function Ue(t,e){I(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Cn=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Mn(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ao(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new $r(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return l(this,null,function*(){let n=yield Sn(this,this.stsTokenManager.getToken(this.auth,e));return I(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return To(this,e)}reload(){return Co(this)}_assign(e){this!==e&&(I(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){I(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return l(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Vr(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return l(this,null,function*(){let e=yield this.getIdToken();return yield Sn(this,vm(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,d;let h=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,S=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,B=(o=n.photoURL)!==null&&o!==void 0?o:void 0,ae=(a=n.tenantId)!==null&&a!==void 0?a:void 0,A=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,C=(c=n.createdAt)!==null&&c!==void 0?c:void 0,ce=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:at,emailVerified:V,isAnonymous:ct,providerData:Ut,stsTokenManager:Nn}=n;I(at&&Nn,e,"internal-error");let Vl=Hr.fromJSON(this.name,Nn);I(typeof at=="string",e,"internal-error"),Ue(h,e.name),Ue(p,e.name),I(typeof V=="boolean",e,"internal-error"),I(typeof ct=="boolean",e,"internal-error"),Ue(S,e.name),Ue(B,e.name),Ue(ae,e.name),Ue(A,e.name),Ue(C,e.name),Ue(ce,e.name);let ei=new t({uid:at,auth:e,email:p,emailVerified:V,displayName:h,isAnonymous:ct,photoURL:B,phoneNumber:S,tenantId:ae,stsTokenManager:Vl,createdAt:C,lastLoginAt:ce});return Ut&&Array.isArray(Ut)&&(ei.providerData=Ut.map(Hl=>Object.assign({},Hl))),A&&(ei._redirectEventId=A),ei}static _fromIdTokenResponse(e,n,r=!1){return l(this,null,function*(){let i=new Hr;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Vr(s),s})}};var $u=new Map;function Ae(t){Fe(t instanceof Function,"Expected a class definition");let e=$u.get(t);return e?(Fe(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,$u.set(t,e),e)}var Sm=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return l(this,null,function*(){return!0})}_set(n,r){return l(this,null,function*(){this.storage[n]=r})}_get(n){return l(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return l(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),co=Sm;function Lr(t,e,n){return`firebase:${t}:${e}:${n}`}var Wr=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Lr(this.userKey,i.apiKey,s),this.fullPersistenceKey=Lr("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return l(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Cn._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return l(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return l(this,null,function*(){if(!n.length)return new t(Ae(co),e,r);let i=(yield Promise.all(n.map(c=>l(this,null,function*(){if(yield c._isAvailable())return c})))).filter(c=>c),s=i[0]||Ae(co),o=Lr(r,e.config.apiKey,e.name),a=null;for(let c of n)try{let d=yield c._get(o);if(d){let h=Cn._fromJSON(e,d);c!==s&&(a=h),s=c;break}}catch{}let u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(c=>l(this,null,function*(){if(c!==s)try{yield c._remove(o)}catch{}}))),new t(s,e,r))})}};function Vu(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ol(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(il(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cl(e))return"Blackberry";if(ul(e))return"Webos";if(Ao(e))return"Safari";if((e.includes("chrome/")||sl(e))&&!e.includes("edge/"))return"Chrome";if(al(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function il(t=W()){return/firefox\//i.test(t)}function Ao(t=W()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sl(t=W()){return/crios\//i.test(t)}function ol(t=W()){return/iemobile/i.test(t)}function al(t=W()){return/android/i.test(t)}function cl(t=W()){return/blackberry/i.test(t)}function ul(t=W()){return/webos/i.test(t)}function Xr(t=W()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Cm(t=W()){var e;return Xr(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Am(){return yu()&&document.documentMode===10}function ll(t=W()){return Xr(t)||al(t)||ul(t)||cl(t)||/windows phone/i.test(t)||ol(t)}function Rm(){try{return!!(window&&window!==window.top)}catch{return!1}}function dl(t,e=[]){let n;switch(t){case"Browser":n=Vu(W());break;case"Worker":n=`${Vu(W())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Nt}/${r}`}var uo=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return l(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Om(n){return l(this,arguments,function*(t,e={}){return xt(t,"GET","/v2/passwordPolicy",bo(t,e))})}var Pm=6,lo=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Pm,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var ho=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zr(this),this.idTokenSubscription=new zr(this),this.beforeStateQueue=new uo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=el,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ae(n)),this._initializationPromise=this.queue(()=>l(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Wr.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return l(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return l(this,null,function*(){var n;let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return I(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return l(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return l(this,null,function*(){try{yield Vr(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=pm()}_delete(){return l(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return l(this,null,function*(){let n=e?Le(e):null;return n&&I(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return l(this,null,function*(){if(!this._deleted)return e&&I(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>l(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return l(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>l(this,null,function*(){yield this.assertedPersistence.setPersistence(Ae(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return l(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return l(this,null,function*(){let e=yield Om(this),n=new lo(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Se("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return l(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Tm(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return l(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return l(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Ae(e)||this._popupRedirectResolver;I(n,this,"argument-error"),this.redirectPersistenceManager=yield Wr.create(this,[Ae(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return l(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>l(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return l(this,null,function*(){if(e===this.currentUser)return this.queue(()=>l(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(I(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return l(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return I(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dl(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return l(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return l(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&um(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function kn(t){return Le(t)}var zr=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=_u(n=>this.observer=n)}get next(){return I(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Ro={loadJS(){return l(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function km(t){Ro=t}function Dm(t){return Ro.loadJS(t)}function Nm(){return Ro.gapiScript}function hl(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function Oo(t,e){let n=Zs(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(Ot(s,e??{}))return i;ye(i,"already-initialized")}return n.initialize({options:e})}function Mm(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ae);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Po(t,e,n){let r=kn(t);I(r._canInitEmulator,r,"emulator-config-failed"),I(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=pl(e),{host:o,port:a}=Lm(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||xm()}function pl(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Lm(t){let e=pl(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:Hu(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:Hu(o)}}}function Hu(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function xm(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var An=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ce("not implemented")}_getIdTokenResponse(e){return Ce("not implemented")}_linkToIdToken(e,n){return Ce("not implemented")}_getReauthenticationResolver(e){return Ce("not implemented")}};function Lt(t,e){return l(this,null,function*(){return gm(t,"POST","/v1/accounts:signInWithIdp",bo(t,e))})}var Um="http://localhost",Br=class t extends An{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ye("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Mn(n,["providerId","signInMethod"]);if(!r||!i)return null;let o=new t(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){let n=this.buildRequest();return Lt(e,n)}_linkToIdToken(e,n){let r=this.buildRequest();return r.idToken=n,Lt(e,r)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,Lt(e,n)}buildRequest(){let e={requestUri:Um,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Pt(n)}return e}};var Rn=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Gr=class extends Rn{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Zr=(()=>{class t extends Gr{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return Br._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})();var On=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return l(this,null,function*(){let s=yield Cn._fromIdTokenResponse(e,r,i),o=Wu(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return l(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=Wu(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function Wu(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var po=class t extends de{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function fl(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?po._fromErrorAndOperation(t,s,e,r):s})}function Fm(t,e,n=!1){return l(this,null,function*(){let r=yield Sn(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return On._forOperation(t,"link",r)})}function jm(t,e,n=!1){return l(this,null,function*(){let{auth:r}=t,i="reauthenticate";try{let s=yield Sn(t,fl(r,i,e,t),n);I(s.idToken,r,"internal-error");let o=So(s.idToken);I(o,r,"internal-error");let{sub:a}=o;return I(t.uid===a,r,"user-mismatch"),On._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&ye(r,"user-mismatch"),s}})}function $m(t,e,n=!1){return l(this,null,function*(){let r="signIn",i=yield fl(t,r,e),s=yield On._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function ko(t,e,n,r){return Le(t).onIdTokenChanged(e,n,r)}function Do(t,e,n){return Le(t).beforeAuthStateChanged(e,n)}function No(t){return Le(t).signOut()}var qr="__sak";var Kr=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(qr,"1"),this.storage.removeItem(qr),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function Vm(){let t=W();return Ao(t)||Xr(t)}var Hm=1e3,Wm=10,zm=(()=>{class t extends Kr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Vm()&&Rm(),this.fallbackToPolling=ll(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);Am()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,Wm):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},Hm)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return l(this,null,function*(){yield je(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return l(this,null,function*(){let r=yield je(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return l(this,null,function*(){yield je(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),ml=zm;var Bm=(()=>{class t extends Kr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Mo=Bm;function Gm(t){return Promise.all(t.map(e=>l(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var qm=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return l(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(a).map(d=>l(this,null,function*(){return d(r.origin,o)})),c=yield Gm(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:c})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function gl(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var fo=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return l(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{let c=gl("",20);i.port1.start();let d=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){let p=h;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function ve(){return window}function Km(t){ve().location.href=t}function vl(){return typeof ve().WorkerGlobalScope<"u"&&typeof ve().importScripts=="function"}function Ym(){return l(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function Jm(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Xm(){return vl()?self:null}var yl="firebaseLocalStorageDb",Zm=1,Yr="firebaseLocalStorage",Il="fbase_key",it=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Qr(t,e){return t.transaction([Yr],e?"readwrite":"readonly").objectStore(Yr)}function Qm(){let t=indexedDB.deleteDatabase(yl);return new it(t).toPromise()}function mo(){let t=indexedDB.open(yl,Zm);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Yr,{keyPath:Il})}catch(i){n(i)}}),t.addEventListener("success",()=>l(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Yr)?e(r):(r.close(),yield Qm(),e(yield mo()))}))})}function zu(t,e,n){return l(this,null,function*(){let r=Qr(t,!0).put({[Il]:e,value:n});return new it(r).toPromise()})}function eg(t,e){return l(this,null,function*(){let n=Qr(t,!1).get(e),r=yield new it(n).toPromise();return r===void 0?null:r.value})}function Bu(t,e){let n=Qr(t,!0).delete(e);return new it(n).toPromise()}var tg=800,ng=3,rg=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return l(this,null,function*(){return this.db?this.db:(this.db=yield mo(),this.db)})}_withRetries(n){return l(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>ng)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return l(this,null,function*(){return vl()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return l(this,null,function*(){this.receiver=qm._getInstance(Xm()),this.receiver._subscribe("keyChanged",(n,r)=>l(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>l(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return l(this,null,function*(){var n,r;if(this.activeServiceWorker=yield Ym(),!this.activeServiceWorker)return;this.sender=new fo(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return l(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||Jm()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return l(this,null,function*(){try{if(!indexedDB)return!1;let n=yield mo();return yield zu(n,qr,"1"),yield Bu(n,qr),!0}catch{}return!1})}_withPendingWrite(n){return l(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return l(this,null,function*(){return this._withPendingWrite(()=>l(this,null,function*(){return yield this._withRetries(i=>zu(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return l(this,null,function*(){let r=yield this._withRetries(i=>eg(i,n));return this.localCache[n]=r,r})}_remove(n){return l(this,null,function*(){return this._withPendingWrite(()=>l(this,null,function*(){return yield this._withRetries(r=>Bu(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return l(this,null,function*(){let n=yield this._withRetries(s=>{let o=Qr(s,!1).getAll();return new it(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>l(this,null,function*(){return this._poll()}),tg)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),wl=rg;var Vw=hl("rcb"),Hw=new rt(3e4,6e4);function El(t,e){return e?Ae(e):(I(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Pn=class extends An{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Lt(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Lt(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Lt(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function ig(t){return $m(t.auth,new Pn(t),t.bypassAuthState)}function sg(t){let{auth:e,user:n}=t;return I(n,e,"internal-error"),jm(n,new Pn(t),t.bypassAuthState)}function og(t){return l(this,null,function*(){let{auth:e,user:n}=t;return I(n,e,"internal-error"),Fm(n,new Pn(t),t.bypassAuthState)})}var go=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>l(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return l(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(c){this.reject(c)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ig;case"linkViaPopup":case"linkViaRedirect":return og;case"reauthViaPopup":case"reauthViaRedirect":return sg;default:ye(this.auth,"internal-error")}}resolve(e){Fe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Ww=new rt(2e3,1e4);var ag="pendingRedirect",xr=new Map,vo=class t extends go{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return l(this,null,function*(){let e=xr.get(this.auth._key());if(!e){try{let r=(yield cg(this.resolver,this.auth))?yield je(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}xr.set(this.auth._key(),e)}return this.bypassAuthState||xr.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return l(this,null,function*(){if(e.type==="signInViaRedirect")return je(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,je(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return l(this,null,function*(){})}cleanUp(){}};function cg(t,e){return l(this,null,function*(){let n=bl(e),r=_l(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function ug(t,e){return l(this,null,function*(){return _l(t)._set(bl(e),"true")})}function lg(t,e){xr.set(t._key(),e)}function _l(t){return Ae(t._redirectPersistence)}function bl(t){return Lr(ag,t.config.apiKey,t.name)}function Lo(t,e,n){return dg(t,e,n)}function dg(t,e,n){return l(this,null,function*(){let r=kn(t);lm(t,e,Rn),yield r._initializationPromise;let i=El(r,n);return yield ug(i,r),i._openRedirect(r,e,"signInViaRedirect")})}function xo(t,e){return l(this,null,function*(){return yield kn(t)._initializationPromise,Tl(t,e,!1)})}function Tl(t,e,n=!1){return l(this,null,function*(){let r=kn(t),i=El(r,e),o=yield new vo(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var hg=10*60*1e3,yo=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!pg(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Sl(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(nt(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hg&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gu(e))}saveEventToCache(e){this.cachedEventUids.add(Gu(e)),this.lastProcessedEventTime=Date.now()}};function Gu(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Sl({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function pg(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Sl(t);default:return!1}}function fg(n){return l(this,arguments,function*(t,e={}){return xt(t,"GET","/v1/projects",e)})}var mg=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gg=/^https?/;function vg(t){return l(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield fg(t);for(let n of e)try{if(yg(n))return}catch{}ye(t,"unauthorized-domain")})}function yg(t){let e=so(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!gg.test(n))return!1;if(mg.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var Ig=new rt(3e4,6e4);function qu(){let t=ve().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function wg(t){return new Promise((e,n)=>{var r,i,s;function o(){qu(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qu(),n(nt(t,"network-request-failed"))},timeout:Ig.get()})}if(!((i=(r=ve().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ve().gapi)===null||s===void 0)&&s.load)o();else{let a=hl("iframefcb");return ve()[a]=()=>{gapi.load?o():n(nt(t,"network-request-failed"))},Dm(`${Nm()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Ur=null,e})}var Ur=null;function Eg(t){return Ur=Ur||wg(t),Ur}var _g=new rt(5e3,15e3),bg="__/auth/iframe",Tg="emulator/auth/iframe",Sg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Cg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ag(t){let e=t.config;I(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?_o(e,Tg):`https://${t.config.authDomain}/${bg}`,r={apiKey:e.apiKey,appName:t.name,v:Nt},i=Cg.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Pt(r).slice(1)}`}function Rg(t){return l(this,null,function*(){let e=yield Eg(t),n=ve().gapi;return I(n,t,"internal-error"),e.open({where:document.body,url:Ag(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Sg,dontclear:!0},r=>new Promise((i,s)=>l(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=nt(t,"network-request-failed"),a=ve().setTimeout(()=>{s(o)},_g.get());function u(){ve().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var Og={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Pg=500,kg=600,Dg="_blank",Ng="http://localhost",Jr=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Mg(t,e,n,r=Pg,i=kg){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},Og),{width:r.toString(),height:i.toString(),top:s,left:o}),c=W().toLowerCase();n&&(a=sl(c)?Dg:n),il(c)&&(e=e||Ng,u.scrollbars="yes");let d=Object.entries(u).reduce((p,[S,B])=>`${p}${S}=${B},`,"");if(Cm(c)&&a!=="_self")return Lg(e||"",a),new Jr(null);let h=window.open(e||"",a,d);I(h,t,"popup-blocked");try{h.focus()}catch{}return new Jr(h)}function Lg(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var xg="__/auth/handler",Ug="emulator/auth/handler",Fg=encodeURIComponent("fac");function Ku(t,e,n,r,i,s){return l(this,null,function*(){I(t.config.authDomain,t,"auth-domain-config-required"),I(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Nt,eventId:i};if(e instanceof Rn){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Eu(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,h]of Object.entries(s||{}))o[d]=h}if(e instanceof Gr){let d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let u=yield t._getAppCheckToken(),c=u?`#${Fg}=${encodeURIComponent(u)}`:"";return`${jg(t)}?${Pt(a).slice(1)}${c}`})}function jg({config:t}){return t.emulator?_o(t,Ug):`https://${t.authDomain}/${xg}`}var io="webStorageSupport",Io=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Mo,this._completeRedirectFn=Tl,this._overrideRedirectResult=lg}_openPopup(e,n,r,i){return l(this,null,function*(){var s;Fe((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield Ku(e,n,r,so(),i);return Mg(e,o,gl())})}_openRedirect(e,n,r,i){return l(this,null,function*(){yield this._originValidation(e);let s=yield Ku(e,n,r,so(),i);return Km(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Fe(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return l(this,null,function*(){let n=yield Rg(e),r=new yo(e);return n.register("authEvent",i=>(I(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(io,{type:io},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[io];o!==void 0&&n(!!o),ye(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=vg(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ll()||Ao()||Xr()}},Cl=Io;var Yu="@firebase/auth",Ju="1.6.1";var wo=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return l(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){I(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function $g(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Vg(t){Dt(new me("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;I(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dl(t)},c=new ho(r,i,s,u);return Mm(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Dt(new me("auth-internal",e=>{let n=kn(e.getProvider("auth").getImmediate());return(r=>new wo(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Y(Yu,Ju,$g(t)),Y(Yu,Ju,"esm2017")}var Hg=5*60,Wg=Us("authIdTokenMaxAge")||Hg,Xu=null,zg=t=>e=>l(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Wg)return;let i=n?.token;Xu!==i&&(Xu=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Uo(t=Ar()){let e=Zs(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Oo(t,{popupRedirectResolver:Cl,persistence:[wl,ml,Mo]}),r=Us("authTokenSyncURL");if(r){let s=zg(r);Do(n,s,()=>s(n.currentUser)),ko(n,o=>s(o))}let i=fu("auth");return i&&Po(n,`http://${i}`),n}function Bg(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}km({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=nt("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Bg().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Vg("Browser");var Al="auth",st=class{constructor(e){return e}},Fo=class{constructor(){return to(Al)}};var jo=new k("angularfire2.auth-instances");function xv(t,e){let n=xu(Al,t,e);return n&&new st(n)}function Uv(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new st(r)}}var Fv={provide:Fo,deps:[[new Ie,jo]]},jv={provide:st,useFactory:xv,deps:[[new Ie,jo],tt]},$v=(()=>{class t{constructor(){Y("angularfire",_n.full,"auth")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Pe({type:t});static \u0275inj=Oe({providers:[jv,Fv]})}return t})();function Rl(t,...e){return{ngModule:$v,providers:[{provide:jo,useFactory:Uv(t),multi:!0,deps:[U,ue,kr,bn,[new Ie,Or],...e]}]}}var Ol=et(Uo,!0);var Pl=et(xo,!0);var kl=et(Lo,!0),Dl=et(No,!0);var Dn="robertly-idtoken",Nl=(()=>{let e=class e{constructor(){this.http=f(Be),this.apiUrl=f(Je),this.auth=f(st),this.toastService=f(br)}signIn(r){return this.http.post(`${this.apiUrl}/auth/signin`,r,{responseType:"text"}).pipe(P(i=>{localStorage.setItem(Dn,i)}))}signInWithGoogle(){return l(this,null,function*(){let r=new Zr;r.addScope("https://www.googleapis.com/auth/userinfo.email"),this.auth.useDeviceLanguage(),yield kl(this.auth,r)})}signOut(){return l(this,null,function*(){try{yield Dl(this.auth),this.toastService.ok("Successfully signed out"),localStorage.removeItem(Dn)}catch(r){this.toastService.error(JSON.stringify(r))}})}handleRedirectResult(){return l(this,null,function*(){try{let r=yield Pl(this.auth),s=Zr.credentialFromResult(r).accessToken,o=yield Jo(this.http.post(`${this.apiUrl}/auth/signup/google`,{accessToken:s},{responseType:"text"}));localStorage.setItem(Dn,o),this.toastService.ok("Successfully signed in with Google")}catch(r){let i=r;this.toastService.error(JSON.stringify(r))}})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Vv(t,e){if(t&1){let n=be();b(0,"div",18)(1,"button",19),L("click",function(){let s=G(n).$implicit;return q(s.dismiss("Cross click"))}),w()(),b(2,"div",20)(3,"a",21),L("click",function(){let s=G(n).$implicit;return q(s.dismiss())}),N(4,"Sign In"),w(),b(5,"a",21),L("click",function(){let s=G(n).$implicit;return q(s.dismiss())}),N(6,"Sign Up"),w(),b(7,"a",22),L("click",function(){let s=G(n).$implicit;return F().authApiService.signOut(),q(s.dismiss())}),N(8,"Sign out"),w(),b(9,"a",21),L("click",function(){let s=G(n).$implicit;return q(s.dismiss())}),N(10,"Exercises"),w(),b(11,"a",21),L("click",function(){let s=G(n).$implicit;return q(s.dismiss())}),N(12,"Developer"),w()()}if(t&2){let n=F();y(3),$("routerLink",n.Paths.SIGN_IN),y(2),$("routerLink",n.Paths.SIGN_UP),y(4),$("routerLink",n.Paths.EXERCISES),y(2),$("routerLink",n.Paths.DEVELOPER)}}function Hv(t,e){if(t&1){let n=be();b(0,"ngb-toast",23),L("hidden",function(){let s=G(n).$implicit,o=F();return q(o.toastService.remove(s))}),b(1,"ngb-alert",24),L("closed",function(){let s=G(n).$implicit,o=F();return q(o.toastService.remove(s))}),N(2),w()()}if(t&2){let n=e.$implicit;$("autohide",!0)("delay",n.delay||3e3),y(1),$("type",n.type),y(1),he(n.text)}}var Wv=t=>({active:t});function zv(t,e){if(t&1){let n=be();b(0,"button",29),L("click",function(){let s=G(n).$implicit,o=F(2);return q(o.exerciseLogService.selectedUsername$.next(s))}),N(1),Vn(2,"titlecase"),w()}if(t&2){let n=e.$implicit,r=F(2);$("ngClass",Wt(4,Wv,n===r.exerciseLogService.selectedUsername())),y(1),We(" ",Hn(2,2,n)," ")}}function Bv(t,e){if(t&1){let n=be();b(0,"div",25)(1,"button",26),N(2),Vn(3,"titlecase"),w(),b(4,"div",27)(5,"button",28),L("click",function(){G(n);let i=F();return q(i.exerciseLogService.selectedUsername$.next(null))}),N(6,"All Users"),w(),Vt(7,zv,3,6,"button",30,Ii),w()()}if(t&2){let n=F();y(2),We(" ",Hn(3,1,n.exerciseLogService.selectedUsernameLabel())," "),y(5),Ht(n.exerciseLogService.usernames())}}function Gv(t,e){if(t&1&&(b(0,"div",31)(1,"button",32),N(2),Vn(3,"titlecase"),w()()),t&2){let n=F();y(2),We(" ",Hn(3,1,n.exerciseLogService.usernames()[0])," ")}}function qv(t,e){if(t&1){let n=be();b(0,"button",33),L("click",function(){G(n);let i=F();return q(i.open("create"))}),ie(1,"i",34),w()}}var Kv=t=>({spin:t}),Yv=()=>({exact:!0}),$o="robertly-get-data-cache",Ml="robertly-exercise-logs",Ll="robertly-exercises",Vo="robertly-create-log-value",Jv=5*60,xl=t=>{let e=t,n=null;return Ri.required(e.controls.user)&&(n=M(m({},n??{}),{userRequired:"Username is required"})),e.value.user==="peron"&&(n=M(m({},n??{}),{userInvalidPeron:"Peron is not allowed"})),Ri.required(e.controls.exercise)&&(n=M(m({},n??{}),{exerciseRequired:"Exercise is required"})),e.value.exercise?.name?.toLowerCase()==="peron"&&(n=M(m({},n??{}),{exerciseInvalidPeron:"Peron is not allowed"})),e.controls.series.value.map(s=>(s.reps??0)>0&&(s.weightInKg??0)>0).every(s=>!s)&&(n=M(m({},n??{}),{seriesAllSeriesAreEmpty:"Needs at least one serie"})),e.controls.series.value.some(s=>!Number.isInteger(s.reps??0))&&(n=M(m({},n??{}),{seriesRepsMustBeInteger:"Reps needs to be whole numbers"})),n},Ul=(()=>{let e=class e{constructor(){this.exerciseLogService=f(qt),this.toastService=f(br),this.authApiService=f(Nl),this.exerciseLogApiService=f(cu),this.exerciseApiService=f(uu),this.serviceWorkerUpdates=f(Pi),this.modalService=f(Za),this.document=f(H),this.dayjsService=f(Na),this.dayjs=this.dayjsService.instance,this.injector=f(ue),this.offcanvasService=f(rc),this.createLogFormGroup=new Z({user:new O(""),userId:new O(""),exercise:new O(null),date:new O(""),series:new Oi([new Z({reps:new O,weightInKg:new O}),new Z({reps:new O,weightInKg:new O}),new Z({reps:new O,weightInKg:new O}),new Z({reps:new O,weightInKg:new O}),new Z({reps:new O,weightInKg:new O})])},[xl]),this.updateLogFormGroup=new Z({user:new O(""),userId:new O(""),exercise:new O(null),date:new O(""),series:new Oi([new Z({reps:new O,weightInKg:new O}),new Z({reps:new O,weightInKg:new O}),new Z({reps:new O,weightInKg:new O}),new Z({reps:new O,weightInKg:new O}),new Z({reps:new O,weightInKg:new O})])},[xl]),this.isSpinning=!1,this.Paths=ot;let r=localStorage.getItem($o),i=!1;if(!r)localStorage.setItem($o,this.dayjs().unix().toString()),i=!0;else{let s=this.dayjs.unix(+r);this.dayjs().diff(s,"seconds")>Jv&&(i=!0,localStorage.setItem($o,this.dayjs().unix().toString()))}this.fetchData(i,i),this.serviceWorkerUpdates.unrecoverable.pipe(Gt()).subscribe(s=>console.error(s)),this.serviceWorkerUpdates.versionUpdates.pipe(P(s=>{console.log(s),this.toastService.show({text:s.type,type:"secondary"})}),z(s=>s.type==="VERSION_READY")).subscribe(()=>{this.document.location.reload()}),this.createLogFormGroup.valueChanges.pipe(Gt(),Zo(1e3)).subscribe(s=>localStorage.setItem(Vo,JSON.stringify(s))),this.exerciseLogService.logClicked$.pipe(Gt()).subscribe(s=>{this.updateLogFormGroup.reset(),this.updateLogFormGroup.patchValue({exercise:s.exercise,date:this.dayjsService.parseDate(s.date).format("YYYY-MM-DD"),user:s.username,series:s.series.map(o=>({reps:o.reps,weightInKg:o.weightInKg}))}),this.open("update",s)}),this.exerciseLogService.deleteLog$.pipe(j(s=>this.exerciseLogApiService.deleteExerciseLog(s.id).pipe(P(()=>{this.fetchData(),this.toastService.ok("Log deleted successfully!")}))),Gt()).subscribe()}ngOnInit(){let r=JSON.parse(localStorage.getItem(Vo)??"null");r&&this.createLogFormGroup.patchValue(r)}open(r,i){let s=this.modalService.open(lu,{centered:!0,injector:this.injector}),o=s.componentInstance;o.createOrUpdateLogFormGroup=r==="update"?this.updateLogFormGroup:this.createLogFormGroup,o.mode=r,r==="create"&&!this.createLogFormGroup.value.date&&this.createLogFormGroup.controls.date.patchValue(this.dayjs().format("YYYY-MM-DD")),i&&(o.originalValue=i),s.result.then(()=>{if(r==="create"){if(this.createLogFormGroup.invalid)return;let a=this.exerciseLogService.logs().find(c=>c.user.toLowerCase()===this.createLogFormGroup.value.user?.toLowerCase()&&!!c.userId)??null,u={date:this.dayjsService.parseDate(this.createLogFormGroup.value.date).format("YYYY-MM-DD"),exerciseId:this.createLogFormGroup.value.exercise.id,user:a?.user??this.createLogFormGroup.value.user.toLowerCase(),userId:a?.userId??null,series:(this.createLogFormGroup.value.series??[]).filter(c=>!!c.reps&&!!c.weightInKg).map(c=>({reps:+c.reps,weightInKg:+c.weightInKg.toFixed(1)}))};this.exerciseLogApiService.createExerciseLog(u).subscribe({next:()=>{this.createLogFormGroup.reset(),localStorage.removeItem(Vo),this.fetchData(),this.toastService.ok("Log created successfully!")},error:()=>{this.fetchData(),this.toastService.error()}})}else{if(this.updateLogFormGroup.invalid)return;let a=this.exerciseLogService.logs().find(c=>c.user.toLowerCase()===this.updateLogFormGroup.value.user?.toLowerCase()&&!!c.userId)??null,u={id:i.id,date:this.dayjsService.parseDate(this.updateLogFormGroup.value.date).format("YYYY-MM-DD"),exerciseId:this.updateLogFormGroup.value.exercise.id,user:a?.user??this.updateLogFormGroup.value.user.toLowerCase(),userId:a?.userId??null,series:(this.updateLogFormGroup.value.series??[]).filter(c=>!!c.reps&&!!c.weightInKg).map(c=>({reps:+c.reps,weightInKg:+c.weightInKg.toFixed(1)}))};this.exerciseLogApiService.updateExerciseLog(u).subscribe({next:()=>{this.updateLogFormGroup.reset(),this.fetchData(),this.toastService.ok("Log updated successfully!")},error:()=>{this.fetchData(),this.toastService.error()}})}},()=>{this.createLogFormGroup.markAsPristine(),this.updateLogFormGroup.markAsPristine()})}fetchData(r=!1,i=!0){let s=JSON.parse(localStorage.getItem(Ll)??"[]"),o=JSON.parse(localStorage.getItem(Ml)??"[]"),a=this.exerciseApiService.getExercises(),u=this.exerciseLogApiService.getExerciseLogsv2();!r&&s.length&&(a=g(s)),!i&&o.length&&(u=g(o)),this.exerciseLogService.withLoading(Xo([u,a]).pipe(P(([c,d])=>{localStorage.setItem(Ml,JSON.stringify(c)),localStorage.setItem(Ll,JSON.stringify(d)),this.exerciseLogService.updateLogs$.next(c),this.exerciseLogService.updateExercises$.next(d)})))}openSidebar(r){this.offcanvasService.open(r,{position:"end"})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ft({type:e,selectors:[["app-root"]],standalone:!0,features:[Ea([qt]),vt],decls:27,vars:11,consts:[["content",""],[1,"toast-container"],[1,"navbar","navbar-dark","bg-primary","bg-gradient","fw-bold","px-1"],[1,"container-fluid","d-flex","justify-content-end","align-items-center"],["ngbDropdown","","display","dynamic","class","d-flex justify-content-end"],["type","button",1,"btn","me-3",2,"outline","none","border","none","padding","0"],[1,"fa","fa-refresh",2,"font-size","22px","color","white",3,"ngClass","click","animationend"],["type","button",1,"btn",2,"outline","none","border","none","padding","0"],[1,"fa","fa-bars",2,"font-size","22px","color","white",3,"click"],["class","btn btn-lg btn-primary"],[1,"navbar","navbar-dark","bg-primary","bg-gradient","fixed-bottom","fw-bold"],[1,"container-fluid"],[1,"navbar-nav","flex-row","gap-3","justify-content-center","w-100"],[1,"nav-item","w-100"],["routerLinkActive","active",1,"nav-link","text-center","d-flex","justify-content-center","align-items-center","gap-2",3,"routerLink","routerLinkActiveOptions"],[1,"fa","fa-history"],["routerLinkActive","active",1,"nav-link","text-center","d-flex","justify-content-center","align-items-center","gap-2",3,"routerLink"],[1,"fa","fa-bar-chart"],[1,"offcanvas-header"],["type","button","aria-label","Close",1,"btn-close",2,"margin-left","auto",3,"click"],[1,"offcanvas-body"],[3,"routerLink","click"],[1,"link-primary",3,"click"],[3,"autohide","delay","hidden"],[3,"type","closed"],["ngbDropdown","","display","dynamic",1,"d-flex","justify-content-end"],["type","button","ngbDropdownToggle","",1,"btn","d-flex","justify-content-between","align-items-center","me-3",2,"outline","none","border","none","color","white","font-weight","500"],["ngbDropdownMenu",""],["ngbDropdownItem","",3,"click"],["ngbDropdownItem","",3,"ngClass","click"],["ngbDropdownItem","",3,"ngClass"],["display","dynamic",1,"d-flex","justify-content-end"],["type","button",1,"btn","d-flex","justify-content-between","align-items-center","me-3",2,"outline","none","border","none","color","white","font-weight","500"],[1,"btn","btn-lg","btn-primary",3,"click"],[1,"fa","fa-plus"],[3,"autohide","delay"]],template:function(i,s){if(i&1){let o=be();_e(0,Vv,13,4,"ng-template",null,0,Aa),b(2,"div",1),Vt(3,Hv,3,4,"ngb-toast",35,Ii),w(),b(5,"nav",2)(6,"div",3),_e(7,Bv,9,3,"div",4)(8,Gv,4,3),b(9,"button",5)(10,"i",6),L("click",function(){return s.isSpinning=!0,s.fetchData(!0,!0)})("animationend",function(){return s.isSpinning=!1}),w()(),b(11,"button",7)(12,"i",8),L("click",function(){G(o);let u=wa(1);return q(s.openSidebar(u))}),w()()()(),b(13,"div"),ie(14,"router-outlet"),w(),_e(15,qv,2,0,"button",9),b(16,"nav",10)(17,"div",11)(18,"ul",12)(19,"li",13)(20,"a",14),N(21," Logs "),ie(22,"i",15),w()(),b(23,"li",13)(24,"a",16),N(25," Stats "),ie(26,"i",17),w()()()()()}i&2&&(y(3),Ht(s.toastService.toasts),y(4),re(7,s.exerciseLogService.usernames().length>1?7:8),y(3),$("ngClass",Wt(8,Kv,s.isSpinning)),y(3),ga("margin-bottom",8,"rem"),y(2),re(15,s.exerciseLogService.loaded()?15:-1),y(5),$("routerLink",s.Paths.LOGS)("routerLinkActiveOptions",Ta(10,Yv)),y(4),$("routerLink",s.Paths.STATS))},dependencies:[Kn,Yn,Ir,ou,bs,Ja,Ya,Ka,qa,Ba,Ga,ic,ec,Qa,za,Wa],styles:["nav.navbar.fixed-bottom[_ngcontent-%COMP%]{padding-bottom:max(env(safe-area-inset-bottom),.8rem);border-top-left-radius:10px;border-top-right-radius:10px}button[_ngcontent-%COMP%]:focus   i.fa.fa-refresh.spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate 1s ease-in-out 0s}@keyframes _ngcontent-%COMP%_rotate{0%{transform:rotate(0)}to{transform:rotate(720deg)}}button[_ngcontent-%COMP%]:has(.fa.fa-plus){border-radius:100%;position:fixed;right:25px;bottom:75px;z-index:4}@supports (-webkit-hyphens: none){button[_ngcontent-%COMP%]:has(.fa.fa-plus){bottom:100px}}.toast-container[_ngcontent-%COMP%]{position:fixed;top:15px;left:50%;transform:translate(-50%);z-index:1200}.toast-container[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:last-child){--bs-toast-spacing: .5rem}.offcanvas-body[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]});let t=e;return t})();var Xv="@",Ho=class{constructor(e,n,r,i,s){this.doc=e,this.delegate=n,this.zone=r,this.animationType=i,this.moduleImpl=s,this._rendererFactoryPromise=null}loadImpl(){return(this.moduleImpl??import("./chunk-2TQZJVSN.js")).catch(n=>{throw new x(5300,!1)}).then(({\u0275createEngine:n,\u0275AnimationRendererFactory:r})=>{let i=n(this.animationType,this.doc),s=new r(this.delegate,i,this.zone);return this.delegate=s,s})}createRenderer(e,n){let r=this.delegate.createRenderer(e,n);if(r.\u0275type===0)return r;typeof r.throwOnSyntheticProps=="boolean"&&(r.throwOnSyntheticProps=!1);let i=new Wo(r);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(s=>{let o=s.createRenderer(e,n);i.use(o)}).catch(s=>{i.use(r)}),i}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}},Wo=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let n of this.replay)n(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,n){this.delegate.appendChild(e,n)}insertBefore(e,n,r,i){this.delegate.insertBefore(e,n,r,i)}removeChild(e,n,r){this.delegate.removeChild(e,n,r)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){this.shouldReplay(n)&&this.replay.push(i=>i.setProperty(e,n,r)),this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.shouldReplay(n)&&this.replay.push(i=>i.listen(e,n,r)),this.delegate.listen(e,n,r)}shouldReplay(e){return this.replay!==null&&e.startsWith(Xv)}};function Fl(t="animations"){return we([{provide:Fn,useFactory:(e,n,r)=>new Ho(e,n,r,t),deps:[H,rr,U]},{provide:da,useValue:t==="noop"?"NoopAnimations":"BrowserAnimations"}])}var jl={apiUrl:"https://robertly.azurewebsites.net/api"};function $l(t,e){let n=localStorage.getItem(Dn);return n&&(t=t.clone({setHeaders:{Authorization:`Bearer ${n}`}})),e(t)}var ot={LOGS:"",STATS:"stats",EXERCISES:"exercises",SIGN_IN:"signin",SIGN_UP:"signup",DEVELOPER:"developer"},Zv=[{path:ot.EXERCISES,loadComponent:()=>import("./chunk-2GUMRYXH.js").then(t=>t.ExercisesPageComponent)},{path:ot.STATS,loadComponent:()=>import("./chunk-HDQBI5YP.js").then(t=>t.StatsPageComponent)},{path:ot.SIGN_IN,loadComponent:()=>import("./chunk-B4IZZFOF.js").then(t=>t.SignInComponent)},{path:ot.LOGS,pathMatch:"full",loadComponent:()=>import("./chunk-L2DIEPID.js").then(t=>t.ExerciseLogsPageComponent)},{path:ot.DEVELOPER,pathMatch:"full",loadComponent:()=>import("./chunk-DPTPEXT2.js").then(t=>t.DeveloperPageComponent)}],Je=new k("API_URL");Sc(Ul,{providers:[Yn,Fl(),vc(yc([$l])),au(Zv),cc("ngsw-worker.js",{enabled:!Oa()}),pi(Uu(()=>Fu({projectId:"gymtracker-b0b72",appId:"1:1063566206093:web:a3154a1ae143b91f05eec4",storageBucket:"gymtracker-b0b72.appspot.com",apiKey:"AIzaSyCA0ExS-7mRUULdk7CYFORL5zwYXd4lJ-E",authDomain:"gymtracker-b0b72.firebaseapp.com",messagingSenderId:"1063566206093"}))),pi(Rl(()=>Ol())),{provide:Je,useValue:jl.apiUrl}]}).catch(t=>console.error(t));export{uu as a,Dn as b,Nl as c,ot as d,Je as e};
