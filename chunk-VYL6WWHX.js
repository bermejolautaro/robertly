import{K as tc,L as er,M as nc,N as rc,O as tr,P as ic,a as wt,b as Va,c as de,d as Ha,e as za,f as Wa,g as Ba,h as Xn,i as Ga,j as Z,l as qa,m as Ka,n as Ya,o as Li,p as Ja,q as Xa,r as Za,s as Zn,w as Qn,x as Qa,y as ec}from"./chunk-PN7AUI3J.js";import{a as ki,b as La,c as xa,d as V,e as Di,f as qn,g as Kn,h as Ua,j as Yn,k as Fa,l as ja,m as $a,n as Ni,o as Mi,p as Jn}from"./chunk-FE5KJT64.js";import{$ as oa,$a as Ti,$b as ka,A as di,Aa as Se,B as ne,Ba as Ii,Bb as Re,C as hi,Ca as da,D as xn,Da as gt,Db as ba,E as pt,Ea as Ce,Eb as U,F as ea,Fb as L,G as pi,Ga as ce,Ha as ha,I as fi,Ia as wi,Ib as Ta,J as ft,Ja as pa,Jb as D,K as q,Ka as re,Kb as Kt,La as fa,Lb as Qe,Ma as Ei,N as Ue,Nb as Sa,O as Ze,Ob as Ca,P as ta,Pa as Gt,Pb as Aa,Q as mi,Qb as me,R as X,Ra as ma,Rb as Si,S as na,Sa as _i,Sb as Ra,T as ra,Ta as jn,Tb as Oa,Ua as bi,Va as $n,Vb as Ci,W as mt,Wa as ga,Wb as Ai,X as Fe,Y as gi,Ya as qt,Z as ia,Zb as Pa,_ as sa,a as m,ab as T,ac as Da,b as N,ba as aa,bb as ue,bc as Na,ca as x,cb as Vn,cc as Ri,da as ca,dc as zn,e as Ye,ea as O,eb as va,ec as Wn,f as l,fc as Oi,g as Ko,gb as Ae,gc as Pi,h as Yo,ha as M,hb as F,hc as Ma,i as Wt,ia as v,ic as It,j as ai,ja as je,jb as ya,jc as Bn,k as ci,ka as ua,kb as Ia,kc as Gn,l as pe,la as vi,lb as j,m as te,ma as P,mb as wa,n as Jo,na as b,o as Xo,oa as h,p as Je,pa as Bt,pb as Ea,q as Mn,qa as fe,qb as le,r as ui,ra as $e,rb as ie,s as li,sa as Un,sb as Hn,t as z,tb as _a,u as g,ua as Fn,ub as vt,v as Xe,va as K,vb as yt,w as Zo,wa as Y,wb as E,x as Qo,xa as yi,xb as I,y as Ln,ya as la,yb as W,z as w,za as Te}from"./chunk-UBKAMZXI.js";var Jt="Service workers are disabled or not supported by this browser";function Fl(t){return pt(()=>Xe(new Error(t)))}var Et=class{constructor(e){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=Fl(Jt);else{let r=pi(e,"controllerchange").pipe(w(()=>e.controller)),i=pt(()=>g(e.controller)),s=xn(i,r);this.worker=s.pipe(q(d=>!!d)),this.registration=this.worker.pipe(x(()=>e.getRegistration()));let c=pi(e,"message").pipe(w(d=>d.data)).pipe(q(d=>d&&d.type)).pipe(sa());c.connect(),this.events=c}}postMessage(e,n){return this.worker.pipe(X(1),O(r=>{r.postMessage(m({action:e},n))})).toPromise().then(()=>{})}postMessageWithOperation(e,n,r){let i=this.waitForOperationCompleted(r),s=this.postMessage(e,n);return Promise.all([s,i]).then(([,o])=>o)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(e){let n;return typeof e=="string"?n=r=>r.type===e:n=r=>e.includes(r.type),this.events.pipe(q(n))}nextEventOfType(e){return this.eventsOfType(e).pipe(X(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(q(n=>n.nonce===e),X(1),w(n=>{if(n.result!==void 0)return n.result;throw new Error(n.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},jl=(()=>{let e=class e{get isEnabled(){return this.sw.isEnabled}constructor(r){if(this.sw=r,this.pushManager=null,this.subscriptionChanges=new pe,!r.isEnabled){this.messages=ft,this.notificationClicks=ft,this.subscription=ft;return}this.messages=this.sw.eventsOfType("PUSH").pipe(w(s=>s.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(w(s=>s.data)),this.pushManager=this.sw.registration.pipe(w(s=>s.pushManager));let i=this.pushManager.pipe(x(s=>s.getSubscription()));this.subscription=fi(i,this.subscriptionChanges)}requestSubscription(r){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(Jt));let i={userVisibleOnly:!0},s=this.decodeBase64(r.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(s.length));for(let a=0;a<s.length;a++)o[a]=s.charCodeAt(a);return i.applicationServerKey=o,this.pushManager.pipe(x(a=>a.subscribe(i)),X(1)).toPromise().then(a=>(this.subscriptionChanges.next(a),a))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(Jt));let r=i=>{if(i===null)throw new Error("Not subscribed to push notifications.");return i.unsubscribe().then(s=>{if(!s)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(X(1),x(r)).toPromise()}decodeBase64(r){return atob(r)}};e.\u0275fac=function(i){return new(i||e)(b(Et))},e.\u0275prov=v({token:e,factory:e.\u0275fac});let t=e;return t})(),xi=(()=>{let e=class e{get isEnabled(){return this.sw.isEnabled}constructor(r){if(this.sw=r,!r.isEnabled){this.versionUpdates=ft,this.unrecoverable=ft;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Jt));let r=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:r},r)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Jt));let r=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:r},r)}};e.\u0275fac=function(i){return new(i||e)(b(Et))},e.\u0275prov=v({token:e,factory:e.\u0275fac});let t=e;return t})();var sc=new P("NGSW_REGISTER_SCRIPT");function $l(t,e,n,r){return()=>{if(!(Ni(r)&&"serviceWorker"in navigator&&n.enabled!==!1))return;navigator.serviceWorker.addEventListener("controllerchange",()=>{navigator.serviceWorker.controller!==null&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})});let i;if(typeof n.registrationStrategy=="function")i=n.registrationStrategy();else{let[o,...a]=(n.registrationStrategy||"registerWhenStable:30000").split(":");switch(o){case"registerImmediately":i=g(null);break;case"registerWithDelay":i=oc(+a[0]||0);break;case"registerWhenStable":i=a[0]?fi(ac(t),oc(+a[0])):ac(t);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${n.registrationStrategy}`)}}t.get(F).runOutsideAngular(()=>i.pipe(X(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:n.scope}).catch(o=>console.error("Service worker registration failed with:",o))))}}function oc(t){return g(null).pipe(ra(t))}function ac(t){return t.get(It).isStable.pipe(q(n=>n))}function Vl(t,e){return new Et(Ni(e)&&t.enabled!==!1?navigator.serviceWorker:void 0)}var Yt=class{};function cc(t,e={}){return Se([jl,xi,{provide:sc,useValue:t},{provide:Yt,useValue:e},{provide:Et,useFactory:Vl,deps:[Yt,re]},{provide:Ri,useFactory:$l,deps:[ce,sc,Yt,re],multi:!0}])}var Zt=class{},rr=class{},et=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Fi=class{encodeKey(e){return uc(e)}encodeValue(e){return uc(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function Gl(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=n.get(o)||[];u.push(a),n.set(o,u)}),n}var ql=/%(\d[a-f0-9])/gi,Kl={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function uc(t){return encodeURIComponent(t).replace(ql,(e,n)=>Kl[n]??e)}function nr(t){return`${t}`}var Ve=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Fi,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Gl(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(nr):[nr(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(nr(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(nr(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var ji=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function Yl(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function lc(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function dc(t){return typeof Blob<"u"&&t instanceof Blob}function hc(t){return typeof FormData<"u"&&t instanceof FormData}function Jl(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Xt=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(Yl(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers||(this.headers=new et),this.context||(this.context=new ji),!this.params)this.params=new Ve,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),u=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+u+o}}}serializeBody(){return this.body===null?null:lc(this.body)||dc(this.body)||hc(this.body)||Jl(this.body)||typeof this.body=="string"?this.body:this.body instanceof Ve?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||hc(this.body)?null:dc(this.body)?this.body.type||null:lc(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Ve?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.body!==void 0?e.body:this.body,o=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,a=e.reportProgress!==void 0?e.reportProgress:this.reportProgress,u=e.headers||this.headers,c=e.params||this.params,d=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((p,f)=>p.set(f,e.setHeaders[f]),u)),e.setParams&&(c=Object.keys(e.setParams).reduce((p,f)=>p.set(f,e.setParams[f]),c)),new t(n,r,s,{params:c,headers:u,context:d,reportProgress:a,responseType:i,withCredentials:o})}},_t=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(_t||{}),Qt=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new et,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},$i=class t extends Qt{constructor(e={}){super(e),this.type=_t.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ir=class t extends Qt{constructor(e={}){super(e),this.type=_t.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},bt=class extends Qt{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}};function Ui(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Oe=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,s={}){let o;if(r instanceof Xt)o=r;else{let c;s.headers instanceof et?c=s.headers:c=new et(s.headers);let d;s.params&&(s.params instanceof Ve?d=s.params:d=new Ve({fromObject:s.params})),o=new Xt(r,i,s.body!==void 0?s.body:null,{headers:c,context:s.context,params:d,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=g(o).pipe(Ze(c=>this.handler.handle(c)));if(r instanceof Xt||s.observe==="events")return a;let u=a.pipe(q(c=>c instanceof ir));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return u.pipe(w(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return u.pipe(w(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return u.pipe(w(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return u.pipe(w(c=>c.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new Ve().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,Ui(s,i))}post(r,i,s={}){return this.request("POST",r,Ui(s,i))}put(r,i,s={}){return this.request("PUT",r,Ui(s,i))}};e.\u0275fac=function(i){return new(i||e)(b(Zt))},e.\u0275prov=v({token:e,factory:e.\u0275fac});let t=e;return t})();function Xl(t,e){return e(t)}function Zl(t,e,n){return(r,i)=>Ce(n,()=>e(r,s=>t(s,i)))}var Vi=new P(""),Ql=new P(""),ed=new P("");var pc=(()=>{let e=class e extends Zt{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=h(Wn);let s=h(ed,{optional:!0});this.backend=s??r}handle(r){if(this.chain===null){let s=Array.from(new Set([...this.injector.get(Vi),...this.injector.get(Ql,[])]));this.chain=s.reduceRight((o,a)=>Zl(o,a,this.injector),Xl)}let i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(mt(()=>this.pendingTasks.remove(i)))}};e.\u0275fac=function(i){return new(i||e)(b(rr),b(gt))},e.\u0275prov=v({token:e,factory:e.\u0275fac});let t=e;return t})();var td=/^\)\]\}',?\n/;function nd(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var fc=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new M(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?z(i.\u0275loadImpl()):g(null)).pipe(x(()=>new Wt(o=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((A,C)=>a.setRequestHeader(A,C.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let A=r.detectContentTypeHeader();A!==null&&a.setRequestHeader("Content-Type",A)}if(r.responseType){let A=r.responseType.toLowerCase();a.responseType=A!=="json"?A:"text"}let u=r.serializeBody(),c=null,d=()=>{if(c!==null)return c;let A=a.statusText||"OK",C=new et(a.getAllResponseHeaders()),ae=nd(a)||r.url;return c=new $i({headers:C,status:a.status,statusText:A,url:ae}),c},p=()=>{let{headers:A,status:C,statusText:ae,url:dt}=d(),$=null;C!==204&&($=typeof a.response>"u"?a.responseText:a.response),C===0&&(C=$?200:0);let ht=C>=200&&C<300;if(r.responseType==="json"&&typeof $=="string"){let zt=$;$=$.replace(td,"");try{$=$!==""?JSON.parse($):null}catch(Nn){$=zt,ht&&(ht=!1,$={error:Nn,text:$})}}ht?(o.next(new ir({body:$,headers:A,status:C,statusText:ae,url:dt||void 0})),o.complete()):o.error(new bt({error:$,headers:A,status:C,statusText:ae,url:dt||void 0}))},f=A=>{let{url:C}=d(),ae=new bt({error:A,status:a.status||0,statusText:a.statusText||"Unknown Error",url:C||void 0});o.error(ae)},S=!1,G=A=>{S||(o.next(d()),S=!0);let C={type:_t.DownloadProgress,loaded:A.loaded};A.lengthComputable&&(C.total=A.total),r.responseType==="text"&&a.responseText&&(C.partialText=a.responseText),o.next(C)},oe=A=>{let C={type:_t.UploadProgress,loaded:A.loaded};A.lengthComputable&&(C.total=A.total),o.next(C)};return a.addEventListener("load",p),a.addEventListener("error",f),a.addEventListener("timeout",f),a.addEventListener("abort",f),r.reportProgress&&(a.addEventListener("progress",G),u!==null&&a.upload&&a.upload.addEventListener("progress",oe)),a.send(u),o.next({type:_t.Sent}),()=>{a.removeEventListener("error",f),a.removeEventListener("abort",f),a.removeEventListener("load",p),a.removeEventListener("timeout",f),r.reportProgress&&(a.removeEventListener("progress",G),u!==null&&a.upload&&a.upload.removeEventListener("progress",oe)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(b(Jn))},e.\u0275prov=v({token:e,factory:e.\u0275fac});let t=e;return t})(),mc=new P("XSRF_ENABLED"),rd="XSRF-TOKEN",id=new P("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>rd}),sd="X-XSRF-TOKEN",od=new P("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>sd}),sr=class{},ad=(()=>{let e=class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=Kn(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(b(V),b(re),b(id))},e.\u0275prov=v({token:e,factory:e.\u0275fac});let t=e;return t})();function cd(t,e){let n=t.url.toLowerCase();if(!h(mc)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=h(sr).getToken(),i=h(od);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var gc=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(gc||{});function ud(t,e){return{\u0275kind:t,\u0275providers:e}}function vc(...t){let e=[Oe,fc,pc,{provide:Zt,useExisting:pc},{provide:rr,useExisting:fc},{provide:Vi,useValue:cd,multi:!0},{provide:mc,useValue:!0},{provide:sr,useClass:ad}];for(let n of t)e.push(...n.\u0275providers);return Se(e)}function yc(t){return ud(gc.Interceptors,t.map(e=>({provide:Vi,useValue:e,multi:!0})))}var Wi=class extends xa{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Bi=class t extends Wi{static makeCurrent(){La(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=dd();return n==null?null:hd(n)}resetBaseElement(){en=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Kn(document.cookie,e)}},en=null;function dd(){return en=en||document.querySelector("base"),en?en.getAttribute("href"):null}function hd(t){return new URL(t,"http://a").pathname}var pd=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=v({token:e,factory:e.\u0275fac});let t=e;return t})(),Gi=new P("EventManagerPlugins"),Ec=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new M(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(b(Gi),b(F))},e.\u0275prov=v({token:e,factory:e.\u0275fac});let t=e;return t})(),or=class{constructor(e){this._doc=e}},Hi="ng-app-id",_c=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Mi(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Hi}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Hi),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Hi,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(b(V),b(wi),b(Ei,8),b(re))},e.\u0275prov=v({token:e,factory:e.\u0275fac});let t=e;return t})(),zi={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ki=/%COMP%/g,bc="%COMP%",fd=`_nghost-${bc}`,md=`_ngcontent-${bc}`,gd=!0,vd=new P("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>gd});function yd(t){return md.replace(Ki,t)}function Id(t){return fd.replace(Ki,t)}function Tc(t,e){return e.map(n=>n.replace(Ki,t))}var ar=(()=>{let e=class e{constructor(r,i,s,o,a,u,c,d=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=u,this.ngZone=c,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=Mi(u),this.defaultRenderer=new tn(r,a,c,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Bt.ShadowDom&&(i=N(m({},i),{encapsulation:Bt.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof cr?s.applyToHost(r):s instanceof nn&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,u=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case Bt.Emulated:o=new cr(c,d,i,this.appId,p,a,u,f);break;case Bt.ShadowDom:return new qi(c,d,r,i,a,u,this.nonce,f);default:o=new nn(c,d,i,p,a,u,f);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(b(Ec),b(_c),b(wi),b(vd),b(V),b(re),b(F),b(Ei))},e.\u0275prov=v({token:e,factory:e.\u0275fac});let t=e;return t})(),tn=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(zi[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Ic(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Ic(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new M(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=zi[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=zi[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Gt.DashCase|Gt.Important)?e.style.setProperty(n,r,i&Gt.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Gt.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=ki().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function Ic(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var qi=class extends tn{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=Tc(i.id,i.styles);for(let d of c){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=d,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},nn=class extends tn{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?Tc(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},cr=class extends nn{constructor(e,n,r,i,s,o,a,u){let c=i+"-"+r.id;super(e,n,r,s,o,a,u,c),this.contentAttr=yd(c),this.hostAttr=Id(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},wd=(()=>{let e=class e extends or{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(b(V))},e.\u0275prov=v({token:e,factory:e.\u0275fac});let t=e;return t})(),wc=["alt","control","meta","shift"],Ed={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_d={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},bd=(()=>{let e=class e extends or{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ki().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),wc.forEach(d=>{let p=i.indexOf(d);p>-1&&(i.splice(p,1),a+=d+".")}),a+=o,i.length!=0||o.length===0)return null;let c={};return c.domEventName=s,c.fullKey=a,c}static matchEventFullKeyCode(r,i){let s=Ed[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),wc.forEach(a=>{if(a!==s){let u=_d[a];u(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(b(V))},e.\u0275prov=v({token:e,factory:e.\u0275fac});let t=e;return t})();function Sc(t,e){return Ma(m({rootComponent:t},Td(e)))}function Td(t){return{appProviders:[...Od,...t?.providers??[]],platformProviders:Rd}}function Sd(){Bi.makeCurrent()}function Cd(){return new Ti}function Ad(){return ha(document),document}var Rd=[{provide:re,useValue:$a},{provide:pa,useValue:Sd,multi:!0},{provide:V,useFactory:Ad,deps:[]}];var Od=[{provide:da,useValue:"root"},{provide:Ti,useFactory:Cd,deps:[]},{provide:Gi,useClass:wd,multi:!0,deps:[V,F,re]},{provide:Gi,useClass:bd,multi:!0,deps:[V]},ar,_c,Ec,{provide:jn,useExisting:ar},{provide:Jn,useClass:pd,deps:[]},[]];function Pd(){return new Yi(b(V))}var Yi=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(b(V))},e.\u0275prov=v({token:e,factory:function(i){let s=null;return i?s=new i:s=Pd(),s},providedIn:"root"});let t=e;return t})();var _="primary",yn=Symbol("RouteTitle"),es=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Rt(t){return new es(t)}function Dd(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Nd(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ge(t[n],e[n]))return!1;return!0}function ge(t,e){let n=t?ts(t):void 0,r=e?ts(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Dc(t[i],e[i]))return!1;return!0}function ts(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Dc(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function Nc(t){return t.length>0?t[t.length-1]:null}function We(t){return Zo(t)?t:ba(t)?z(Promise.resolve(t)):g(t)}var Md={exact:Lc,subset:xc},Mc={exact:Ld,subset:xd,ignored:()=>!0};function Cc(t,e,n){return Md[n.paths](t.root,e.root,n.matrixParams)&&Mc[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function Ld(t,e){return ge(t,e)}function Lc(t,e,n){if(!nt(t.segments,e.segments)||!dr(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!Lc(t.children[r],e.children[r],n))return!1;return!0}function xd(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Dc(t[n],e[n]))}function xc(t,e,n){return Uc(t,e,e.segments,n)}function Uc(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!nt(i,n)||e.hasChildren()||!dr(i,n,r))}else if(t.segments.length===n.length){if(!nt(t.segments,n)||!dr(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!xc(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!nt(t.segments,i)||!dr(t.segments,i,r)||!t.children[_]?!1:Uc(t.children[_],e,s,r)}}function dr(t,e,n){return e.every((r,i)=>Mc[n](t[i].parameters,r.parameters))}var He=class{constructor(e=new R([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Rt(this.queryParams)),this._queryParamMap}toString(){return jd.serialize(this)}},R=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return hr(this)}},tt=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Rt(this.parameters)),this._parameterMap}toString(){return jc(this)}};function Ud(t,e){return nt(t,e)&&t.every((n,r)=>ge(n.parameters,e[r].parameters))}function nt(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function Fd(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===_&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==_&&(n=n.concat(e(i,r)))}),n}var Cs=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=v({token:e,factory:()=>(()=>new fr)(),providedIn:"root"});let t=e;return t})(),fr=class{parse(e){let n=new rs(e);return new He(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${rn(e.root,!0)}`,r=Hd(e.queryParams),i=typeof e.fragment=="string"?`#${$d(e.fragment)}`:"";return`${n}${r}${i}`}},jd=new fr;function hr(t){return t.segments.map(e=>jc(e)).join("/")}function rn(t,e){if(!t.hasChildren())return hr(t);if(e){let n=t.children[_]?rn(t.children[_],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==_&&r.push(`${i}:${rn(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=Fd(t,(r,i)=>i===_?[rn(t.children[_],!1)]:[`${i}:${rn(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[_]!=null?`${hr(t)}/${n[0]}`:`${hr(t)}/(${n.join("//")})`}}function Fc(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ur(t){return Fc(t).replace(/%3B/gi,";")}function $d(t){return encodeURI(t)}function ns(t){return Fc(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function pr(t){return decodeURIComponent(t)}function Ac(t){return pr(t.replace(/\+/g,"%20"))}function jc(t){return`${ns(t.path)}${Vd(t.parameters)}`}function Vd(t){return Object.keys(t).map(e=>`;${ns(e)}=${ns(t[e])}`).join("")}function Hd(t){let e=Object.keys(t).map(n=>{let r=t[n];return Array.isArray(r)?r.map(i=>`${ur(n)}=${ur(i)}`).join("&"):`${ur(n)}=${ur(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}var zd=/^[^\/()?;#]+/;function Ji(t){let e=t.match(zd);return e?e[0]:""}var Wd=/^[^\/()?;=#]+/;function Bd(t){let e=t.match(Wd);return e?e[0]:""}var Gd=/^[^=?&#]+/;function qd(t){let e=t.match(Gd);return e?e[0]:""}var Kd=/^[^&#]+/;function Yd(t){let e=t.match(Kd);return e?e[0]:""}var rs=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new R([],{}):new R([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[_]=new R(e,n)),r}parseSegment(){let e=Ji(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new M(4009,!1);return this.capture(e),new tt(pr(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=Bd(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Ji(this.remaining);i&&(r=i,this.capture(r))}e[pr(n)]=pr(r)}parseQueryParam(e){let n=qd(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=Yd(this.remaining);o&&(r=o,this.capture(r))}let i=Ac(n),s=Ac(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Ji(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new M(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=_);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[_]:new R([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new M(4011,!1)}};function $c(t){return t.segments.length>0?new R([],{[_]:t}):t}function Vc(t){let e={};for(let r of Object.keys(t.children)){let i=t.children[r],s=Vc(i);if(r===_&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new R(t.segments,e);return Jd(n)}function Jd(t){if(t.numberOfChildren===1&&t.children[_]){let e=t.children[_];return new R(t.segments.concat(e.segments),e.children)}return t}function Ot(t){return t instanceof He}function Xd(t,e,n=null,r=null){let i=Hc(t);return zc(i,e,n,r)}function Hc(t){let e;function n(s){let o={};for(let u of s.children){let c=n(u);o[u.outlet]=c}let a=new R(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=$c(r);return e??i}function zc(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Xi(i,i,i,n,r);let s=Zd(e);if(s.toRoot())return Xi(i,i,new R([],{}),n,r);let o=Qd(s,i,t),a=o.processChildren?an(o.segmentGroup,o.index,s.commands):Bc(o.segmentGroup,o.index,s.commands);return Xi(i,o.segmentGroup,a,n,r)}function mr(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ln(t){return typeof t=="object"&&t!=null&&t.outlets}function Xi(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,c])=>{s[u]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let o;t===e?o=n:o=Wc(t,e,n);let a=$c(Vc(o));return new He(a,s,i)}function Wc(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=Wc(s,e,n)}),new R(t.segments,r)}var gr=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&mr(r[0]))throw new M(4003,!1);let i=r.find(ln);if(i&&i!==Nc(r))throw new M(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Zd(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new gr(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,c])=>{a[u]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new gr(n,e,r)}var Ct=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function Qd(t,e,n){if(t.isAbsolute)return new Ct(e,!0,0);if(!n)return new Ct(e,!1,NaN);if(n.parent===null)return new Ct(n,!0,0);let r=mr(t.commands[0])?0:1,i=n.segments.length-1+r;return eh(n,i,t.numberOfDoubleDots)}function eh(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new M(4005,!1);i=r.segments.length}return new Ct(r,!1,i-s)}function th(t){return ln(t[0])?t[0].outlets:{[_]:t}}function Bc(t,e,n){if(t||(t=new R([],{})),t.segments.length===0&&t.hasChildren())return an(t,e,n);let r=nh(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new R(t.segments.slice(0,r.pathIndex),{});return s.children[_]=new R(t.segments.slice(r.pathIndex),t.children),an(s,0,i)}else return r.match&&i.length===0?new R(t.segments,{}):r.match&&!t.hasChildren()?is(t,e,n):r.match?an(t,0,i):is(t,e,n)}function an(t,e,n){if(n.length===0)return new R(t.segments,{});{let r=th(n),i={};if(Object.keys(r).some(s=>s!==_)&&t.children[_]&&t.numberOfChildren===1&&t.children[_].segments.length===0){let s=an(t.children[_],e,n);return new R(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=Bc(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new R(t.segments,i)}}function nh(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(ln(a))break;let u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&c&&typeof c=="object"&&c.outlets===void 0){if(!Oc(u,c,o))return s;r+=2}else{if(!Oc(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function is(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(ln(s)){let u=rh(s.outlets);return new R(r,u)}if(i===0&&mr(n[0])){let u=t.segments[e];r.push(new tt(u.path,Rc(n[0]))),i++;continue}let o=ln(s)?s.outlets[_]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&mr(a)?(r.push(new tt(o,Rc(a))),i+=2):(r.push(new tt(o,{})),i++)}return new R(r,{})}function rh(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=is(new R([],{}),0,r))}),e}function Rc(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function Oc(t,e,n){return t==n.path&&ge(e,n.parameters)}var cn="imperative",se=class{constructor(e,n){this.id=e,this.url=n}},dn=class extends se{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Pe=class extends se{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ze=class extends se{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},rt=class extends se{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}},hn=class extends se{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},vr=class extends se{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ss=class extends se{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},os=class extends se{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},as=class extends se{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cs=class extends se{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},us=class{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ls=class{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ds=class{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hs=class{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ps=class{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fs=class{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var pn=class{},fn=class{constructor(e){this.url=e}};var ms=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new br,this.attachRef=null}},br=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new ms,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=v({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),yr=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=gs(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=gs(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=vs(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return vs(e,this._root).map(n=>n.value)}};function gs(t,e){if(t===e.value)return e;for(let n of e.children){let r=gs(t,n);if(r)return r}return null}function vs(t,e){if(t===e.value)return[e];for(let n of e.children){let r=vs(t,n);if(r.length)return r.unshift(e),r}return[]}var Q=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function St(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Ir=class extends yr{constructor(e,n){super(e),this.snapshot=n,Rs(this,e)}toString(){return this.snapshot.toString()}};function Gc(t,e){let n=ih(t,e),r=new te([new tt("",{})]),i=new te({}),s=new te({}),o=new te({}),a=new te(""),u=new it(r,i,o,a,s,_,e,n.root);return u.snapshot=n.root,new Ir(new Q(u,[]),n)}function ih(t,e){let n={},r={},i={},s="",o=new mn([],n,i,s,r,_,e,null,{});return new wr("",new Q(o,[]))}var it=class{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(w(c=>c[yn]))??g(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(w(e=>Rt(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(w(e=>Rt(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function As(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:m(m({},e.params),t.params),data:m(m({},e.data),t.data),resolve:m(m(m(m({},t.data),e.data),i?.data),t._resolvedData)}:r={params:t.params,data:t.data,resolve:m(m({},t.data),t._resolvedData??{})},i&&Kc(i)&&(r.resolve[yn]=i.title),r}var mn=class{get title(){return this.data?.[yn]}constructor(e,n,r,i,s,o,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Rt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Rt(this.queryParams)),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},wr=class extends yr{constructor(e,n){super(n),this.url=e,Rs(this,n)}toString(){return qc(this._root)}};function Rs(t,e){e.value._routerState=t,e.children.forEach(n=>Rs(t,n))}function qc(t){let e=t.children.length>0?` { ${t.children.map(qc).join(", ")} } `:"";return`${t.value}${e}`}function Zi(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ge(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),ge(e.params,n.params)||t.paramsSubject.next(n.params),Nd(e.url,n.url)||t.urlSubject.next(n.url),ge(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function ys(t,e){let n=ge(t.params,e.params)&&Ud(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||ys(t.parent,e.parent))}function Kc(t){return typeof t.title=="string"||t.title===null}var Os=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=_,this.activateEvents=new Ae,this.deactivateEvents=new Ae,this.attachEvents=new Ae,this.detachEvents=new Ae,this.parentContexts=h(br),this.location=h(Ea),this.changeDetector=h(Vn),this.environmentInjector=h(gt),this.inputBinder=h(Ps,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new M(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new M(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new M(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new M(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,c=new Is(r,u,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Un({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Fn]});let t=e;return t})(),Is=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===it?this.route:e===br?this.childContexts:this.parent.get(e,n)}},Ps=new P("");function sh(t,e,n){let r=gn(t,e._root,n?n._root:void 0);return new Ir(r,e)}function gn(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=oh(t,e,n);return new Q(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>gn(t,a)),o}}let r=ah(e.value),i=e.children.map(s=>gn(t,s));return new Q(r,i)}}function oh(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return gn(t,r,i);return gn(t,r)})}function ah(t){return new it(new te(t.url),new te(t.params),new te(t.queryParams),new te(t.fragment),new te(t.data),t.outlet,t.component,t)}var Yc="ngNavigationCancelingError";function Jc(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Ot(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Xc(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function Xc(t,e,n){let r=new Error("NavigationCancelingError: "+(t||""));return r[Yc]=!0,r.cancellationCode=e,n&&(r.url=n),r}function ch(t){return Zc(t)&&Ot(t.url)}function Zc(t){return t&&t[Yc]}var uh=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=fe({type:e,selectors:[["ng-component"]],standalone:!0,features:[me],decls:1,vars:0,template:function(i,s){i&1&&W(0,"router-outlet")},dependencies:[Os],encapsulation:2});let t=e;return t})();function lh(t,e){return t.providers&&!t._injector&&(t._injector=Aa(t.providers,e,`Route: ${t.path}`)),t._injector??e}function ks(t){let e=t.children&&t.children.map(ks),n=e?N(m({},t),{children:e}):m({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==_&&(n.component=uh),n}function ve(t){return t.outlet||_}function dh(t,e){let n=t.filter(r=>ve(r)===e);return n.push(...t.filter(r=>ve(r)!==e)),n}function In(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var hh=(t,e,n,r)=>w(i=>(new ws(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),ws=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Zi(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=St(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=St(e);for(let o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=St(e);for(let o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=St(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new fs(s.value.snapshot))}),e.children.length&&this.forwardEvent(new hs(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Zi(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Zi(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=In(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},Er=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},At=class{constructor(e,n){this.component=e,this.route=n}};function ph(t,e,n){let r=t._root,i=e?e._root:null;return sn(r,i,n,[r.value])}function fh(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Dt(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!ua(t)?t:e.get(t):r}function sn(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=St(e);return t.children.forEach(o=>{mh(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>un(a,n.getContext(o),i)),i}function mh(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=gh(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Er(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?sn(t,e,a?a.children:null,r,i):sn(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new At(a.outlet.component,o))}else o&&un(e,a,i),i.canActivateChecks.push(new Er(r)),s.component?sn(t,null,a?a.children:null,r,i):sn(t,null,n,r,i);return i}function gh(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!nt(t.url,e.url);case"pathParamsOrQueryParamsChange":return!nt(t.url,e.url)||!ge(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ys(t,e)||!ge(t.queryParams,e.queryParams);case"paramsChange":default:return!ys(t,e)}}function un(t,e,n){let r=St(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?un(o,e.children.getContext(s),n):un(o,null,n):un(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new At(e.outlet.component,i)):n.canDeactivateChecks.push(new At(null,i)):n.canDeactivateChecks.push(new At(null,i))}function wn(t){return typeof t=="function"}function vh(t){return typeof t=="boolean"}function yh(t){return t&&wn(t.canLoad)}function Ih(t){return t&&wn(t.canActivate)}function wh(t){return t&&wn(t.canActivateChild)}function Eh(t){return t&&wn(t.canDeactivate)}function _h(t){return t&&wn(t.canMatch)}function Qc(t){return t instanceof Qo||t?.name==="EmptyError"}var lr=Symbol("INITIAL_VALUE");function Pt(){return x(t=>di(t.map(e=>e.pipe(X(1),aa(lr)))).pipe(w(e=>{for(let n of e)if(n!==!0){if(n===lr)return lr;if(n===!1||n instanceof He)return n}return!0}),q(e=>e!==lr),X(1)))}function bh(t,e){return ne(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?g(N(m({},n),{guardsResult:!0})):Th(o,r,i,t).pipe(ne(a=>a&&vh(a)?Sh(r,s,t,e):g(a)),w(a=>N(m({},n),{guardsResult:a})))})}function Th(t,e,n,r){return z(t).pipe(ne(i=>Ph(i.component,i.route,n,e,r)),Fe(i=>i!==!0,!0))}function Sh(t,e,n,r){return z(e).pipe(Ze(i=>xn(Ah(i.route.parent,r),Ch(i.route,r),Oh(t,i.path,n),Rh(t,i.route,n))),Fe(i=>i!==!0,!0))}function Ch(t,e){return t!==null&&e&&e(new ps(t)),g(!0)}function Ah(t,e){return t!==null&&e&&e(new ds(t)),g(!0)}function Rh(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return g(!0);let i=r.map(s=>pt(()=>{let o=In(e)??n,a=Dt(s,o),u=Ih(a)?a.canActivate(e,t):Ce(o,()=>a(e,t));return We(u).pipe(Fe())}));return g(i).pipe(Pt())}function Oh(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>fh(o)).filter(o=>o!==null).map(o=>pt(()=>{let a=o.guards.map(u=>{let c=In(o.node)??n,d=Dt(u,c),p=wh(d)?d.canActivateChild(r,t):Ce(c,()=>d(r,t));return We(p).pipe(Fe())});return g(a).pipe(Pt())}));return g(s).pipe(Pt())}function Ph(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return g(!0);let o=s.map(a=>{let u=In(e)??i,c=Dt(a,u),d=Eh(c)?c.canDeactivate(t,e,n,r):Ce(u,()=>c(t,e,n,r));return We(d).pipe(Fe())});return g(o).pipe(Pt())}function kh(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return g(!0);let s=i.map(o=>{let a=Dt(o,t),u=yh(a)?a.canLoad(e,n):Ce(t,()=>a(e,n));return We(u)});return g(s).pipe(Pt(),eu(r))}function eu(t){return Yo(O(e=>{if(Ot(e))throw Jc(t,e)}),w(e=>e===!0))}function Dh(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return g(!0);let s=i.map(o=>{let a=Dt(o,t),u=_h(a)?a.canMatch(e,n):Ce(t,()=>a(e,n));return We(u)});return g(s).pipe(Pt(),eu(r))}var vn=class{constructor(e){this.segmentGroup=e||null}},_r=class extends Error{constructor(e){super(),this.urlTree=e}};function Tt(t){return Xe(new vn(t))}function Nh(t){return Xe(new M(4e3,!1))}function Mh(t){return Xe(Xc(!1,3))}var Es=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new M(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return g(r);if(i.numberOfChildren>1||!i.children[_])return Nh(e.redirectTo);i=i.children[_]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new _r(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new He(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new R(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new M(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},_s={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Lh(t,e,n,r,i){let s=Ds(t,e,n);return s.matched?(r=lh(e,r),Dh(r,e,n,i).pipe(w(o=>o===!0?s:m({},_s)))):g(s)}function Ds(t,e,n){if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?m({},_s):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Dd)(n,t,e);if(!i)return m({},_s);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?m(m({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Pc(t,e,n,r){return n.length>0&&Fh(t,n,r)?{segmentGroup:new R(e,Uh(r,new R(n,t.children))),slicedSegments:[]}:n.length===0&&jh(t,n,r)?{segmentGroup:new R(t.segments,xh(t,e,n,r,t.children)),slicedSegments:n}:{segmentGroup:new R(t.segments,t.children),slicedSegments:n}}function xh(t,e,n,r,i){let s={};for(let o of r)if(Tr(t,n,o)&&!i[ve(o)]){let a=new R([],{});s[ve(o)]=a}return m(m({},i),s)}function Uh(t,e){let n={};n[_]=e;for(let r of t)if(r.path===""&&ve(r)!==_){let i=new R([],{});n[ve(r)]=i}return n}function Fh(t,e,n){return n.some(r=>Tr(t,e,r)&&ve(r)!==_)}function jh(t,e,n){return n.some(r=>Tr(t,e,r))}function Tr(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function $h(t,e,n,r){return ve(t)!==r&&(r===_||!Tr(e,n,t))?!1:t.path==="**"?!0:Ds(e,t,n).matched}function Vh(t,e,n){return e.length===0&&!t.children[n]}var bs=class{};function Hh(t,e,n,r,i,s,o="emptyOnly"){return new Ts(t,e,n,r,i,o,s).recognize()}var zh=31,Ts=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Es(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new M(4002,!1)}recognize(){let e=Pc(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(w(n=>{let r=new mn([],Object.freeze({}),Object.freeze(m({},this.urlTree.queryParams)),this.urlTree.fragment,{},_,this.rootComponentType,null,{}),i=new Q(r,n),s=new wr("",i),o=Xd(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,_).pipe(Ue(r=>{if(r instanceof _r)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof vn?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=As(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(w(s=>s instanceof Q?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return z(i).pipe(Ze(s=>{let o=r.children[s],a=dh(n,s);return this.processSegmentGroup(e,a,o,s)}),oa((s,o)=>(s.push(...o),s)),mi(null),ia(),ne(s=>{if(s===null)return Tt(r);let o=tu(s);return Wh(o),g(o)}))}processSegment(e,n,r,i,s,o){return z(n).pipe(Ze(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Ue(u=>{if(u instanceof vn)return g(null);throw u}))),Fe(a=>!!a),Ue(a=>{if(Qc(a))return Vh(r,i,s)?g(new bs):Tt(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return $h(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Tt(i):Tt(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:u,positionalParamSegments:c,remainingSegments:d}=i.path==="**"?kc(s):Ds(n,i,s);if(!a)return Tt(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>zh&&(this.allowRedirects=!1));let p=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,c);return this.applyRedirects.lineralizeSegments(i,p).pipe(ne(f=>this.processSegment(e,r,n,f.concat(d),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o;return r.path==="**"?(o=g(kc(i)),n.children={}):o=Lh(n,r,i,e,this.urlSerializer),o.pipe(x(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(x(({routes:u})=>{let c=r._loadedInjector??e,{consumedSegments:d,remainingSegments:p,parameters:f}=a,S=new mn(d,f,Object.freeze(m({},this.urlTree.queryParams)),this.urlTree.fragment,Gh(r),ve(r),r.component??r._loadedComponent??null,r,qh(r)),{segmentGroup:G,slicedSegments:oe}=Pc(n,d,p,u);if(oe.length===0&&G.hasChildren())return this.processChildren(c,u,G).pipe(w(C=>C===null?null:new Q(S,C)));if(u.length===0&&oe.length===0)return g(new Q(S,[]));let A=ve(r)===s;return this.processSegment(c,u,G,oe,A?_:s,!0).pipe(w(C=>new Q(S,C instanceof Q?[C]:[])))}))):Tt(n)))}getChildConfig(e,n,r){return n.children?g({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?g({routes:n._loadedRoutes,injector:n._loadedInjector}):kh(e,n,r,this.urlSerializer).pipe(ne(i=>i?this.configLoader.loadChildren(e,n).pipe(O(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):Mh(n))):g({routes:[],injector:e})}};function Wh(t){t.sort((e,n)=>e.value.outlet===_?-1:n.value.outlet===_?1:e.value.outlet.localeCompare(n.value.outlet))}function Bh(t){let e=t.value.routeConfig;return e&&e.path===""}function tu(t){let e=[],n=new Set;for(let r of t){if(!Bh(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=tu(r.children);e.push(new Q(r.value,i))}return e.filter(r=>!n.has(r))}function Gh(t){return t.data||{}}function qh(t){return t.resolve||{}}function kc(t){return{matched:!0,parameters:t.length>0?Nc(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Kh(t,e,n,r,i,s){return ne(o=>Hh(t,e,n,r,o.extractedUrl,i,s).pipe(w(({state:a,tree:u})=>N(m({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function Yh(t,e){return ne(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return g(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let c of nu(u))o.add(c);let a=0;return z(o).pipe(Ze(u=>s.has(u)?Jh(u,r,t,e):(u.data=As(u,u.parent,t).resolve,g(void 0))),O(()=>a++),gi(1),ne(u=>a===o.size?g(n):Je))})}function nu(t){let e=t.children.map(n=>nu(n)).flat();return[t,...e]}function Jh(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!Kc(i)&&(s[yn]=i.title),Xh(s,t,e,r).pipe(w(o=>(t._resolvedData=o,t.data=As(t,t.parent,n).resolve,null)))}function Xh(t,e,n,r){let i=ts(t);if(i.length===0)return g({});let s={};return z(i).pipe(ne(o=>Zh(t[o],e,n,r).pipe(Fe(),O(a=>{s[o]=a}))),gi(1),na(s),Ue(o=>Qc(o)?Je:Xe(o)))}function Zh(t,e,n,r){let i=In(e)??r,s=Dt(t,i),o=s.resolve?s.resolve(e,n):Ce(i,()=>s(e,n));return We(o)}function Qi(t){return x(e=>{let n=t(e);return n?z(n).pipe(w(()=>e)):g(e)})}var ru=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===_);return i}getResolvedTitleForRoute(r){return r.data[yn]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=v({token:e,factory:()=>(()=>h(Qh))(),providedIn:"root"});let t=e;return t})(),Qh=(()=>{let e=class e extends ru{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(b(Yi))},e.\u0275prov=v({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ns=new P("",{providedIn:"root",factory:()=>({})}),Ms=new P("ROUTES"),ep=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=h(Oi)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return g(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=We(r.loadComponent()).pipe(w(iu),O(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),mt(()=>{this.componentLoaders.delete(r)})),s=new ci(i,()=>new pe).pipe(ai());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return g({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=tp(i,this.compiler,r,this.onLoadEndListener).pipe(mt(()=>{this.childrenLoaders.delete(i)})),a=new ci(o,()=>new pe).pipe(ai());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=v({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function tp(t,e,n,r){return We(t.loadChildren()).pipe(w(iu),ne(i=>i instanceof Ca||Array.isArray(i)?g(i):z(e.compileModuleAsync(i))),w(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Ms,[],{optional:!0,self:!0}).flat()),{routes:o.map(ks),injector:s}}))}function np(t){return t&&typeof t=="object"&&"default"in t}function iu(t){return np(t)?t.default:t}var Ls=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=v({token:e,factory:()=>(()=>h(rp))(),providedIn:"root"});let t=e;return t})(),rp=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=v({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ip=new P("");var sp=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new pe,this.transitionAbortSubject=new pe,this.configLoader=h(ep),this.environmentInjector=h(gt),this.urlSerializer=h(Cs),this.rootContexts=h(br),this.location=h(qn),this.inputBindingEnabled=h(Ps,{optional:!0})!==null,this.titleStrategy=h(ru),this.options=h(Ns,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=h(Ls),this.createViewTransition=h(ip,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>g(void 0),this.rootComponentType=null;let r=s=>this.events.next(new us(s)),i=s=>this.events.next(new ls(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(N(m(m({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new te({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:cn,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(q(o=>o.id!==0),w(o=>N(m({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),x(o=>{this.currentTransition=o;let a=!1,u=!1;return g(o).pipe(O(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?N(m({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),x(c=>{let d=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=c.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!d&&p!=="reload"){let f="";return this.events.next(new rt(c.id,this.urlSerializer.serialize(c.rawUrl),f,0)),c.resolve(null),Je}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return g(c).pipe(x(f=>{let S=this.transitions?.getValue();return this.events.next(new dn(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),S!==this.transitions?.getValue()?Je:Promise.resolve(f)}),Kh(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),O(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=N(m({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let S=new vr(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(S)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:f,extractedUrl:S,source:G,restoredState:oe,extras:A}=c,C=new dn(f,this.urlSerializer.serialize(S),G,oe);this.events.next(C);let ae=Gc(S,this.rootComponentType).snapshot;return this.currentTransition=o=N(m({},c),{targetSnapshot:ae,urlAfterRedirects:S,extras:N(m({},A),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=S,g(o)}else{let f="";return this.events.next(new rt(c.id,this.urlSerializer.serialize(c.extractedUrl),f,1)),c.resolve(null),Je}}),O(c=>{let d=new ss(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),w(c=>(this.currentTransition=o=N(m({},c),{guards:ph(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),bh(this.environmentInjector,c=>this.events.next(c)),O(c=>{if(o.guardsResult=c.guardsResult,Ot(c.guardsResult))throw Jc(this.urlSerializer,c.guardsResult);let d=new os(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(d)}),q(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",3),!1)),Qi(c=>{if(c.guards.canActivateChecks.length)return g(c).pipe(O(d=>{let p=new as(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}),x(d=>{let p=!1;return g(d).pipe(Yh(this.paramsInheritanceStrategy,this.environmentInjector),O({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(d,"",2)}}))}),O(d=>{let p=new cs(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}))}),Qi(c=>{let d=p=>{let f=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(p.routeConfig).pipe(O(S=>{p.component=S}),w(()=>{})));for(let S of p.children)f.push(...d(S));return f};return di(d(c.targetSnapshot.root)).pipe(mi(),X(1))}),Qi(()=>this.afterPreactivation()),x(()=>{let{currentSnapshot:c,targetSnapshot:d}=o,p=this.createViewTransition?.(this.environmentInjector,c.root,d.root);return p?z(p).pipe(w(()=>o)):g(o)}),w(c=>{let d=sh(r.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=N(m({},c),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),O(()=>{this.events.next(new pn)}),hh(this.rootContexts,r.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),X(1),O({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Pe(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),ca(this.transitionAbortSubject.pipe(O(c=>{throw c}))),mt(()=>{if(!a&&!u){let c="";this.cancelNavigationTransition(o,c,1)}this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Ue(c=>{if(u=!0,Zc(c))this.events.next(new ze(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),ch(c)?this.events.next(new fn(c.url)):o.resolve(!1);else{this.events.next(new hn(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(c))}catch(d){o.reject(d)}}return Je}))}))}cancelNavigationTransition(r,i,s){let o=new ze(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=v({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function op(t){return t!==cn}var ap=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=v({token:e,factory:()=>(()=>h(cp))(),providedIn:"root"});let t=e;return t})(),Ss=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},cp=(()=>{let e=class e extends Ss{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=yi(e)))(s||e)}})(),e.\u0275prov=v({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),su=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=v({token:e,factory:()=>(()=>h(up))(),providedIn:"root"});let t=e;return t})(),up=(()=>{let e=class e extends su{constructor(){super(...arguments),this.location=h(qn),this.urlSerializer=h(Cs),this.options=h(Ns,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=h(Ls),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new He,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Gc(this.currentUrlTree,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof dn)this.stateMemento=this.createStateMemento();else if(r instanceof rt)this.rawUrlTree=i.initialUrl;else if(r instanceof vr){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof pn?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof ze&&(r.code===3||r.code===2)?this.restoreHistory(i):r instanceof hn?this.restoreHistory(i,!0):r instanceof Pe&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=m(m({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=m(m({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=yi(e)))(s||e)}})(),e.\u0275prov=v({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),on=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(on||{});function lp(t,e){t.events.pipe(q(n=>n instanceof Pe||n instanceof ze||n instanceof hn||n instanceof rt),w(n=>n instanceof Pe||n instanceof rt?on.COMPLETE:(n instanceof ze?n.code===0||n.code===1:!1)?on.REDIRECTING:on.FAILED),q(n=>n!==on.REDIRECTING),X(1)).subscribe(()=>{e()})}function dp(t){throw t}var hp={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},pp={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Be=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=h(zn),this.stateManager=h(su),this.options=h(Ns,{optional:!0})||{},this.pendingTasks=h(Wn),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=h(sp),this.urlSerializer=h(Cs),this.location=h(qn),this.urlHandlingStrategy=h(Ls),this._events=new pe,this.errorHandler=this.options.errorHandler||dp,this.navigated=!1,this.routeReuseStrategy=h(ap),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=h(Ms,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!h(Ps,{optional:!0}),this.eventsSubscription=new Ko,this.isNgZoneEnabled=h(F)instanceof F&&F.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof ze&&i.code!==0&&i.code!==1)this.navigated=!0;else if(i instanceof Pe)this.navigated=!0;else if(i instanceof fn){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),u={skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||op(s.source)};this.scheduleNavigation(a,cn,null,u,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}mp(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),cn,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)}))}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let c=m({},s);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(ks),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:u,preserveFragment:c}=i,d=c?this.currentUrlTree.fragment:a,p=null;switch(u){case"merge":p=m(m({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}p!==null&&(p=this.removeEmptyProps(p));let f;try{let S=s?s.snapshot:this.routerState.snapshot.root;f=Hc(S)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),f=this.currentUrlTree.root}return zc(f,r,p,d??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=Ot(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,cn,null,i)}navigate(r,i={skipLocationChange:!1}){return fp(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=m({},hp):i===!1?s=m({},pp):s=i,Ot(r))return Cc(this.currentUrlTree,r,s);let o=this.parseUrl(r);return Cc(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.keys(r).reduce((i,s)=>{let o=r[s];return o!=null&&(i[s]=o),i},{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let u,c,d;a?(u=a.resolve,c=a.reject,d=a.promise):d=new Promise((f,S)=>{u=f,c=S});let p=this.pendingTasks.add();return lp(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:u,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(f=>Promise.reject(f))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=v({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function fp(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new M(4008,!1)}function mp(t){return!(t instanceof pn)&&!(t instanceof fn)}var kt=(()=>{let e=class e{constructor(r,i,s,o,a,u){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=u,this.href=null,this.commands=null,this.onChanges=new pe,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=r.events.subscribe(d=>{d instanceof Pe&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){if(this.urlTree===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state};return this.router.navigateByUrl(this.urlTree,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=this.urlTree!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;let r=this.href===null?null:ma(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(ue(Be),ue(it),la("tabindex"),ue(bi),ue(_i),ue(Di))},e.\u0275dir=Un({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&U("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&Ia("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Gn],skipLocationChange:["skipLocationChange","skipLocationChange",Gn],replaceUrl:["replaceUrl","replaceUrl",Gn],routerLink:"routerLink"},standalone:!0,features:[ya,Fn]});let t=e;return t})(),ou=(()=>{let e=class e{get isActive(){return this._isActive}constructor(r,i,s,o,a){this.router=r,this.element=i,this.renderer=s,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Ae,this.routerEventsSubscription=r.events.subscribe(u=>{u instanceof Pe&&this.update()})}ngAfterContentInit(){g(this.links.changes,g(null)).pipe(hi()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=z(r).pipe(hi()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(s=>!!s)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(r))})}isLinkActive(r){let i=gp(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>s.urlTree?r.isActive(s.urlTree,i):!1}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};e.\u0275fac=function(i){return new(i||e)(ue(Be),ue(_i),ue(bi),ue(Vn),ue(kt,8))},e.\u0275dir=Un({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,s,o){if(i&1&&ka(o,kt,5),i&2){let a;Pa(a=Da())&&(s.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Fn]});let t=e;return t})();function gp(t){return!!t.paths}var vp=new P("");function au(t,...e){return Se([{provide:Ms,multi:!0,useValue:t},[],{provide:it,useFactory:yp,deps:[Be]},{provide:Pi,multi:!0,useFactory:Ip},e.map(n=>n.\u0275providers)])}function yp(t){return t.routerState.root}function Ip(){let t=h(ce);return e=>{let n=t.get(It);if(e!==n.components[0])return;let r=t.get(Be),i=t.get(wp);t.get(Ep)===1&&r.initialNavigation(),t.get(_p,null,vi.Optional)?.setUpPreloading(),t.get(vp,null,vi.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var wp=new P("",{factory:()=>new pe}),Ep=new P("",{providedIn:"root",factory:()=>1});var _p=new P("");var cu=(()=>{let e=class e{constructor(){this.http=h(Oe),this.netApiUrl=h(ke)}getExerciseLogsv2(){return this.http.get(`${this.netApiUrl}/logs?page=0&count=5`).pipe(w(r=>r.data))}createExerciseLog(r){return this.http.post(`${this.netApiUrl}/logs`,r)}updateExerciseLog(r){return this.http.put(`${this.netApiUrl}/logs/${r.id}`,r)}deleteExerciseLog(r){return this.http.delete(`${this.netApiUrl}/logs/${r}`)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=v({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var uu=(()=>{let e=class e{constructor(){this.http=h(Oe),this.netApiUrl=h(ke)}getExercises(){return this.http.get(`${this.netApiUrl}/exercises`).pipe(w(r=>r.data))}createExercise(r){return this.http.post(`${this.netApiUrl}/exercises`,r)}updateExercise(r){return this.http.put(`${this.netApiUrl}/exercises/${r.id}`,r)}deleteExercise(r){return this.http.delete(`${this.netApiUrl}/exercises/${r}`)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=v({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function bp(t,e){if(t&1&&(E(0,"div",11),D(1),I()),t&2){let n=e.$implicit;T(1),Kt(n.value)}}function Tp(t,e){if(t&1&&(vt(0,bp,2,1,"div",12,Hn),Ci(2,"keyvalue")),t&2){let n=L();yt(Ai(2,0,n.createOrUpdateLogFormGroup.errors==null?null:n.createOrUpdateLogFormGroup.errors.exercise))}}function Sp(t,e){if(t&1&&(E(0,"div",13)(1,"span",14),D(2),I(),W(3,"input",15)(4,"input",16),I()),t&2){let n=e.$implicit,r=e.$index;T(2),Qe("Serie ",r+1,""),T(1),j("formControl",n.controls.reps),T(1),j("formControl",n.controls.weightInKg)}}function Cp(t,e){if(t&1&&(E(0,"div",11),D(1),I()),t&2){let n=e.$implicit;T(1),Kt(n.value)}}function Ap(t,e){if(t&1&&(vt(0,Cp,2,1,"div",12,Hn),Ci(2,"keyvalue")),t&2){let n=L();yt(Ai(2,0,n.createOrUpdateLogFormGroup.errors==null?null:n.createOrUpdateLogFormGroup.errors.series))}}function Rp(t,e){if(t&1){let n=Re();E(0,"button",17),U("click",function(){K(n);let i=L();return i.exerciseLogService.deleteLog$.next(i.originalValue),Y(i.modal.dismiss())}),D(1," Delete "),I()}}var Op=t=>({"justify-content-between":t}),Pp=(t,e)=>({"btn-primary":t,"btn-secondary":e}),lu=(()=>{let e=class e{constructor(){this.modal=h(Qa),this.exerciseLogService=h(de),this.titleCasePipe=h(Yn),this.mode=null,this.createOrUpdateLogFormGroup=null,this.originalValue=null,this.exerciseSelector=r=>typeof r=="string"?"":this.titleCasePipe.transform(r?.name)??""}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=fe({type:e,selectors:[["app-exercise-row-body"]],inputs:{mode:"mode",createOrUpdateLogFormGroup:"createOrUpdateLogFormGroup",originalValue:"originalValue"},standalone:!0,features:[me],decls:20,vars:16,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"modal-body"],[1,"mb-3"],["type","date","placeholder","DD-MM-YYYY","placeholder","Reps",1,"form-control",3,"formControl"],[1,"input-group"],["placeholder","Exercise",3,"items","control","itemSelector"],[1,"modal-footer",3,"ngClass"],["type","button","class","btn btn-danger me-auto"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn",3,"ngClass","disabled","click"],[1,"d-block","invalid-feedback"],["class","d-block invalid-feedback"],[1,"input-group","mb-3","align-items-center"],[1,"input-group-text"],["type","number","placeholder","Reps",1,"form-control",3,"formControl"],["type","number","placeholder","Kg",1,"form-control",3,"formControl"],["type","button",1,"btn","btn-danger","me-auto",3,"click"],["class","input-group mb-3 align-items-center"]],template:function(i,s){i&1&&(E(0,"div",0)(1,"h4",1),D(2),I()(),E(3,"div",2)(4,"form")(5,"div",3),W(6,"input",4),I(),E(7,"div",3)(8,"div",5),W(9,"app-typeahead",6),I(),le(10,Tp,3,2),I(),vt(11,Sp,5,3,"div",18,Hn),le(13,Ap,3,2),I()(),E(14,"div",7),le(15,Rp,2,0,"button",8),E(16,"button",9),U("click",function(){return s.modal.dismiss()}),D(17,"Cancel"),I(),E(18,"button",10),U("click",function(){return s.modal.close()}),D(19," Save "),I()()),i&2&&(T(2),Qe("",s.mode==="update"?"Edit":"Create"," Log"),T(4),j("formControl",s.createOrUpdateLogFormGroup.controls.date),T(3),j("items",s.exerciseLogService.exercises)("control",s.createOrUpdateLogFormGroup.controls.exercise)("itemSelector",s.exerciseSelector),T(1),ie(10,s.createOrUpdateLogFormGroup.controls.exercise.pristine?-1:10),T(1),yt(s.createOrUpdateLogFormGroup.controls.series.controls),T(2),ie(13,s.createOrUpdateLogFormGroup.controls.series.pristine?-1:13),T(1),j("ngClass",Ra(11,Op,s.mode==="update")),T(1),ie(15,s.mode==="update"?15:-1),T(3),j("ngClass",Oa(13,Pp,s.createOrUpdateLogFormGroup.valid,s.createOrUpdateLogFormGroup.invalid))("disabled",s.createOrUpdateLogFormGroup.invalid))},dependencies:[Xa,qa,Ha,Ka,Wa,Ba,Ya,Ja,Ga,nc,Ua,ic,ja],styles:["[_nghost-%COMP%]{--bs-heading-color: white;--bs-modal-color: white;--bs-body-bg: var(--light-bg);--bs-body-color: var(--font-color);--bs-tertiary-bg: var(--primary);--bs-border-width: 0;--bs-modal-footer-border-width: 0;--bs-modal-header-border-width: 0;--bs-modal-header-padding: .5rem}"],changeDetection:0});let t=e;return t})();var Sr=(()=>{let e=class e{constructor(){this.toasts=[]}show(r){this.toasts.push(r)}ok(r){this.show({text:r,type:"success"})}error(r){this.show({text:r??"An error ocurred",type:"danger"})}remove(r){this.toasts=this.toasts.filter(i=>i!==r)}clear(){this.toasts=[]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=v({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var hu=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},kp=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},pu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,d=s>>2,p=(s&3)<<4|a>>4,f=(a&15)<<2|c>>6,S=c&63;u||(S=64,o||(f=64)),r.push(n[d],n[p],n[f],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hu(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):kp(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let c=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||p==null)throw new Us;let f=s<<2|a>>4;if(r.push(f),c!==64){let S=a<<4&240|c>>2;if(r.push(S),p!==64){let G=c<<6&192|p;r.push(G)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Us=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Dp=function(t){let e=hu(t);return pu.encodeByteArray(e,!0)},js=function(t){return Dp(t).replace(/\./g,"")},$s=function(t){try{return pu.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Np(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Mp=()=>Np().__FIREBASE_DEFAULTS__,Lp=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},xp=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&$s(t[1]);return e&&JSON.parse(e)},Vs=()=>{try{return Mp()||Lp()||xp()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},fu=t=>{var e,n;return(n=(e=Vs())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]};var Hs=()=>{var t;return(t=Vs())===null||t===void 0?void 0:t.config},zs=t=>{var e;return(e=Vs())===null||e===void 0?void 0:e[`_${t}`]};var Cr=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function H(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mu(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(H())}function gu(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function vu(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yu(){let t=H();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Iu(){try{return typeof indexedDB=="object"}catch{return!1}}function wu(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var Up="FirebaseError",he=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Up,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,De.prototype.create)}},De=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Fp(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new he(i,a,r)}};function Fp(t,e){return t.replace(jp,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var jp=/\{\$([^}]+)}/g;function Eu(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Nt(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(du(s)&&du(o)){if(!Nt(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function du(t){return t!==null&&typeof t=="object"}function Mt(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function _u(t,e){let n=new Fs(t,e);return n.subscribe.bind(n)}var Fs=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");$p(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=xs),i.error===void 0&&(i.error=xs),i.complete===void 0&&(i.complete=xs);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function $p(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function xs(){}var HI=4*60*60*1e3;function Ge(t){return t&&t._delegate?t._delegate:t}var ye=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var st="[DEFAULT]";var Ws=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Cr;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Hp(e))try{this.getOrInitializeService({instanceIdentifier:st})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=st){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return l(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=st){return this.instances.has(e)}getOptions(e=st){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Vp(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=st){return this.component?this.component.multipleInstances?e:st:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Vp(t){return t===st?void 0:t}function Hp(t){return t.instantiationMode==="EAGER"}var Ar=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Ws(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var zp=[],k=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(k||{}),Wp={debug:k.DEBUG,verbose:k.VERBOSE,info:k.INFO,warn:k.WARN,error:k.ERROR,silent:k.SILENT},Bp=k.INFO,Gp={[k.DEBUG]:"log",[k.VERBOSE]:"log",[k.INFO]:"info",[k.WARN]:"warn",[k.ERROR]:"error"},qp=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=Gp[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Lt=class{constructor(e){this.name=e,this._logLevel=Bp,this._logHandler=qp,this._userLogHandler=null,zp.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in k))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Wp[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,k.DEBUG,...e),this._logHandler(this,k.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,k.VERBOSE,...e),this._logHandler(this,k.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,k.INFO,...e),this._logHandler(this,k.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,k.WARN,...e),this._logHandler(this,k.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,k.ERROR,...e),this._logHandler(this,k.ERROR,...e)}};var Kp=(t,e)=>e.some(n=>t instanceof n),bu,Tu;function Yp(){return bu||(bu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Jp(){return Tu||(Tu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Su=new WeakMap,Gs=new WeakMap,Cu=new WeakMap,Bs=new WeakMap,Ks=new WeakMap;function Xp(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ie(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Su.set(n,t)}).catch(()=>{}),Ks.set(e,t),e}function Zp(t){if(Gs.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Gs.set(t,e)}var qs={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Gs.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Cu.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ie(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Au(t){qs=t(qs)}function Qp(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Rr(this),e,...n);return Cu.set(r,e.sort?e.sort():[e]),Ie(r)}:Jp().includes(t)?function(...e){return t.apply(Rr(this),e),Ie(Su.get(this))}:function(...e){return Ie(t.apply(Rr(this),e))}}function ef(t){return typeof t=="function"?Qp(t):(t instanceof IDBTransaction&&Zp(t),Kp(t,Yp())?new Proxy(t,qs):t)}function Ie(t){if(t instanceof IDBRequest)return Xp(t);if(Bs.has(t))return Bs.get(t);let e=ef(t);return e!==t&&(Bs.set(t,e),Ks.set(e,t)),e}var Rr=t=>Ks.get(t);function Ou(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=Ie(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Ie(o.result),u.oldVersion,u.newVersion,Ie(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}var tf=["get","getKey","getAll","getAllKeys","count"],nf=["put","add","delete","clear"],Ys=new Map;function Ru(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ys.get(e))return Ys.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=nf.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||tf.includes(n)))return;let s=function(o,...a){return l(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),c=u.store;return r&&(c=c.index(a.shift())),(yield Promise.all([c[n](...a),i&&u.done]))[0]})};return Ys.set(e,s),s}Au(t=>N(m({},t),{get:(e,n,r)=>Ru(e,n)||t.get(e,n,r),has:(e,n)=>!!Ru(e,n)||t.has(e,n)}));var Xs=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rf(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function rf(t){let e=t.getComponent();return e?.type==="VERSION"}var Zs="@firebase/app",Pu="0.9.28";var ot=new Lt("@firebase/app"),sf="@firebase/app-compat",of="@firebase/analytics-compat",af="@firebase/analytics",cf="@firebase/app-check-compat",uf="@firebase/app-check",lf="@firebase/auth",df="@firebase/auth-compat",hf="@firebase/database",pf="@firebase/database-compat",ff="@firebase/functions",mf="@firebase/functions-compat",gf="@firebase/installations",vf="@firebase/installations-compat",yf="@firebase/messaging",If="@firebase/messaging-compat",wf="@firebase/performance",Ef="@firebase/performance-compat",_f="@firebase/remote-config",bf="@firebase/remote-config-compat",Tf="@firebase/storage",Sf="@firebase/storage-compat",Cf="@firebase/firestore",Af="@firebase/firestore-compat",Rf="firebase",Of="10.8.1";var Qs="[DEFAULT]",Pf={[Zs]:"fire-core",[sf]:"fire-core-compat",[af]:"fire-analytics",[of]:"fire-analytics-compat",[uf]:"fire-app-check",[cf]:"fire-app-check-compat",[lf]:"fire-auth",[df]:"fire-auth-compat",[hf]:"fire-rtdb",[pf]:"fire-rtdb-compat",[ff]:"fire-fn",[mf]:"fire-fn-compat",[gf]:"fire-iid",[vf]:"fire-iid-compat",[yf]:"fire-fcm",[If]:"fire-fcm-compat",[wf]:"fire-perf",[Ef]:"fire-perf-compat",[_f]:"fire-rc",[bf]:"fire-rc-compat",[Tf]:"fire-gcs",[Sf]:"fire-gcs-compat",[Cf]:"fire-fst",[Af]:"fire-fst-compat","fire-js":"fire-js",[Rf]:"fire-js-all"};var En=new Map,eo=new Map;function kf(t,e){try{t.container.addComponent(e)}catch(n){ot.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function xt(t){let e=t.name;if(eo.has(e))return ot.debug(`There were multiple attempts to register component ${e}.`),!1;eo.set(e,t);for(let n of En.values())kf(n,t);return!0}function io(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var Df={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},qe=new De("app","Firebase",Df);var to=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ye("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qe.create("app-deleted",{appName:this._name})}};var Ut=Of;function so(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Qs,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw qe.create("bad-app-name",{appName:String(i)});if(n||(n=Hs()),!n)throw qe.create("no-options");let s=En.get(i);if(s){if(Nt(n,s.options)&&Nt(r,s.config))return s;throw qe.create("duplicate-app",{appName:i})}let o=new Ar(i);for(let u of eo.values())o.addComponent(u);let a=new to(n,r,o);return En.set(i,a),a}function Or(t=Qs){let e=En.get(t);if(!e&&t===Qs&&Hs())return so();if(!e)throw qe.create("no-app",{appName:t});return e}function Pr(){return Array.from(En.values())}function J(t,e,n){var r;let i=(r=Pf[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ot.warn(a.join(" "));return}xt(new ye(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Nf="firebase-heartbeat-database",Mf=1,_n="firebase-heartbeat-store",Js=null;function Mu(){return Js||(Js=Ou(Nf,Mf,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(_n)}catch(n){console.warn(n)}}}}).catch(t=>{throw qe.create("idb-open",{originalErrorMessage:t.message})})),Js}function Lf(t){return l(this,null,function*(){try{let n=(yield Mu()).transaction(_n),r=yield n.objectStore(_n).get(Lu(t));return yield n.done,r}catch(e){if(e instanceof he)ot.warn(e.message);else{let n=qe.create("idb-get",{originalErrorMessage:e?.message});ot.warn(n.message)}}})}function ku(t,e){return l(this,null,function*(){try{let r=(yield Mu()).transaction(_n,"readwrite");yield r.objectStore(_n).put(e,Lu(t)),yield r.done}catch(n){if(n instanceof he)ot.warn(n.message);else{let r=qe.create("idb-set",{originalErrorMessage:n?.message});ot.warn(r.message)}}})}function Lu(t){return`${t.name}!${t.options.appId}`}var xf=1024,Uf=30*24*60*60*1e3,no=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new ro(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return l(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Du();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=Uf}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return l(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=Du(),{heartbeatsToSend:r,unsentEntries:i}=Ff(this._heartbeatsCache.heartbeats),s=js(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function Du(){return new Date().toISOString().substring(0,10)}function Ff(t,e=xf){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Nu(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Nu(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var ro=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return l(this,null,function*(){return Iu()?wu().then(()=>!0).catch(()=>!1):!1})}read(){return l(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Lf(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return l(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return ku(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return l(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return ku(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function Nu(t){return js(JSON.stringify({version:2,heartbeats:t})).length}function jf(t){xt(new ye("platform-logger",e=>new Xs(e),"PRIVATE")),xt(new ye("heartbeat",e=>new no(e),"PRIVATE")),J(Zs,Pu,t),J(Zs,Pu,"esm2017"),J("fire-js","")}jf("");var $f="firebase",Vf="10.8.1";J($f,Vf,"app");var bn=new $n("ANGULARFIRE2_VERSION");function xu(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var ao=(t,e)=>{let n=e?[e]:Pr(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},kr=class{constructor(){return ao(Hf)}},Hf="app-check";function Ft(){}var Dr=class{zone;delegate;constructor(e,n=Xo){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},oo=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ft,{},Ft,Ft)),n.pipe(O({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Nr=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Dr(Zone.current)),this.insideAngular=n.run(()=>new Dr(Zone.current,Jo)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(b(F))};static \u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Mr(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function zf(t){return Mr().ngZone.runOutsideAngular(()=>t())}function at(t){return Mr().ngZone.run(()=>t())}function Wf(t){return Bf(Mr())(t)}function Bf(t){return function(n){return n=n.lift(new oo(t.ngZone)),n.pipe(li(t.outsideAngular),ui(t.insideAngular))}}var Gf=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),at(()=>t.apply(void 0,r))},Tn=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=at(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ft,{},Ft,Ft))),r[s]=Gf(r[s],n));let i=zf(()=>t.apply(this,r));if(!e)if(i instanceof Wt){let s=Mr();return i.pipe(li(s.outsideAngular),ui(s.insideAngular))}else return at(()=>i);return i instanceof Wt?i.pipe(Wf):i instanceof Promise?at(()=>new Promise((s,o)=>i.then(a=>at(()=>s(a)),a=>at(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:at(()=>i)};var ct=class{constructor(e){return e}},Sn=class{constructor(){return Pr()}};function qf(t){return t&&t.length===1?t[0]:new ct(Or())}var co=new P("angularfire2._apps"),Kf={provide:ct,useFactory:qf,deps:[[new Te,co]]},Yf={provide:Sn,deps:[[new Te,co]]};function Jf(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ct(r)}}var Xf=(()=>{class t{constructor(n){J("angularfire",bn.full,"core"),J("angularfire",bn.full,"app"),J("angular",ga.full,n.toString())}static \u0275fac=function(r){return new(r||t)(b(re))};static \u0275mod=$e({type:t});static \u0275inj=je({providers:[Kf,Yf]})}return t})();function Uu(t,...e){return{ngModule:Xf,providers:[{provide:co,useFactory:Jf(t),multi:!0,deps:[F,ce,Nr,...e]}]}}var Fu=Tn(so,!0);function Zu(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Qu=Zu,el=new De("auth","Firebase",Zu());var $r=new Lt("@firebase/auth");function Zf(t,...e){$r.logLevel<=k.WARN&&$r.warn(`Auth (${Ut}): ${t}`,...e)}function xr(t,...e){$r.logLevel<=k.ERROR&&$r.error(`Auth (${Ut}): ${t}`,...e)}function _e(t,...e){throw Co(t,...e)}function we(t,...e){return Co(t,...e)}function tl(t,e,n){let r=Object.assign(Object.assign({},Qu()),{[e]:n});return new De("auth","Firebase",r).create(e,{appName:t.name})}function Qf(t,e,n){let r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&_e(t,"argument-error"),tl(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Co(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return el.create(t,...e)}function y(t,e,...n){if(!t)throw Co(e,...n)}function Ne(t){let e="INTERNAL ASSERTION FAILED: "+t;throw xr(e),new Error(e)}function Le(t,e){t||Ne(e)}function ho(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function em(){return ju()==="http:"||ju()==="https:"}function ju(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function tm(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(em()||gu()||"connection"in navigator)?navigator.onLine:!0}function nm(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var ut=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Le(n>e,"Short delay should be less than long delay!"),this.isMobile=mu()||vu()}get(){return tm()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Ao(t,e){Le(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Vr=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ne("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ne("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ne("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var rm={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var im=new ut(3e4,6e4);function Ro(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function $t(s,o,a,u){return l(this,arguments,function*(t,e,n,r,i={}){return nl(t,i,()=>l(this,null,function*(){let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});let p=Mt(Object.assign({key:t.config.apiKey},d)).slice(1),f=yield t._getAdditionalHeaders();return f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode),Vr.fetch()(rl(t,t.config.apiHost,n,p),Object.assign({method:e,headers:f,referrerPolicy:"no-referrer"},c))}))})}function nl(t,e,n){return l(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},rm),e);try{let i=new po(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Lr(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lr(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Lr(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Lr(t,"user-disabled",o);let d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw tl(t,d,c);_e(t,d)}}catch(i){if(i instanceof he)throw i;_e(t,"network-request-failed",{message:String(i)})}})}function sm(s,o,a,u){return l(this,arguments,function*(t,e,n,r,i={}){let c=yield $t(t,e,n,r,i);return"mfaPendingCredential"in c&&_e(t,"multi-factor-auth-required",{_serverResponse:c}),c})}function rl(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Ao(t.config,i):`${t.config.apiScheme}://${i}`}var po=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(we(this.auth,"network-request-failed")),im.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Lr(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=we(t,e,r);return i.customData._tokenResponse=n,i}function om(t,e){return l(this,null,function*(){return $t(t,"POST","/v1/accounts:delete",e)})}function am(t,e){return l(this,null,function*(){return $t(t,"POST","/v1/accounts:lookup",e)})}function Cn(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Oo(t,e=!1){return l(this,null,function*(){let n=Ge(t),r=yield n.getIdToken(e),i=Po(r);y(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Cn(uo(i.auth_time)),issuedAtTime:Cn(uo(i.iat)),expirationTime:Cn(uo(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function uo(t){return Number(t)*1e3}function Po(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return xr("JWT malformed, contained fewer than 3 sections"),null;try{let i=$s(n);return i?JSON.parse(i):(xr("Failed to decode base64 JWT payload"),null)}catch(i){return xr("Caught error parsing JWT payload as JSON",i?.toString()),null}}function cm(t){let e=Po(t);return y(e,"internal-error"),y(typeof e.exp<"u","internal-error"),y(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function An(t,e,n=!1){return l(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof he&&um(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function um({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var fo=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>l(this,null,function*(){yield this.iteration()}),n)}iteration(){return l(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Hr=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cn(this.lastLoginAt),this.creationTime=Cn(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function zr(t){return l(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield An(t,am(n,{idToken:r}));y(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?dm(s.providerUserInfo):[],a=lm(t.providerData,o),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!a?.length,d=u?c:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Hr(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,p)})}function ko(t){return l(this,null,function*(){let e=Ge(t);yield zr(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function lm(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function dm(t){return t.map(e=>{var{providerId:n}=e,r=Mn(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function hm(t,e){return l(this,null,function*(){let n=yield nl(t,{},()=>l(this,null,function*(){let r=Mt({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=rl(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Vr.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function pm(t,e){return l(this,null,function*(){return $t(t,"POST","/v2/accounts:revokeToken",Ro(t,e))})}var Wr=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){y(e.idToken,"internal-error"),y(typeof e.idToken<"u","internal-error"),y(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cm(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return l(this,null,function*(){return y(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return l(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield hm(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(y(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(y(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(y(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Ne("not implemented")}};function Ke(t,e){y(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Rn=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Mn(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Hr(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return l(this,null,function*(){let n=yield An(this,this.stsTokenManager.getToken(this.auth,e));return y(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Oo(this,e)}reload(){return ko(this)}_assign(e){this!==e&&(y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return l(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield zr(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return l(this,null,function*(){let e=yield this.getIdToken();return yield An(this,om(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,d;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,S=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,G=(o=n.photoURL)!==null&&o!==void 0?o:void 0,oe=(a=n.tenantId)!==null&&a!==void 0?a:void 0,A=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,C=(c=n.createdAt)!==null&&c!==void 0?c:void 0,ae=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:dt,emailVerified:$,isAnonymous:ht,providerData:zt,stsTokenManager:Nn}=n;y(dt&&Nn,e,"internal-error");let xl=Wr.fromJSON(this.name,Nn);y(typeof dt=="string",e,"internal-error"),Ke(p,e.name),Ke(f,e.name),y(typeof $=="boolean",e,"internal-error"),y(typeof ht=="boolean",e,"internal-error"),Ke(S,e.name),Ke(G,e.name),Ke(oe,e.name),Ke(A,e.name),Ke(C,e.name),Ke(ae,e.name);let oi=new t({uid:dt,auth:e,email:f,emailVerified:$,displayName:p,isAnonymous:ht,photoURL:G,phoneNumber:S,tenantId:oe,stsTokenManager:xl,createdAt:C,lastLoginAt:ae});return zt&&Array.isArray(zt)&&(oi.providerData=zt.map(Ul=>Object.assign({},Ul))),A&&(oi._redirectEventId=A),oi}static _fromIdTokenResponse(e,n,r=!1){return l(this,null,function*(){let i=new Wr;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield zr(s),s})}};var $u=new Map;function Me(t){Le(t instanceof Function,"Expected a class definition");let e=$u.get(t);return e?(Le(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,$u.set(t,e),e)}var fm=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return l(this,null,function*(){return!0})}_set(n,r){return l(this,null,function*(){this.storage[n]=r})}_get(n){return l(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return l(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),mo=fm;function Ur(t,e,n){return`firebase:${t}:${e}:${n}`}var Br=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Ur(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ur("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return l(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Rn._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return l(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return l(this,null,function*(){if(!n.length)return new t(Me(mo),e,r);let i=(yield Promise.all(n.map(c=>l(this,null,function*(){if(yield c._isAvailable())return c})))).filter(c=>c),s=i[0]||Me(mo),o=Ur(r,e.config.apiKey,e.name),a=null;for(let c of n)try{let d=yield c._get(o);if(d){let p=Rn._fromJSON(e,d);c!==s&&(a=p),s=c;break}}catch{}let u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(c=>l(this,null,function*(){if(c!==s)try{yield c._remove(o)}catch{}}))),new t(s,e,r))})}};function Vu(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ol(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(il(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cl(e))return"Blackberry";if(ul(e))return"Webos";if(Do(e))return"Safari";if((e.includes("chrome/")||sl(e))&&!e.includes("edge/"))return"Chrome";if(al(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function il(t=H()){return/firefox\//i.test(t)}function Do(t=H()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sl(t=H()){return/crios\//i.test(t)}function ol(t=H()){return/iemobile/i.test(t)}function al(t=H()){return/android/i.test(t)}function cl(t=H()){return/blackberry/i.test(t)}function ul(t=H()){return/webos/i.test(t)}function ei(t=H()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function mm(t=H()){var e;return ei(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function gm(){return yu()&&document.documentMode===10}function ll(t=H()){return ei(t)||al(t)||ul(t)||cl(t)||/windows phone/i.test(t)||ol(t)}function vm(){try{return!!(window&&window!==window.top)}catch{return!1}}function dl(t,e=[]){let n;switch(t){case"Browser":n=Vu(H());break;case"Worker":n=`${Vu(H())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ut}/${r}`}var go=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return l(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function ym(n){return l(this,arguments,function*(t,e={}){return $t(t,"GET","/v2/passwordPolicy",Ro(t,e))})}var Im=6,vo=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Im,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var yo=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gr(this),this.idTokenSubscription=new Gr(this),this.beforeStateQueue=new go(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=el,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Me(n)),this._initializationPromise=this.queue(()=>l(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Br.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return l(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return l(this,null,function*(){var n;let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return y(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return l(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return l(this,null,function*(){try{yield zr(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=nm()}_delete(){return l(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return l(this,null,function*(){let n=e?Ge(e):null;return n&&y(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return l(this,null,function*(){if(!this._deleted)return e&&y(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>l(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return l(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>l(this,null,function*(){yield this.assertedPersistence.setPersistence(Me(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return l(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return l(this,null,function*(){let e=yield ym(this),n=new vo(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new De("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return l(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield pm(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return l(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return l(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Me(e)||this._popupRedirectResolver;y(n,this,"argument-error"),this.redirectPersistenceManager=yield Br.create(this,[Me(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return l(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>l(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return l(this,null,function*(){if(e===this.currentUser)return this.queue(()=>l(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(y(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return l(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dl(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return l(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return l(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&Zf(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function ti(t){return Ge(t)}var Gr=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=_u(n=>this.observer=n)}get next(){return y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var No={loadJS(){return l(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wm(t){No=t}function Em(t){return No.loadJS(t)}function _m(){return No.gapiScript}function hl(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function Mo(t,e){let n=io(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(Nt(s,e??{}))return i;_e(i,"already-initialized")}return n.initialize({options:e})}function bm(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Me);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Lo(t,e,n){let r=ti(t);y(r._canInitEmulator,r,"emulator-config-failed"),y(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=pl(e),{host:o,port:a}=Tm(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Sm()}function pl(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Tm(t){let e=pl(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:Hu(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:Hu(o)}}}function Hu(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function Sm(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var On=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ne("not implemented")}_getIdTokenResponse(e){return Ne("not implemented")}_linkToIdToken(e,n){return Ne("not implemented")}_getReauthenticationResolver(e){return Ne("not implemented")}};function jt(t,e){return l(this,null,function*(){return sm(t,"POST","/v1/accounts:signInWithIdp",Ro(t,e))})}var Cm="http://localhost",qr=class t extends On{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):_e("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Mn(n,["providerId","signInMethod"]);if(!r||!i)return null;let o=new t(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){let n=this.buildRequest();return jt(e,n)}_linkToIdToken(e,n){let r=this.buildRequest();return r.idToken=n,jt(e,r)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,jt(e,n)}buildRequest(){let e={requestUri:Cm,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Mt(n)}return e}};var Pn=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Kr=class extends Pn{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var ni=(()=>{class t extends Kr{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return qr._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})();var kn=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return l(this,null,function*(){let s=yield Rn._fromIdTokenResponse(e,r,i),o=zu(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return l(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=zu(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function zu(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Io=class t extends he{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function fl(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Io._fromErrorAndOperation(t,s,e,r):s})}function Am(t,e,n=!1){return l(this,null,function*(){let r=yield An(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return kn._forOperation(t,"link",r)})}function Rm(t,e,n=!1){return l(this,null,function*(){let{auth:r}=t,i="reauthenticate";try{let s=yield An(t,fl(r,i,e,t),n);y(s.idToken,r,"internal-error");let o=Po(s.idToken);y(o,r,"internal-error");let{sub:a}=o;return y(t.uid===a,r,"user-mismatch"),kn._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&_e(r,"user-mismatch"),s}})}function Om(t,e,n=!1){return l(this,null,function*(){let r="signIn",i=yield fl(t,r,e),s=yield kn._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function xo(t,e,n,r){return Ge(t).onIdTokenChanged(e,n,r)}function Uo(t,e,n){return Ge(t).beforeAuthStateChanged(e,n)}function Fo(t){return Ge(t).signOut()}var Yr="__sak";var Jr=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Yr,"1"),this.storage.removeItem(Yr),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function Pm(){let t=H();return Do(t)||ei(t)}var km=1e3,Dm=10,Nm=(()=>{class t extends Jr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Pm()&&vm(),this.fallbackToPolling=ll(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);gm()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,Dm):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},km)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return l(this,null,function*(){yield Ye(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return l(this,null,function*(){let r=yield Ye(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return l(this,null,function*(){yield Ye(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),ml=Nm;var Mm=(()=>{class t extends Jr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),jo=Mm;function Lm(t){return Promise.all(t.map(e=>l(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var xm=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return l(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(a).map(d=>l(this,null,function*(){return d(r.origin,o)})),c=yield Lm(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:c})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function $o(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var wo=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return l(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{let c=$o("",20);i.port1.start();let d=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){let f=p;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function Ee(){return window}function Um(t){Ee().location.href=t}function gl(){return typeof Ee().WorkerGlobalScope<"u"&&typeof Ee().importScripts=="function"}function Fm(){return l(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function jm(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function $m(){return gl()?self:null}var vl="firebaseLocalStorageDb",Vm=1,Xr="firebaseLocalStorage",yl="fbase_key",lt=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function ri(t,e){return t.transaction([Xr],e?"readwrite":"readonly").objectStore(Xr)}function Hm(){let t=indexedDB.deleteDatabase(vl);return new lt(t).toPromise()}function Eo(){let t=indexedDB.open(vl,Vm);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Xr,{keyPath:yl})}catch(i){n(i)}}),t.addEventListener("success",()=>l(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Xr)?e(r):(r.close(),yield Hm(),e(yield Eo()))}))})}function Wu(t,e,n){return l(this,null,function*(){let r=ri(t,!0).put({[yl]:e,value:n});return new lt(r).toPromise()})}function zm(t,e){return l(this,null,function*(){let n=ri(t,!1).get(e),r=yield new lt(n).toPromise();return r===void 0?null:r.value})}function Bu(t,e){let n=ri(t,!0).delete(e);return new lt(n).toPromise()}var Wm=800,Bm=3,Gm=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return l(this,null,function*(){return this.db?this.db:(this.db=yield Eo(),this.db)})}_withRetries(n){return l(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>Bm)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return l(this,null,function*(){return gl()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return l(this,null,function*(){this.receiver=xm._getInstance($m()),this.receiver._subscribe("keyChanged",(n,r)=>l(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>l(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return l(this,null,function*(){var n,r;if(this.activeServiceWorker=yield Fm(),!this.activeServiceWorker)return;this.sender=new wo(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return l(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||jm()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return l(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Eo();return yield Wu(n,Yr,"1"),yield Bu(n,Yr),!0}catch{}return!1})}_withPendingWrite(n){return l(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return l(this,null,function*(){return this._withPendingWrite(()=>l(this,null,function*(){return yield this._withRetries(i=>Wu(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return l(this,null,function*(){let r=yield this._withRetries(i=>zm(i,n));return this.localCache[n]=r,r})}_remove(n){return l(this,null,function*(){return this._withPendingWrite(()=>l(this,null,function*(){return yield this._withRetries(r=>Bu(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return l(this,null,function*(){let n=yield this._withRetries(s=>{let o=ri(s,!1).getAll();return new lt(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>l(this,null,function*(){return this._poll()}),Wm)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),Il=Gm;var Mw=hl("rcb"),Lw=new ut(3e4,6e4);function wl(t,e){return e?Me(e):(y(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Dn=class extends On{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jt(e,this._buildIdpRequest())}_linkToIdToken(e,n){return jt(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return jt(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function qm(t){return Om(t.auth,new Dn(t),t.bypassAuthState)}function Km(t){let{auth:e,user:n}=t;return y(n,e,"internal-error"),Rm(n,new Dn(t),t.bypassAuthState)}function Ym(t){return l(this,null,function*(){let{auth:e,user:n}=t;return y(n,e,"internal-error"),Am(n,new Dn(t),t.bypassAuthState)})}var Zr=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>l(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return l(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(c){this.reject(c)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qm;case"linkViaPopup":case"linkViaRedirect":return Ym;case"reauthViaPopup":case"reauthViaRedirect":return Km;default:_e(this.auth,"internal-error")}}resolve(e){Le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Jm=new ut(2e3,1e4);function ii(t,e,n){return l(this,null,function*(){let r=ti(t);Qf(t,e,Pn);let i=wl(r,n);return new Xm(r,"signInViaPopup",e,i).executeNotNull()})}var Xm=(()=>{class t extends Zr{constructor(n,r,i,s,o){super(n,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){return l(this,null,function*(){let n=yield this.execute();return y(n,this.auth,"internal-error"),n})}onExecution(){return l(this,null,function*(){Le(this.filter.length===1,"Popup operations only handle one event");let n=$o();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(we(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var n;return((n=this.authWindow)===null||n===void 0?void 0:n.associatedEvent)||null}cancel(){this.reject(we(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let n=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(we(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,Jm.get())};n()}}t.currentPopupAction=null;return t})(),Zm="pendingRedirect",Fr=new Map,_o=class t extends Zr{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return l(this,null,function*(){let e=Fr.get(this.auth._key());if(!e){try{let r=(yield Qm(this.resolver,this.auth))?yield Ye(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Fr.set(this.auth._key(),e)}return this.bypassAuthState||Fr.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return l(this,null,function*(){if(e.type==="signInViaRedirect")return Ye(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Ye(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return l(this,null,function*(){})}cleanUp(){}};function Qm(t,e){return l(this,null,function*(){let n=ng(e),r=tg(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function eg(t,e){Fr.set(t._key(),e)}function tg(t){return Me(t._redirectPersistence)}function ng(t){return Ur(Zm,t.config.apiKey,t.name)}function rg(t,e,n=!1){return l(this,null,function*(){let r=ti(t),i=wl(r,e),o=yield new _o(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var ig=10*60*1e3,bo=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!sg(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!El(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(we(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ig&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gu(e))}saveEventToCache(e){this.cachedEventUids.add(Gu(e)),this.lastProcessedEventTime=Date.now()}};function Gu(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function El({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function sg(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return El(t);default:return!1}}function og(n){return l(this,arguments,function*(t,e={}){return $t(t,"GET","/v1/projects",e)})}var ag=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cg=/^https?/;function ug(t){return l(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield og(t);for(let n of e)try{if(lg(n))return}catch{}_e(t,"unauthorized-domain")})}function lg(t){let e=ho(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!cg.test(n))return!1;if(ag.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var dg=new ut(3e4,6e4);function qu(){let t=Ee().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function hg(t){return new Promise((e,n)=>{var r,i,s;function o(){qu(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qu(),n(we(t,"network-request-failed"))},timeout:dg.get()})}if(!((i=(r=Ee().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Ee().gapi)===null||s===void 0)&&s.load)o();else{let a=hl("iframefcb");return Ee()[a]=()=>{gapi.load?o():n(we(t,"network-request-failed"))},Em(`${_m()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw jr=null,e})}var jr=null;function pg(t){return jr=jr||hg(t),jr}var fg=new ut(5e3,15e3),mg="__/auth/iframe",gg="emulator/auth/iframe",vg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ig(t){let e=t.config;y(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Ao(e,gg):`https://${t.config.authDomain}/${mg}`,r={apiKey:e.apiKey,appName:t.name,v:Ut},i=yg.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Mt(r).slice(1)}`}function wg(t){return l(this,null,function*(){let e=yield pg(t),n=Ee().gapi;return y(n,t,"internal-error"),e.open({where:document.body,url:Ig(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vg,dontclear:!0},r=>new Promise((i,s)=>l(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=we(t,"network-request-failed"),a=Ee().setTimeout(()=>{s(o)},fg.get());function u(){Ee().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var Eg={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_g=500,bg=600,Tg="_blank",Sg="http://localhost",Qr=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Cg(t,e,n,r=_g,i=bg){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},Eg),{width:r.toString(),height:i.toString(),top:s,left:o}),c=H().toLowerCase();n&&(a=sl(c)?Tg:n),il(c)&&(e=e||Sg,u.scrollbars="yes");let d=Object.entries(u).reduce((f,[S,G])=>`${f}${S}=${G},`,"");if(mm(c)&&a!=="_self")return Ag(e||"",a),new Qr(null);let p=window.open(e||"",a,d);y(p,t,"popup-blocked");try{p.focus()}catch{}return new Qr(p)}function Ag(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Rg="__/auth/handler",Og="emulator/auth/handler",Pg=encodeURIComponent("fac");function Ku(t,e,n,r,i,s){return l(this,null,function*(){y(t.config.authDomain,t,"auth-domain-config-required"),y(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ut,eventId:i};if(e instanceof Pn){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Eu(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,p]of Object.entries(s||{}))o[d]=p}if(e instanceof Kr){let d=e.getScopes().filter(p=>p!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let u=yield t._getAppCheckToken(),c=u?`#${Pg}=${encodeURIComponent(u)}`:"";return`${kg(t)}?${Mt(a).slice(1)}${c}`})}function kg({config:t}){return t.emulator?Ao(t,Og):`https://${t.authDomain}/${Rg}`}var lo="webStorageSupport",To=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jo,this._completeRedirectFn=rg,this._overrideRedirectResult=eg}_openPopup(e,n,r,i){return l(this,null,function*(){var s;Le((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield Ku(e,n,r,ho(),i);return Cg(e,o,$o())})}_openRedirect(e,n,r,i){return l(this,null,function*(){yield this._originValidation(e);let s=yield Ku(e,n,r,ho(),i);return Um(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Le(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return l(this,null,function*(){let n=yield wg(e),r=new bo(e);return n.register("authEvent",i=>(y(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(lo,{type:lo},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[lo];o!==void 0&&n(!!o),_e(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ug(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ll()||Do()||ei()}},_l=To;var Yu="@firebase/auth",Ju="1.6.1";var So=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return l(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Dg(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ng(t){xt(new ye("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;y(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dl(t)},c=new yo(r,i,s,u);return bm(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),xt(new ye("auth-internal",e=>{let n=ti(e.getProvider("auth").getImmediate());return(r=>new So(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),J(Yu,Ju,Dg(t)),J(Yu,Ju,"esm2017")}var Mg=5*60,Lg=zs("authIdTokenMaxAge")||Mg,Xu=null,xg=t=>e=>l(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Lg)return;let i=n?.token;Xu!==i&&(Xu=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Vo(t=Or()){let e=io(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Mo(t,{popupRedirectResolver:_l,persistence:[Il,ml,jo]}),r=zs("authTokenSyncURL");if(r){let s=xg(r);Uo(n,s,()=>s(n.currentUser)),xo(n,o=>s(o))}let i=fu("auth");return i&&Lo(n,`http://${i}`),n}function Ug(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}wm({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=we("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Ug().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ng("Browser");var bl="auth",xe=class{constructor(e){return e}},Ho=class{constructor(){return ao(bl)}};var zo=new P("angularfire2.auth-instances");function Ov(t,e){let n=xu(bl,t,e);return n&&new xe(n)}function Pv(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new xe(r)}}var kv={provide:Ho,deps:[[new Te,zo]]},Dv={provide:xe,useFactory:Ov,deps:[[new Te,zo],ct]},Nv=(()=>{class t{constructor(){J("angularfire",bn.full,"auth")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=$e({type:t});static \u0275inj=je({providers:[Dv,kv]})}return t})();function Tl(t,...e){return{ngModule:Nv,providers:[{provide:zo,useFactory:Pv(t),multi:!0,deps:[F,ce,Nr,Sn,[new Te,kr],...e]}]}}var Sl=Tn(Vo,!0);var Cl=Tn(Fo,!0);var Vt="robertly-idtoken",Ht=(()=>{let e=class e{constructor(){this.http=h(Oe),this.apiUrl=h(ke),this.auth=h(xe),this.toastService=h(Sr),this.exerciseLogService=h(de),this.idToken=qt(null),this.idToken.set(localStorage.getItem(Vt)??null)}signIn(r){return this.auth.currentUser?.getIdToken(!0),this.http.post(`${this.apiUrl}/auth/signin`,r,{responseType:"text"}).pipe(O(i=>{localStorage.setItem(Vt,i),this.idToken.set(i)}))}signInWithGoogle(){return l(this,null,function*(){let r=new ni;r.addScope("https://www.googleapis.com/auth/userinfo.email"),r.setCustomParameters({prompt:"select_account"}),this.auth.useDeviceLanguage(),this.exerciseLogService.startLoading$.next();let i=yield ii(this.auth,r),s=ni.credentialFromResult(i);if(this.exerciseLogService.stopLoading$.next(),s){let o=yield Ln(this.http.post(`${this.apiUrl}/auth/signup/google`,{accessToken:s.accessToken},{responseType:"text"}));localStorage.setItem(Vt,o),this.idToken.set(o),this.toastService.ok("Successfully signed in with Google")}})}signOut(){return l(this,null,function*(){try{yield Cl(this.auth),this.toastService.ok("Successfully signed out"),localStorage.removeItem(Vt),this.idToken.set(null)}catch(r){this.toastService.error(JSON.stringify(r))}})}tryRefreshToken(){return l(this,null,function*(){let r=yield this.auth.currentUser?.getIdToken(!0);r?(localStorage.setItem(Vt,r),this.idToken.set(r)):(localStorage.removeItem(Vt),this.idToken.set(null))})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=v({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Al=(()=>{let e=class e{constructor(){this.http=h(Oe),this.apiUrl=h(ke)}getUserByFirebaseUuid(r){return this.http.get(`${this.apiUrl}/users/firebase-uuid/${r}`)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=v({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var si=(()=>{let e=class e{constructor(){this.auth=h(xe),this.usersService=h(Al),this.authApiService=h(Ht),this.userUuid=qt(null),this.user=qt(null),this.auth.onAuthStateChanged(r=>{this.userUuid.set(r?.uid??null)}),va(()=>l(this,null,function*(){this.userUuid();let r=this.authApiService.idToken(),i=this.auth.currentUser;if(!i||!r){this.user.set(null);return}let s=yield Ln(this.usersService.getUserByFirebaseUuid(i.uid));this.user.set({email:s.email,userId:s.userId,name:s.name,userFirebaseUuid:s.userFirebaseUuid})}),{allowSignalWrites:!0})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=v({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Mv(t,e){if(t&1&&D(0),t&2){let n=L(),r;Qe(" Hello! ",(r=n.authService.user())==null?null:r.name," ")}}var Rl=(()=>{let e=class e{constructor(){this.exerciseLogService=h(de),this.authService=h(si),this.logsRefreshClicked=new Ae,this.menuSidebarClicked=new Ae,this.isSpinning=!1}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=fe({type:e,selectors:[["app-header"]],outputs:{logsRefreshClicked:"logsRefreshClicked",menuSidebarClicked:"menuSidebarClicked"},standalone:!0,features:[me],decls:6,vars:1,consts:[[1,"navbar","px-1"],[1,"container-fluid","d-flex"],[2,"color","white","font-weight","bold","font-size","14px"],["type","button",1,"btn",2,"outline","none","border","none","padding","0"],[1,"fa","fa-bars",2,"font-size","22px","color","white",3,"click"]],template:function(i,s){i&1&&(E(0,"nav",0)(1,"div",1)(2,"div",2),le(3,Mv,1,1),I(),E(4,"button",3)(5,"i",4),U("click",function(){return s.menuSidebarClicked.emit()}),I()()()()),i&2&&(T(3),ie(3,s.authService.user()?3:-1))},dependencies:[Qn,tr,er,Zn],styles:["button[_ngcontent-%COMP%]:focus   i.fa.fa-refresh.spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate 1s ease-in-out 0s}@keyframes _ngcontent-%COMP%_rotate{0%{transform:rotate(0)}to{transform:rotate(720deg)}}"],changeDetection:0});let t=e;return t})();var Ol=()=>({exact:!0}),Pl=(()=>{let e=class e{constructor(){this.exerciseLogService=h(de),this.Paths=ee}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=fe({type:e,selectors:[["app-footer"]],standalone:!0,features:[me],decls:35,vars:6,consts:[[1,"navbar","fixed-bottom","fw-bold"],[1,"container-fluid"],[1,"navbar-nav","flex-row","gap-3","justify-content-center","w-100"],[1,"nav-item","w-100"],["routerLinkActive","active",1,"nav-link","text-center","d-flex","justify-content-center","align-items-center","gap-2",3,"routerLinkActiveOptions"],[1,"item"],[1,"fa","fa-home"],["routerLinkActive","active",1,"nav-link","text-center","d-flex","justify-content-center","align-items-center","gap-2",3,"routerLink","routerLinkActiveOptions"],[1,"fa","fa-history"],[1,"d-flex","justify-content-center","align-items-center","add-button-container"],[1,"btn","btn-lg","btn-primary","d-flex","justify-content-center","align-items-center",3,"click"],[1,"fa","fa-plus"],["routerLinkActive","active",1,"nav-link","text-center","d-flex","justify-content-center","align-items-center","gap-2",3,"routerLink"],[1,"fa","fa-bar-chart"],["routerLinkActive","active",1,"nav-link","text-center","d-flex","justify-content-center","align-items-center","gap-2"],[1,"fa","fa-cog"]],template:function(i,s){i&1&&(E(0,"nav",0)(1,"div",1)(2,"ul",2)(3,"li",3)(4,"a",4)(5,"div",5)(6,"div"),W(7,"i",6),I(),E(8,"div"),D(9,"Home"),I()()()(),E(10,"li",3)(11,"a",7)(12,"div",5)(13,"div"),W(14,"i",8),I(),E(15,"div"),D(16,"Logs"),I()()()(),E(17,"li",3)(18,"div",9)(19,"button",10),U("click",function(){return s.exerciseLogService.createLogClicked$.next()}),W(20,"i",11),I()()(),E(21,"li",3)(22,"a",12)(23,"div")(24,"div"),W(25,"i",13),I(),E(26,"div"),D(27,"Stats"),I()()()(),E(28,"li",3)(29,"a",14)(30,"div")(31,"div"),W(32,"i",15),I(),E(33,"div"),D(34,"Settings"),I()()()()()()()),i&2&&(T(4),j("routerLinkActiveOptions",Si(4,Ol)),T(7),j("routerLink",s.Paths.LOGS)("routerLinkActiveOptions",Si(5,Ol)),T(11),j("routerLink",s.Paths.STATS))},dependencies:[kt,ou],styles:['nav.navbar.fixed-bottom[_ngcontent-%COMP%]{padding-bottom:max(env(safe-area-inset-bottom),.4rem);background:#2a2f3c}nav.navbar.fixed-bottom[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:11px;color:#fff;opacity:.4}nav.navbar.fixed-bottom[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px}nav.navbar.fixed-bottom[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{opacity:1}.add-button-container[_ngcontent-%COMP%]{position:relative}.add-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;border-radius:100%;height:50px;width:50px;z-index:10}.add-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:before{content:"";position:absolute;background:#2a2f3c;width:25px;height:25px;z-index:5;top:-9px;left:-36px;box-shadow:11px -5px var(--bs-body-bg);border-top-right-radius:20px}.add-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:after{content:"";position:absolute;background:#2a2f3c;width:25px;height:25px;z-index:5;top:-9px;right:-36px;box-shadow:-10px -5px var(--bs-body-bg);border-top-left-radius:20px}.add-button-container[_ngcontent-%COMP%]:before{content:"";position:absolute;height:75px;width:70px;top:-15px;background:var(--bs-body-bg);z-index:5;border-bottom-left-radius:35px;border-bottom-right-radius:35px;overflow:hidden}'],changeDetection:0});let t=e;return t})();function Lv(t,e){if(t&1){let n=Re();E(0,"a",6),U("click",function(){K(n);let i=L().$implicit;return Y(i.dismiss())}),D(1,"Sign In"),I(),E(2,"a",6),U("click",function(){K(n);let i=L().$implicit;return Y(i.dismiss())}),D(3,"Sign Up"),I()}if(t&2){let n=L(2);j("routerLink",n.Paths.SIGN_IN),T(2),j("routerLink",n.Paths.SIGN_UP)}}function xv(t,e){if(t&1){let n=Re();E(0,"button",7),U("click",function(){K(n);let i=L().$implicit;return L().signOut(),Y(i.dismiss())}),D(1,"Sign Out"),I()}}function Uv(t,e){if(t&1){let n=Re();E(0,"a",6),U("click",function(){K(n);let i=L().$implicit;return Y(i.dismiss())}),D(1,"Exercises"),I(),E(2,"a",6),U("click",function(){K(n);let i=L().$implicit;return Y(i.dismiss())}),D(3,"Food Tracker"),I(),E(4,"a",6),U("click",function(){K(n);let i=L().$implicit;return Y(i.dismiss())}),D(5,"Developer"),I()}if(t&2){let n=L(2);j("routerLink",n.Paths.EXERCISES),T(2),j("routerLink",n.Paths.FOODS),T(2),j("routerLink",n.Paths.DEVELOPER)}}function Fv(t,e){if(t&1){let n=Re();E(0,"div",2)(1,"button",3),U("click",function(){let s=K(n).$implicit;return Y(s.dismiss("Cross click"))}),I()(),E(2,"div",4),le(3,Lv,4,2)(4,xv,2,0,"button",5)(5,Uv,6,3),I()}if(t&2){let n=L();T(3),ie(3,n.authService.user()?-1:3),T(1),ie(4,n.authService.user()?4:-1),T(1),ie(5,n.authService.user()?5:-1)}}function jv(t,e){if(t&1){let n=Re();E(0,"ngb-toast",8),U("hidden",function(){let s=K(n).$implicit,o=L();return Y(o.toastService.remove(s))}),E(1,"ngb-alert",9),U("closed",function(){let s=K(n).$implicit,o=L();return Y(o.toastService.remove(s))}),D(2),I()()}if(t&2){let n=e.$implicit;j("autohide",!0)("delay",n.delay||3e3),T(1),j("type",n.type),T(1),Kt(n.text)}}function $v(t,e){t&1&&W(0,"app-footer")}function Vv(t,e){if(t&1){let n=Re();E(0,"app-header",10),U("logsRefreshClicked",function(){K(n);let i=L();return Y(i.fetchData())})("menuSidebarClicked",function(){K(n);let i=L(),s=Ta(1);return Y(i.openSidebar(s))}),I(),E(1,"div",11),W(2,"router-outlet"),I(),le(3,$v,1,0,"app-footer")}if(t&2){let n=L();T(3),ie(3,n.authService.user()?3:-1)}}function Hv(t,e){if(t&1&&(E(0,"div",12)(1,"div",13)(2,"div",14),D(3,"ROBERTLY"),I(),E(4,"div",15),W(5,"div",16),I(),E(6,"div",17),D(7),I()()()),t&2){let n=L();T(5),wa("width",n.preloaderProgress,"%"),T(2),Qe(" ",n.preloaderMessage," ")}}var Wo="robertly-get-data-cache";var Bo="robertly-create-log-value",zv=5*60,kl=t=>{let e=t,n=new Map;e.value.user==="peron"&&n.set("user",N(m({},n.get("user")),{invalidPeron:"Peron is not allowed"})),za.required(e.controls.exercise)&&n.set("exercise",N(m({},n.get("exercise")),{exerciseRequired:"Exercise is required"})),typeof e.value.exercise=="string"&&e.value.exercise?.toLowerCase()==="peron"&&n.set("exercise",N(m({},n.get("exercise")),{invalidPeron:"Peron is not allowed"})),e.controls.series.value.map(s=>(s.reps??0)>0&&(s.weightInKg??0)>0).every(s=>!s)&&n.set("series",N(m({},n.get("series")),{allSeriesAreEmpty:"Needs at least one serie"})),e.controls.series.value.some(s=>!Number.isInteger(s.reps??0))&&n.set("series",N(m({},n.get("series")),{repsMustBeInteger:"Reps needs to be whole numbers"}));let i={};for(let[s,o]of n.entries())i[s]=o;return i},Dl=(()=>{let e=class e{constructor(){this.exerciseLogService=h(de),this.toastService=h(Sr),this.authApiService=h(Ht),this.authService=h(si),this.exerciseLogApiService=h(cu),this.exerciseApiService=h(uu),this.serviceWorkerUpdates=h(xi),this.document=h(V),this.dayjsService=h(Va),this.dayjs=this.dayjsService.instance,this.injector=h(ce),this.router=h(Be),this.modalService=h(ec),this.offcanvasService=h(rc),this.createLogFormGroup=new Xn({user:new Z(""),userId:new Z(""),exercise:new Z(null),date:new Z(""),series:new Li([be(),be(),be(),be(),be()])},[kl]),this.updateLogFormGroup=new Xn({user:new Z(""),userId:new Z(""),exercise:new Z(null),date:new Z(""),series:new Li([be(),be(),be(),be(),be()])},[kl]),this.Paths=ee,this.hasAppLoaded=Bn(),this.preloaderMessage="Searching for updates...",this.preloaderProgress=10;let r=localStorage.getItem(Wo),i=!1;if(!r)localStorage.setItem(Wo,this.dayjs().unix().toString()),i=!0;else{let s=this.dayjs.unix(+r);this.dayjs().diff(s,"seconds")>zv&&(i=!0,localStorage.setItem(Wo,this.dayjs().unix().toString()))}this.fetchData(),this.serviceWorkerUpdates.unrecoverable.pipe(wt()).subscribe(s=>console.error(s)),this.serviceWorkerUpdates.versionUpdates.subscribe(s=>{if(s.type==="VERSION_DETECTED")this.preloaderMessage="New version found. Preparing to install...",this.preloaderProgress=60;else if(s.type==="NO_NEW_VERSION_DETECTED")this.preloaderMessage="Everything up to date",this.preloaderProgress=100,setTimeout(()=>{this.hasAppLoaded=!0},500);else if(s.type==="VERSION_READY")this.document.location.reload();else if(s.type==="VERSION_INSTALLATION_FAILED")this.preloaderMessage="Failed to install new version",this.preloaderProgress=100,setTimeout(()=>{this.hasAppLoaded=!0},500);else throw new Error("Impossible state")}),this.createLogFormGroup.valueChanges.pipe(wt(),ta(1e3)).subscribe(s=>localStorage.setItem(Bo,JSON.stringify(s))),this.exerciseLogService.logClicked$.pipe(wt()).subscribe(s=>{this.updateLogFormGroup.reset(),this.updateLogFormGroup.patchValue({exercise:s.exercise,date:this.dayjsService.parseDate(s.date).format("YYYY-MM-DD"),user:s.user.name,series:s.series.map(o=>({exerciseLogId:o.exerciseLogId,serieId:o.serieId,reps:o.reps,weightInKg:o.weightInKg}))}),this.open("update",s)}),this.exerciseLogService.createLogClicked$.pipe(wt()).subscribe(()=>{this.open("create")}),this.exerciseLogService.deleteLog$.pipe(x(s=>this.exerciseLogApiService.deleteExerciseLog(s.id).pipe(O(()=>{this.fetchData(),this.toastService.ok("Log deleted successfully!")}))),wt()).subscribe()}ngOnInit(){let r=JSON.parse(localStorage.getItem(Bo)??"null");r&&this.createLogFormGroup.patchValue(r)}open(r,i){let s=this.modalService.open(lu,{injector:this.injector,fullscreen:!0,animation:!1}),o=s.componentInstance;o.createOrUpdateLogFormGroup=r==="update"?this.updateLogFormGroup:this.createLogFormGroup,o.mode=r,r==="create"&&!this.createLogFormGroup.value.date&&this.createLogFormGroup.controls.date.patchValue(this.dayjs().format("YYYY-MM-DD")),i&&(o.originalValue=i),s.result.then(()=>{if(r==="create")this.createExerciseLog();else{if(this.updateLogFormGroup.invalid||typeof this.updateLogFormGroup.value.exercise=="string")return;let a=this.authService.user(),u={id:i?.id,exerciseLog:{exerciseLogUsername:a?.name??this.updateLogFormGroup.value.user.toLocaleLowerCase(),exerciseLogUserId:a?.userId,exerciseLogExerciseId:this.updateLogFormGroup.value.exercise.exerciseId,exerciseLogDate:this.dayjsService.parseDate(this.updateLogFormGroup.value.date).format("YYYY-MM-DD"),series:(this.updateLogFormGroup.value.series??[]).filter(c=>!!c.reps&&!!c.weightInKg).map(c=>({exerciseLogId:c.exerciseLogId,serieId:c.serieId,reps:+c.reps,weightInKg:+c.weightInKg.toFixed(1)}))}};this.exerciseLogApiService.updateExerciseLog(u).subscribe({next:()=>{this.updateLogFormGroup.reset(),this.fetchData(),this.toastService.ok("Log updated successfully!")},error:()=>{this.fetchData(),this.toastService.error()}})}},()=>{this.createLogFormGroup.markAsPristine(),this.updateLogFormGroup.markAsPristine()})}createExerciseLog(){if(this.createLogFormGroup.invalid||typeof this.createLogFormGroup.value.exercise=="string")return;let r=this.authService.user(),i={exerciseLog:{exerciseLogUsername:r?.name??this.createLogFormGroup.value.user.toLocaleLowerCase(),exerciseLogUserId:r?.userId,exerciseLogExerciseId:this.createLogFormGroup.value.exercise.exerciseId,exerciseLogDate:this.dayjsService.parseDate(this.createLogFormGroup.value.date).format("YYYY-MM-DD"),series:(this.createLogFormGroup.value.series??[]).filter(s=>!!s.reps&&!!s.weightInKg).map(s=>({exerciseLogId:s.exerciseLogId,serieId:s.serieId,reps:+s.reps,weightInKg:+s.weightInKg.toFixed(1)}))}};this.exerciseLogApiService.createExerciseLog(i).subscribe({next:()=>{this.createLogFormGroup.reset(),localStorage.removeItem(Bo),this.fetchData(),this.toastService.ok("Log created successfully!")},error:()=>{this.fetchData(),this.toastService.error()}})}fetchData(){let r=this.exerciseApiService.getExercises();this.exerciseLogService.withLoading(ea([r]).pipe(O(([i])=>{this.exerciseLogService.updateExercises$.next(i)})))}signOut(){this.authApiService.signOut(),this.router.navigate([ee.SIGN_IN])}openSidebar(r){this.offcanvasService.open(r,{position:"end"})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=fe({type:e,selectors:[["app-root"]],standalone:!0,features:[Sa([de]),me],decls:7,vars:1,consts:[["content",""],[1,"toast-container"],[1,"offcanvas-header"],["tabindex","-1","type","button","aria-label","Close",1,"btn-close","btn-close-white",2,"margin-left","auto",3,"click"],[1,"offcanvas-body"],["class","btn btn-link","style","cursor: pointer"],[3,"routerLink","click"],[1,"btn","btn-link",2,"cursor","pointer",3,"click"],[3,"autohide","delay","hidden"],[3,"type","closed"],[3,"logsRefreshClicked","menuSidebarClicked"],[1,"main"],[1,"preloader"],[1,"preloader-content"],[1,"preloader-title"],[1,"progress"],[1,"progress-bar"],[1,"preloader-message"],[3,"autohide","delay"]],template:function(i,s){i&1&&(le(0,Fv,6,3,"ng-template",null,0,Na),E(2,"div",1),vt(3,jv,3,4,"ngb-toast",18,_a),I(),le(5,Vv,4,1)(6,Hv,8,3)),i&2&&(T(3),yt(s.toastService.toasts),T(2),ie(5,s.hasAppLoaded?5:6))},dependencies:[Rl,Pl,kt,Os,Qn,tr,er,tc,Zn,Za],styles:["button[_ngcontent-%COMP%]:has(.fa.fa-plus){border-radius:100%;position:fixed;right:25px;bottom:75px;z-index:4}@supports (-webkit-hyphens: none){button[_ngcontent-%COMP%]:has(.fa.fa-plus){bottom:100px}}.offcanvas-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{box-shadow:none}.main[_ngcontent-%COMP%]{background-color:var(--bs-body-bg);height:100vh;padding-top:2rem}.toast-container[_ngcontent-%COMP%]{position:fixed;top:15px;left:50%;transform:translate(-50%);z-index:1200}.toast-container[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:last-child){--bs-toast-spacing: .5rem}.offcanvas-body[_ngcontent-%COMP%]{display:flex;flex-direction:column}.preloader[_ngcontent-%COMP%]{background-color:var(--bs-primary);height:100vh;width:100vw}.preloader[_ngcontent-%COMP%]   .preloader-content[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;padding-top:80vh;color:#fff}.preloader[_ngcontent-%COMP%]   .preloader-content[_ngcontent-%COMP%]   .preloader-title[_ngcontent-%COMP%]{font-weight:700;font-size:36px}.preloader[_ngcontent-%COMP%]   .preloader-content[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{width:180px;height:5px;border-radius:0;background-color:#ffffff4d}.preloader[_ngcontent-%COMP%]   .preloader-content[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{background-color:#fff}.preloader[_ngcontent-%COMP%]   .preloader-content[_ngcontent-%COMP%]   .preloader-message[_ngcontent-%COMP%]{padding-top:.3rem;font-size:14px}"]});let t=e;return t})();function be(){return new Xn({serieId:new Z,exerciseLogId:new Z,reps:new Z,weightInKg:new Z})}var Wv="@",Go=class{constructor(e,n,r,i,s){this.doc=e,this.delegate=n,this.zone=r,this.animationType=i,this.moduleImpl=s,this._rendererFactoryPromise=null}loadImpl(){return(this.moduleImpl??import("./chunk-2JOOZPMB.js")).catch(n=>{throw new M(5300,!1)}).then(({\u0275createEngine:n,\u0275AnimationRendererFactory:r})=>{let i=n(this.animationType,this.doc),s=new r(this.delegate,i,this.zone);return this.delegate=s,s})}createRenderer(e,n){let r=this.delegate.createRenderer(e,n);if(r.\u0275type===0)return r;typeof r.throwOnSyntheticProps=="boolean"&&(r.throwOnSyntheticProps=!1);let i=new qo(r);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(s=>{let o=s.createRenderer(e,n);i.use(o)}).catch(s=>{i.use(r)}),i}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}},qo=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let n of this.replay)n(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,n){this.delegate.appendChild(e,n)}insertBefore(e,n,r,i){this.delegate.insertBefore(e,n,r,i)}removeChild(e,n,r){this.delegate.removeChild(e,n,r)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){this.shouldReplay(n)&&this.replay.push(i=>i.setProperty(e,n,r)),this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.shouldReplay(n)&&this.replay.push(i=>i.listen(e,n,r)),this.delegate.listen(e,n,r)}shouldReplay(e){return this.replay!==null&&e.startsWith(Wv)}};function Nl(t="animations"){return Se([{provide:jn,useFactory:(e,n,r)=>new Go(e,n,r,t),deps:[V,ar,F]},{provide:fa,useValue:t==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Ml={apiUrl:"https://robertly.azurewebsites.net/api"};function Ll(t,e){let n=h(Be),r=h(Ht),i=r.idToken();return i&&(t=t.clone({setHeaders:{Authorization:`Bearer ${i}`}})),e(t).pipe(Ue(s=>s instanceof bt&&s.status===401?z(r.signOut()).pipe(x(()=>n.navigate([ee.SIGN_IN]))):g(s)))}var ee={LOGS:"",STATS:"stats",EXERCISES:"exercises",SIGN_IN:"signin",SIGN_UP:"signup",DEVELOPER:"developer",FOODS:"foods"},Bv=[{path:ee.EXERCISES,loadComponent:()=>import("./chunk-EYE4WQEQ.js").then(t=>t.ExercisesPageComponent)},{path:ee.STATS,loadComponent:()=>import("./chunk-QBKUW7V7.js").then(t=>t.StatsPageComponent)},{path:ee.SIGN_IN,loadComponent:()=>import("./chunk-JPMIOX7E.js").then(t=>t.SignInComponent)},{path:ee.LOGS,pathMatch:"full",loadComponent:()=>import("./chunk-O44ZXC7W.js").then(t=>t.ExerciseLogsPageComponent)},{path:ee.DEVELOPER,pathMatch:"full",loadComponent:()=>import("./chunk-43K6MXU3.js").then(t=>t.DeveloperPageComponent)},{path:ee.FOODS,pathMatch:"full",loadComponent:()=>import("./chunk-WQR6XPDX.js").then(t=>t.FoodsPageComponent)}],ke=new P("API_URL");Sc(Dl,{providers:[Yn,Fa,Nl(),vc(yc([Ll])),au(Bv),cc("ngsw-worker.js",{enabled:!Bn()}),Ii(Uu(()=>Fu({projectId:"gymtracker-b0b72",appId:"1:1063566206093:web:a3154a1ae143b91f05eec4",storageBucket:"gymtracker-b0b72.appspot.com",apiKey:"AIzaSyCA0ExS-7mRUULdk7CYFORL5zwYXd4lJ-E",authDomain:"auth.robertly.ar",messagingSenderId:"1063566206093"}))),Ii(Tl(()=>Sl())),{provide:ke,useValue:Ml.apiUrl}]}).catch(t=>console.error(t));export{Be as a,cu as b,uu as c,Sr as d,Ht as e,ee as f,ke as g};
