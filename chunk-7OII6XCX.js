import{O as T,P as G,T as S,b as M,h as I,j as b,o as k,s as W,t as A}from"./chunk-G5X3D3MJ.js";import{r as _}from"./chunk-OFWY3YEL.js";import{Ab as n,Bb as o,Cb as v,Jb as p,Sb as d,Wb as u,Xb as h,Yb as f,Za as m,_b as C,g as a,pa as s,sa as w,z as y}from"./chunk-24QZLUFP.js";var z=(()=>{let i=class i{constructor(){this.authApiService=s(G),this.toastService=s(T),this.router=s(M),this.email="",this.password=""}ngOnInit(){return a(this,null,function*(){yield this.authApiService.tryRefreshToken()})}onClickSignIn(){return a(this,null,function*(){if(!(!this.email||!this.password))try{yield y(this.authApiService.signIn({email:this.email,password:this.password})),this.router.navigate([S.LOGS])}catch{this.toastService.error("Sign in with email failed.")}})}onClickSignInWithGoogle(){return a(this,null,function*(){try{yield this.authApiService.signInWithGoogle(),this.router.navigate([S.LOGS])}catch{this.toastService.error("Sign in with google failed.")}})}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=w({type:i,selectors:[["app-signin"]],standalone:!0,features:[C],decls:14,vars:2,consts:[[1,"container","my-3"],[1,"d-flex","justify-content-center","mt-2"],["type","button",1,"btn","btn-light","w-100","sign-in-google",3,"click"],["width","32","height","32","ngSrc","assets/icons/google-sign-in.png"],[1,"my-3"],[1,"input-group"],["type","text","placeholder","Email",1,"form-control",3,"ngModelChange","ngModel"],[1,"input-group","my-1"],["type","password","placeholder","Password",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-flex","justify-content-end","my-2"],["type","button",1,"btn","btn-primary","me-2",3,"click"]],template:function(r,e){r&1&&(n(0,"div",0)(1,"div",1)(2,"button",2),p("click",function(){return e.onClickSignInWithGoogle()}),v(3,"img",3),n(4,"span"),d(5,"Sign In with Google"),o()()(),n(6,"div",4)(7,"div",5)(8,"input",6),f("ngModelChange",function(t){return h(e.email,t)||(e.email=t),t}),o()(),n(9,"div",7)(10,"input",8),f("ngModelChange",function(t){return h(e.password,t)||(e.password=t),t}),o()(),n(11,"div",9)(12,"button",10),p("click",function(){return e.onClickSignIn()}),d(13,"Sign In"),o()()()()),r&2&&(m(8),u("ngModel",e.email),m(2),u("ngModel",e.password))},dependencies:[W,I,b,k,A,_],styles:[".sign-in-google[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;border:1px solid rgb(226,232,240);background-color:#fff;gap:5px}"],changeDetection:0});let l=i;return l})();export{z as SignInComponent};
