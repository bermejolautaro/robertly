import{B as L,a as o,b as m,r as y,s as v}from"./chunk-ZOFAA6QV.js";import{$ as g,Ka as $,ca as c,ga as f,ma as a,z as h}from"./chunk-ARLDQED4.js";var j=(()=>{class p{constructor(){this.http=a(m),this.authService=a(v),this.cacheService=a(y),this.apiUrl=a(L),this.endpoint=`${this.apiUrl}/exercise-logs`,this.recentlyUpdatedCache=$([]),this.recentlyUpdated=this.recentlyUpdatedCache.asReadonly()}getExerciseLogById(t){return this.http.get(`${this.endpoint}/${t}`)}getExerciseLogs(t=0,r=null,s=null,n=null,e=null){let i=new o;r&&(i=i.append("userId",r)),s&&(i=i.append("exerciseType",s)),n&&(i=i.append("exerciseId",n)),e&&(i=i.append("weightInKg",e));let d=`${this.authService.user.value()?.userFirebaseUuid}:getExerciseLogs:${t}:${r}:${s}:${n}:${e}`,l=this.cacheService.get(d),u=this.http.get(`${this.endpoint}?page=${t}&count=10`,{params:i}).pipe(c(U=>this.cacheService.set(d,U)));return l?u.pipe(g(l)):u}getSeriesPerMuscle(){return this.http.get(`${this.endpoint}/series-per-muscle?serviceWorkerCache=true`)}getDaysTrained(){return this.http.get(`${this.endpoint}/days-trained?serviceWorkerCache=true`)}getRecentlyUpdated(){return this.http.get(`${this.endpoint}/recently-updated`).pipe(h(t=>t.data),c(t=>this.recentlyUpdatedCache.set(t)))}getExerciseLogsLatestWorkout(){return this.http.get(`${this.endpoint}/latest-workout`).pipe(h(t=>t.data))}getFilters(t=null,r,s=null,n=null){let e=new o;return t&&(e=e.append("userId",t)),r&&(e=e.append("exerciseId",r)),s&&(e=e.append("type",s)),n&&(e=e.append("weightInKg",n)),this.http.get(`${this.endpoint}/filters`,{params:e})}createExerciseLog(t){return this.http.post(`${this.endpoint}`,t)}updateExerciseLog(t){return this.http.put(`${this.endpoint}/${t.id}`,t)}deleteExerciseLog(t){return this.http.delete(`${this.endpoint}/${t}`)}static{this.\u0275fac=function(r){return new(r||p)}}static{this.\u0275prov=f({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})();export{j as a};
