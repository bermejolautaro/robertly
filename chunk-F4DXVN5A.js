import{a as y}from"./chunk-OE3AHGTD.js";import"./chunk-CZU2DES3.js";import{a as b}from"./chunk-2LM6PYWS.js";import{B as E,e as C,p as L}from"./chunk-SVJV42AB.js";import{d as _}from"./chunk-SL3BKGXR.js";import{Bb as l,Hb as f,Jb as x,Kb as v,Lb as r,Mb as o,Nb as c,Ub as p,cb as a,dc as u,fc as P,kb as h,qa as d,ub as m}from"./chunk-HLRLCPE5.js";function I(n,S){if(n&1&&c(0,"app-exercise-log",8),n&2){let e=S.$implicit;l("exerciseLog",e)}}var O=(()=>{class n{constructor(){this.document=d(_),this.exerciseLogApiService=d(L),this.currentPage=m(0),this.filter=m(null),this.logs=C({request:this.filter,loader:({request:e})=>{let t=e?.userId.at(0),i=e?.types.at(0),s=e?.exercisesIds.at(0),g=e?.weights.at(0);return this.exerciseLogApiService.getExerciseLogs(this.currentPage(),t,i??null,s??null,g??null)}})}ngOnInit(){this.document.defaultView?.scroll({top:0,left:0,behavior:"smooth"})}onFilterChange(e){this.currentPage.set(0),this.filter.set(e),this.logs.reload()}prevPage(){let e=this.currentPage();this.currentPage.update(t=>Math.max(t-1,0)),e!==this.currentPage()&&this.logs.reload()}nextPage(){let e=this.currentPage();this.currentPage.update(t=>t+1),e!==this.currentPage()&&this.logs.reload()}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=h({type:n,selectors:[["app-exercise-logs-page"]],decls:16,vars:3,consts:[[1,"footer-padding",3,"hidden"],[3,"filtersChanged"],[1,"container","d-flex","justify-content-end","align-items-center","gap-2"],[1,"btn","btn-secondary",3,"click"],[1,"fa","fa-angle-left"],[1,"fa","fa-angle-right"],[1,"mt-4"],[1,"container"],[3,"exerciseLog"],[1,"position-absolute","top-50","start-50","translate-middle",3,"hidden"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"]],template:function(t,i){t&1&&(r(0,"div",0)(1,"app-filters",1),p("filtersChanged",function(g){return i.onFilterChange(g)}),o(),r(2,"div",2)(3,"button",3),p("click",function(){return i.prevPage()}),c(4,"i",4),o(),u(5),r(6,"button",3),p("click",function(){return i.nextPage()}),c(7,"i",5),o()(),r(8,"div",6)(9,"div",7),x(10,I,1,1,"app-exercise-log",8,f),o()()(),r(12,"div",9)(13,"div",10)(14,"span",11),u(15,"Loading..."),o()()()),t&2&&(l("hidden",i.logs.isLoading()),a(5),P(" ",i.currentPage()+1," "),a(5),v(i.logs.value()),a(2),l("hidden",!i.logs.isLoading()))},dependencies:[E,b,y],encapsulation:2,changeDetection:0})}}return n})();export{O as ExerciseLogsPageComponent};
