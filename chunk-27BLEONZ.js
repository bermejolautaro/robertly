import{a as O}from"./chunk-2LM6PYWS.js";import{B as V,e as y,p as A}from"./chunk-SVJV42AB.js";import{d as b,n as z}from"./chunk-SL3BKGXR.js";import{Aa as R,Ab as v,Bb as g,Db as P,Hb as S,Ic as a,Jb as w,Kb as C,La as L,Lb as o,Lc as E,Mb as l,Nb as c,Ub as x,ac as U,bc as D,cb as s,dc as d,fc as h,kb as f,qa as _,sc as M,ub as u,vb as T,vc as W}from"./chunk-HLRLCPE5.js";var H=["ring"],I=(()=>{class t{constructor(){this.ring=T("ring"),this.value=L(0),this.maxValue=L(0),this.percent=a(()=>Math.min(100,this.value()*100/this.maxValue())),this.isSuccess=a(()=>this.percent()>=80),this.isDanger=a(()=>this.percent()<50),this.size=u(100),this.strokeWidth=u(7),this.radius=a(()=>this.size()/2-this.strokeWidth()*2),this.#e=E(()=>{let i=this.radius(),n=this.percent(),e=this.ring();if(e){let r=i*2*Math.PI,p=r-n/100*r;e.nativeElement.style.strokeDasharray=`${r} ${r}`,e.nativeElement.style.strokeDashoffset=`${p}`}})}#e;static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=f({type:t,selectors:[["app-ring"]],viewQuery:function(n,e){n&1&&U(e.ring,H,5),n&2&&D()},inputs:{value:[1,"value"],maxValue:[1,"maxValue"]},decls:6,vars:15,consts:[["ring",""],[1,"progress-ring"],["x","50%","y","52%","fill","white",1,"progress-ring__text"],["fill","transparent","stroke","",1,"progress-ring__circle","default"],["fill","transparent",1,"progress-ring__circle"]],template:function(n,e){n&1&&(R(),o(0,"svg",1)(1,"text",2),d(2),l(),c(3,"circle",3)(4,"circle",4,0),l()),n&2&&(v("height",e.size())("width",e.size()),s(2),h(" ",e.value()," "),s(),v("stroke-width",e.strokeWidth())("r",e.radius())("cx",e.size()/2)("cy",e.size()/2),s(),P("success",e.isSuccess())("danger",e.isDanger()),v("stroke-width",e.strokeWidth())("r",e.radius())("cx",e.size()/2)("cy",e.size()/2))},styles:[".progress-ring__text[_ngcontent-%COMP%]{font-size:24px;font-weight:700;transform-origin:50% 50%;text-anchor:middle;dominant-baseline:middle}.progress-ring__circle[_ngcontent-%COMP%]{transition:stroke-dashoffset 1s;transform:rotate(-90deg);transform-origin:50% 50%;stroke:#fdcd00}.default[_ngcontent-%COMP%]{stroke:var(--light-bg)}.success[_ngcontent-%COMP%]{stroke:#27bb65}.danger[_ngcontent-%COMP%]{stroke:#c33e37}"],changeDetection:0})}}return t})();function $(t,k){if(t&1&&c(0,"app-exercise-log",7),t&2){let i=k.$implicit;g("exerciseLog",i)}}function B(t,k){if(t&1&&c(0,"app-exercise-log",7),t&2){let i=k.$implicit;g("exerciseLog",i)}}var ne=(()=>{class t{constructor(){this.document=_(b),this.exerciseLogApiService=_(A),this.daysPerWeekTarget=a(()=>4),this.showMoreRecentlyUpdated=u(!1),this.recentlyUpdatedAmountToShow=a(()=>this.showMoreRecentlyUpdated()?this.recentlyUpdatedLogsResource.value()?.length??10:2),this.showMoreLatestWorkout=u(!1),this.latestWorkoutAmountToShow=a(()=>this.showMoreLatestWorkout()?this.latestWorkoutLogsResource.value()?.length??10:2),this.isLoading=a(()=>this.recentlyUpdatedLogsResource.isLoading()&&this.latestWorkoutLogsResource.isLoading()&&this.stats.isLoading()),this.stats=y({loader:()=>this.exerciseLogApiService.getStats()}),this.recentlyUpdatedLogsResource=y({loader:()=>this.exerciseLogApiService.getRecentlyUpdated()}),this.latestWorkoutLogsResource=y({loader:()=>this.exerciseLogApiService.getExerciseLogsLatestWorkout()}),this.recentlyUpdatedLogs=a(()=>this.recentlyUpdatedLogsResource.isLoading()?[null,null]:this.recentlyUpdatedLogsResource.value()),this.latestWorkoutLogs=a(()=>this.latestWorkoutLogsResource.isLoading()?[null,null]:this.latestWorkoutLogsResource.value())}ngOnInit(){this.document.defaultView?.scroll({top:0,left:0,behavior:"smooth"})}toggleShowMoreRecentlyUpdated(){this.showMoreRecentlyUpdated.update(i=>!i)}toggleShowMoreLatestWorkout(){this.showMoreLatestWorkout.update(i=>!i)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=f({type:t,selectors:[["app-home-page"]],decls:31,vars:16,consts:[[1,"footer-padding"],[1,"container"],[1,"pb-3",2,"display","grid","grid-template-columns","1fr 1fr 1fr"],[1,"d-flex","justify-content-center","align-items-center","flex-column"],[3,"value","maxValue"],[2,"text-align","center","font-size","12px","padding","0.5rem"],[1,"pb-2"],[3,"exerciseLog"],[2,"font-size","14px","padding","0 0.4rem",3,"click"],[1,"pt-4","pb-2"]],template:function(n,e){if(n&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),c(4,"app-ring",4),o(5,"div",5),d(6,"Dias entrenados esta semana"),l()(),o(7,"div",3),c(8,"app-ring",4),o(9,"div",5),d(10,"Dias entrenados este mes"),l()(),o(11,"div",3),c(12,"app-ring",4),o(13,"div",5),d(14,"Dias entrenados este a\xF1o"),l()()(),o(15,"div",6)(16,"h6"),d(17,"Recently updated"),l()(),w(18,$,1,1,"app-exercise-log",7,S),M(20,"slice"),o(21,"div",8),x("click",function(){return e.toggleShowMoreRecentlyUpdated()}),d(22),l(),o(23,"div",9)(24,"h6"),d(25,"Latest Workout"),l()(),w(26,B,1,1,"app-exercise-log",7,S),M(28,"slice"),o(29,"div",8),x("click",function(){return e.toggleShowMoreLatestWorkout()}),d(30),l()()()),n&2){let r,p,m;s(4),g("value",(r=(r=e.stats.value())==null?null:r.daysTrainedThisWeek)!==null&&r!==void 0?r:0)("maxValue",e.daysPerWeekTarget()*1),s(4),g("value",(p=(p=e.stats.value())==null?null:p.daysTrainedThisMonth)!==null&&p!==void 0?p:0)("maxValue",e.daysPerWeekTarget()*4),s(4),g("value",(m=(m=e.stats.value())==null?null:m.daysTrainedThisYear)!==null&&m!==void 0?m:0)("maxValue",e.daysPerWeekTarget()*52),s(6),C(W(20,8,e.recentlyUpdatedLogs(),0,e.recentlyUpdatedAmountToShow())),s(4),h(" ",e.showMoreRecentlyUpdated()?"Show less...":"Show more..."," "),s(4),C(W(28,12,e.latestWorkoutLogs(),0,e.latestWorkoutAmountToShow())),s(4),h(" ",e.showMoreLatestWorkout()?"Show less...":"Show more..."," ")}},dependencies:[V,O,I,z],encapsulation:2,changeDetection:0})}}return t})();export{ne as HomePageComponent};
