import{B as b,C as k,aa as W,b as _,ba as A,fa as f,q as v,s as I,x as M}from"./chunk-NL5QL5MI.js";import{s as C}from"./chunk-SL3BKGXR.js";import{A as S,Lb as i,Mb as n,Nb as w,Ub as c,cb as m,dc as p,g as a,hc as d,ic as u,jc as h,kb as y,qa as s}from"./chunk-HLRLCPE5.js";var B=(()=>{class o{constructor(){this.authApiService=s(A),this.toastService=s(W),this.router=s(_),this.email="",this.password=""}ngOnInit(){return a(this,null,function*(){yield this.authApiService.tryRefreshToken()})}onClickSignIn(){return a(this,null,function*(){if(!(!this.email||!this.password))try{yield S(this.authApiService.signIn({email:this.email,password:this.password})),this.router.navigate([f.LOGS])}catch{this.toastService.error("Sign in with email failed.")}})}onClickSignInWithGoogle(){return a(this,null,function*(){try{yield this.authApiService.signInWithGoogle(),this.router.navigate([f.LOGS])}catch{this.toastService.error("Sign in with google failed.")}})}static{this.\u0275fac=function(r){return new(r||o)}}static{this.\u0275cmp=y({type:o,selectors:[["app-signin"]],decls:14,vars:2,consts:[[1,"container","my-3"],[1,"d-flex","justify-content-center","mt-2"],["type","button",1,"btn","btn-light","w-100","sign-in-google",3,"click"],["width","32","height","32","ngSrc","assets/icons/google-sign-in.png"],[1,"my-3"],[1,"input-group"],["type","text","placeholder","Email",1,"form-control",3,"ngModelChange","ngModel"],[1,"input-group","my-1"],["type","password","placeholder","Password",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-flex","justify-content-end","my-2"],["type","button",1,"btn","btn-primary","me-2",3,"click"]],template:function(r,e){r&1&&(i(0,"div",0)(1,"div",1)(2,"button",2),c("click",function(){return e.onClickSignInWithGoogle()}),w(3,"img",3),i(4,"span"),p(5,"Sign In with Google"),n()()(),i(6,"div",4)(7,"div",5)(8,"input",6),h("ngModelChange",function(t){return u(e.email,t)||(e.email=t),t}),n()(),i(9,"div",7)(10,"input",8),h("ngModelChange",function(t){return u(e.password,t)||(e.password=t),t}),n()(),i(11,"div",9)(12,"button",10),c("click",function(){return e.onClickSignIn()}),p(13,"Sign In"),n()()()()),r&2&&(m(8),d("ngModel",e.email),m(2),d("ngModel",e.password))},dependencies:[b,v,I,M,k,C],styles:[".sign-in-google[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;border:1px solid rgb(226,232,240);background-color:#fff;gap:5px}"],changeDetection:0})}}return o})();export{B as SignInComponent};
