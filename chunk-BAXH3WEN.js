import{P as A,Q as T,T as h,b as _,h as w,j as M,o as I,s as b,t as k}from"./chunk-VDEZE47T.js";import{q as C}from"./chunk-25IAY4SZ.js";import{Eb as o,Jb as u,Qb as v,ab as p,f as a,lb as d,oa as s,qa as S,wb as i,xb as n,y as f,yb as y}from"./chunk-KRYLBK2W.js";var V=(()=>{let e=class e{constructor(){this.authApiService=s(T),this.toastService=s(A),this.router=s(_),this.email="",this.password=""}ngOnInit(){return a(this,null,function*(){yield this.authApiService.tryRefreshToken()})}onClickSignIn(){return a(this,null,function*(){if(!(!this.email||!this.password))try{yield f(this.authApiService.signIn({email:this.email,password:this.password})),this.router.navigate([h.LOGS])}catch{this.toastService.error("Sign in with email failed.")}})}onClickSignInWithGoogle(){return a(this,null,function*(){try{yield this.authApiService.signInWithGoogle(),this.router.navigate([h.LOGS])}catch{this.toastService.error("Sign in with google failed.")}})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=S({type:e,selectors:[["app-signin"]],standalone:!0,features:[v],decls:14,vars:2,consts:[[1,"container","my-3"],[1,"d-flex","justify-content-center","mt-2"],["type","button",1,"btn","btn-light","w-100","sign-in-google",3,"click"],["width","32","height","32","ngSrc","assets/icons/google-sign-in.png"],[1,"my-3"],[1,"input-group"],["type","text","placeholder","Email",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group","my-1"],["type","password","placeholder","Password",1,"form-control",3,"ngModel","ngModelChange"],[1,"d-flex","justify-content-end","my-2"],["type","button",1,"btn","btn-primary","me-2",3,"click"]],template:function(r,t){r&1&&(i(0,"div",0)(1,"div",1)(2,"button",2),o("click",function(){return t.onClickSignInWithGoogle()}),y(3,"img",3),i(4,"span"),u(5,"Sign In with Google"),n()()(),i(6,"div",4)(7,"div",5)(8,"input",6),o("ngModelChange",function(m){return t.email=m}),n()(),i(9,"div",7)(10,"input",8),o("ngModelChange",function(m){return t.password=m}),n()(),i(11,"div",9)(12,"button",10),o("click",function(){return t.onClickSignIn()}),u(13,"Sign In"),n()()()()),r&2&&(p(8),d("ngModel",t.email),p(2),d("ngModel",t.password))},dependencies:[b,w,M,I,k,C],styles:[".sign-in-google[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;border:1px solid rgb(226,232,240);background-color:#fff;gap:5px}"],changeDetection:0});let l=e;return l})();export{V as SignInComponent};
