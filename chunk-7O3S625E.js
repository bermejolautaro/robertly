import{b as F}from"./chunk-T4ODYWUA.js";import{a as R,b as B,c as l,p as N}from"./chunk-TTYCIVGK.js";import{d as I,j as g}from"./chunk-FE5KJT64.js";import{Eb as T,F as f,Fb as A,Jb as p,Kb as M,Mb as P,Qb as m,Vb as C,Wb as h,ab as a,ea as u,lb as L,oa as r,qa as d,qb as w,rb as v,sb as y,ta as S,ub as E,vb as b,wb as c,xb as s,yb as D}from"./chunk-UBKAMZXI.js";var _=(()=>{let e=class e{constructor(){this.dayjsService=r(B),this.titleCasePipe=r(g)}transform(n,i="Invalid Date"){let o=this.dayjsService.parseDate(n??"");return o.isValid()?this.titleCasePipe.transform(o.format("dddd[ - ]DD/MM/YYYY")):i}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=S({name:"parseToDate",type:e,pure:!0,standalone:!0});let t=e;return t})();var O=(()=>{let e=class e{constructor(){this.exerciseLogService=r(l)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=d({type:e,selectors:[["app-exercise-log"]],inputs:{exerciseLog:"exerciseLog"},standalone:!0,features:[m],decls:7,vars:7,consts:[[1,"log",3,"click"],[1,"title"],[1,"hint"]],template:function(i,o){i&1&&(c(0,"div",0),T("click",function(){return o.exerciseLogService.logClicked$.next(o.exerciseLog)}),c(1,"div",1),p(2),C(3,"titlecase"),s(),c(4,"div",2),p(5),C(6,"parseToDate"),s()()),i&2&&(a(2),M(h(3,3,o.exerciseLog.exercise.name)),a(3),P("",h(6,5,o.exerciseLog.date)," - ",o.exerciseLog.user.name,""))},dependencies:[g,_],styles:[".log[_ngcontent-%COMP%]{background-color:var(--light-bg);color:var(--font-color);margin-bottom:8px;border-radius:5px;padding:.2rem .6rem}.log[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:15px;font-weight:600;margin-bottom:5px}.log[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{font-size:12px;opacity:.8}"],changeDetection:0});let t=e;return t})();function $(t,e){}function j(t,e){if(t&1&&D(0,"app-exercise-log",2),t&2){let x=e.$implicit;L("exerciseLog",x)}}function z(t,e){if(t&1&&(c(0,"div",1),E(1,j,1,1,"app-exercise-log",2,y),s()),t&2){let x=A();a(1),b(x.exerciseLogService.logs())}}function U(t,e){t&1&&(c(0,"div",3)(1,"div",4)(2,"span",5),p(3,"Loading..."),s()()())}var He=(()=>{let e=class e{constructor(){this.document=r(I),this.exerciseLogApiService=r(F),this.exerciseLogService=r(l),this.isGrouped=!1,this.exerciseLogService.refreshLogs$.pipe(R()).subscribe(n=>{let i=this.exerciseLogApiService.getExerciseLogsv2();this.exerciseLogService.withLoading(f([i]).pipe(u(([o])=>{this.exerciseLogService.updateLogs$.next(o)})))})}ngOnInit(){this.document.defaultView?.scroll({top:0,left:0,behavior:"smooth"});let n=this.exerciseLogApiService.getExerciseLogsv2();this.exerciseLogService.logs().length||this.exerciseLogService.withLoading(f([n]).pipe(u(([i])=>{this.exerciseLogService.updateLogs$.next(i)})))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=d({type:e,selectors:[["app-exercise-logs-page"]],standalone:!0,features:[m],decls:3,vars:2,consts:[["class","container"],[1,"container"],[3,"exerciseLog"],[1,"position-absolute","top-50","start-50","translate-middle"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"]],template:function(i,o){i&1&&w(0,$,0,0)(1,z,3,0,"div",0)(2,U,4,0),i&2&&(v(0,o.exerciseLogService.loaded()?0:-1),a(1),v(1,o.exerciseLogService.loaded()?1:2))},dependencies:[N,O],changeDetection:0});let t=e;return t})();export{He as ExerciseLogsPageComponent};
