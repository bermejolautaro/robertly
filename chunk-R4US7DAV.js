import{e as p}from"./chunk-TXMB3Z4A.js";import{Ia as o,Ja as u,Ka as c,Mb as d,fa as l,fc as m,kb as h,ma as a}from"./chunk-SEHCXKDS.js";var _=(()=>{class n{constructor(){this.allowDecimals=o(!0),this.element=a(u),this._onChange=()=>{},this._onTouched=()=>{},this.value=c("")}onInput(t){let e=t.target.value;if(e=e.replace(",",".").replace(/[^0-9.]/g,""),this.allowDecimals()){e=e.replace(/[^0-9.]/g,"");let i=e.split(".");i.length>2&&(e=i[0]+"."+i.slice(1).join(""))}else e=e.replace(/\D/g,"");e.startsWith(".")||e==="0"?e="":e.startsWith("0")&&e[1]!=="."&&(e=e.replace(/^0+/,"")),this.element.nativeElement.value=e,this.value.set(e),this._onChange(e)}onBlur(){this._onTouched()}onKeyPress(t){["Backspace","ArrowLeft","ArrowRight","Tab","Delete"].includes(t.key)||/[\d.,]/.test(t.key)||t.preventDefault()}writeValue(t){this.value.set(t),this.element.nativeElement.value=this.value()}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.element.nativeElement.disabled=t}static{this.\u0275fac=function(e){return new(e||n)}}static{this.\u0275dir=h({type:n,selectors:[["","onlyNumbers",""]],hostBindings:function(e,i){e&1&&d("input",function(s){return i.onInput(s)})("blur",function(){return i.onBlur()})("keypress",function(s){return i.onKeyPress(s)})},inputs:{allowDecimals:[1,"allowDecimals"]},features:[m([{provide:p,useExisting:l(()=>n),multi:!0}])]})}}return n})();export{_ as a};
