import{$b as D,Ab as S,Ba as q,Bb as re,Cb as C,Ga as d,H as z,Ha as G,Ja as p,Ka as f,La as J,Ma as W,Na as b,Oa as E,Pa as n,Qa as o,Ra as x,Sa as X,Sb as ce,Tb as ae,Ua as P,Ub as se,Va as m,Vb as le,Wa as s,Wb as pe,Xa as U,Xb as de,Y as $,Ya as g,Yb as R,Za as Y,Zb as T,_,_a as Z,_b as A,ac as I,bb as v,bc as L,ca as Q,cc as F,da as K,db as w,dc as me,eb as h,ec as ge,fb as ee,fc as xe,gb as te,gc as ue,hc as fe,ib as ie,ic as _e,j as V,jb as ne,jc as ve,r as H,wb as oe,y as j,ya as r}from"./chunk-YBDR2NLQ.js";function ye(e,t){e&1&&x(0,"i",8)}function be(e,t){if(e&1&&(n(0,"div",6),s(1),w(2,"titlecase"),p(3,ye,1,0,"i",7),o()),e&2){let i=m(2);G("font-size",1,"rem"),r(1),g(" ",h(2,4,i.exerciseRow.excerciseName)," "),r(2),f(3,i.showStar?3:-1)}}function Ee(e,t){if(e&1&&(n(0,"div",4),p(1,be,4,6,"div",5),o()),e&2){let i=m();d("ngClass",i.showDate&&i.showUsername?"fw-semibold":null),r(1),f(1,i.showExercise?1:-1)}}function Se(e,t){if(e&1&&(n(0,"div",9),s(1),w(2,"titlecase"),o()),e&2){let i=m();G("font-size",.8,"rem"),r(1),Y(" ",i.exerciseRow.date," - ",h(2,4,i.exerciseRow.username)," ")}}var N=(()=>{let t=class t{constructor(){this.showStar=!1,this.showExercise=!0,this.showDate=!0,this.showUsername=!0}};t.\u0275fac=function(c){return new(c||t)},t.\u0275cmp=_({type:t,selectors:[["app-excercise-row-title"]],inputs:{showStar:"showStar",showExercise:"showExercise",showDate:"showDate",showUsername:"showUsername",exerciseRow:"exerciseRow"},standalone:!0,features:[v],decls:4,vars:2,consts:[[1,"w-100"],["class","row w-100 pb-1",3,"ngClass"],[1,"row"],["class","col d-flex text-muted",3,"fontSize"],[1,"row","w-100","pb-1",3,"ngClass"],["class","col d-flex align-items-center gap-1",3,"fontSize"],[1,"col","d-flex","align-items-center","gap-1"],["class","fa fa-star"],[1,"fa","fa-star"],[1,"col","d-flex","text-muted"]],template:function(c,a){c&1&&(n(0,"div",0),p(1,Ee,2,2,"div",1),n(2,"div",2),p(3,Se,3,6,"div",3),o()()),c&2&&(r(1),f(1,a.exerciseRow?1:-1),r(2),f(3,a.showDate?3:-1))},dependencies:[S,C],styles:["[_nghost-%COMP%]{display:flex;flex:1}"],changeDetection:0});let e=t;return e})();var Re=(e,t)=>t.serie;function Te(e,t){if(e&1&&(n(0,"tr",3)(1,"td",4),s(2),o(),n(3,"td",5),s(4),o(),n(5,"td",5),s(6),o()()),e&2){let i=t.$implicit;r(2),g("Serie ",i.serie,""),r(2),g("",i.reps," reps"),r(2),g("",i.weightKg,"kg")}}function Ae(e,t){if(e&1&&(n(0,"tr",3)(1,"td",4),s(2,"Total"),o(),n(3,"td",5),s(4),o(),n(5,"td",5),s(6),o()()),e&2){let i=m(2);r(4),g("",i.exerciseRow.total," reps"),r(2),g("",i.exerciseRow.series[0].weightKg,"kg")}}function De(e,t){if(e&1&&(n(0,"tr",3)(1,"td",4),s(2,"Average"),o(),n(3,"td",5),s(4),o(),n(5,"td",5),s(6),o()()),e&2){let i=m(2);r(4),g("",i.exerciseRow.average," reps"),r(2),g("",i.exerciseRow.series[0].weightKg,"kg")}}function Ie(e,t){if(e&1&&(n(0,"table",1)(1,"tbody"),b(2,Te,7,3,"tr",2,Re),p(4,Ae,7,2,"tr",2)(5,De,7,2,"tr",2),n(6,"tr",3)(7,"td",4),s(8,"Tonnage"),o(),n(9,"td",5),s(10,"\xA0"),o(),n(11,"td",5),s(12),o()()()()),e&2){let i=m();r(2),E(i.exerciseRow.series),r(2),f(4,i.exerciseRow.total?4:-1),r(1),f(5,i.exerciseRow.average?5:-1),r(7),g("",i.exerciseRow.tonnage,"kg")}}var B=(()=>{let t=class t{};t.\u0275fac=function(c){return new(c||t)},t.\u0275cmp=_({type:t,selectors:[["app-excercise-row-body"]],inputs:{exerciseRow:"exerciseRow"},standalone:!0,features:[v],decls:1,vars:1,consts:[["class","table table-striped table-sm m-0"],[1,"table","table-striped","table-sm","m-0"],["class","row"],[1,"row"],[1,"fw-bold","col"],[1,"col","text-center"]],template:function(c,a){c&1&&p(0,Ie,13,3,"table",0),c&2&&f(0,a.exerciseRow?0:-1)},changeDetection:0});let e=t;return e})();function Le(e,t){if(e&1&&x(0,"app-excercise-row-body",6),e&2){let i=m().$implicit;d("exerciseRow",i)}}function Fe(e,t){if(e&1&&(n(0,"div",3)(1,"h2",4)(2,"button",5),x(3,"app-excercise-row-title",6),o()(),n(4,"div",7)(5,"div",8),p(6,Le,1,1,"ng-template"),o()()()),e&2){let i=t.$implicit;d("ngClass",i.highlighted?"accordion-highlight "+i.highlighted:null),r(3),d("exerciseRow",i)}}var we=(()=>{let t=class t{constructor(){this.exerciseRows=[]}};t.\u0275fac=function(c){return new(c||t)},t.\u0275cmp=_({type:t,selectors:[["app-excercise-rows"]],inputs:{exerciseRows:"exerciseRows"},standalone:!0,features:[v],decls:5,vars:0,consts:[[1,"row","my-2"],[1,"col"],["ngbAccordion",""],["ngbAccordionItem","",3,"ngClass"],["ngbAccordionHeader",""],["ngbAccordionButton",""],[3,"exerciseRow"],["ngbAccordionCollapse",""],["ngbAccordionBody",""]],template:function(c,a){c&1&&(n(0,"div",0)(1,"div",1)(2,"div",2),b(3,Fe,7,2,"div",3,J),o()()()),c&2&&(r(3),E(a.exerciseRows))},dependencies:[S,F,A,L,I,D,R,T,N,B],changeDetection:0});let e=t;return e})();function Ne(e,t){if(e&1&&x(0,"app-excercise-row-body",14),e&2){let i=m().$implicit;d("exerciseRow",i[1])}}function Be(e,t){if(e&1&&(n(0,"div",12)(1,"h2",5)(2,"button",6),x(3,"app-excercise-row-title",13),o()(),n(4,"div",9)(5,"div",10),p(6,Ne,1,1,"ng-template"),o()()()),e&2){let i=t.$implicit;d("ngClass",i[1].highlighted?"accordion-highlight "+i[1].highlighted:null),r(3),d("showUsername",!1)("showDate",!1)("exerciseRow",i[1])}}function Me(e,t){if(e&1&&(n(0,"div",2),p(1,Be,7,4,"div",11),o()),e&2){let i=m().$implicit;r(1),d("ngForOf",i[1])}}function Pe(e,t){if(e&1&&(n(0,"div",4)(1,"h2",5)(2,"button",6)(3,"div",7)(4,"div",8),s(5),w(6,"titlecase"),o()()()(),n(7,"div",9)(8,"div",10),p(9,Me,2,1,"ng-template"),o()()()),e&2){let i=t.$implicit;r(5),g(" ",h(6,1,i[0])," ")}}function ke(e,t){if(e&1&&(n(0,"div",2),p(1,Pe,10,3,"div",3),o()),e&2){let i=m().$implicit;r(1),d("ngForOf",i[1])}}function $e(e,t){if(e&1&&(n(0,"div",4)(1,"h2",5)(2,"button",6)(3,"div",7)(4,"div",8),s(5),o()()()(),n(6,"div",9)(7,"div",10),p(8,ke,2,1,"ng-template"),o()()()),e&2){let i=t.$implicit;r(5),g(" ",i[0]," ")}}var he=(()=>{let t=class t{constructor(){this.groupedExcerciseLogs=[]}};t.\u0275fac=function(c){return new(c||t)},t.\u0275cmp=_({type:t,selectors:[["app-grouped-excercise-rows"]],inputs:{groupedExcerciseLogs:"groupedExcerciseLogs"},standalone:!0,features:[v],decls:4,vars:1,consts:[[1,"row","my-2"],[1,"col"],["ngbAccordion",""],["ngbAccordionItem","",4,"ngFor","ngForOf"],["ngbAccordionItem",""],["ngbAccordionHeader",""],["ngbAccordionButton",""],[1,"row","w-100"],[1,"col","d-flex","align-items-center","justify-content-center","text-center"],["ngbAccordionCollapse",""],["ngbAccordionBody",""],["ngbAccordionItem","",3,"ngClass",4,"ngFor","ngForOf"],["ngbAccordionItem","",3,"ngClass"],[3,"showUsername","showDate","exerciseRow"],[3,"exerciseRow"]],template:function(c,a){c&1&&(n(0,"div",0)(1,"div",1)(2,"div",2),p(3,$e,9,1,"div",3),o()()()),c&2&&(r(3),d("ngForOf",a.groupedExcerciseLogs))},dependencies:[re,F,A,L,I,D,R,T,C,S,B,N],changeDetection:0});let e=t;return e})();function Ge(e,t){if(e&1&&x(0,"app-excercise-row-body",7),e&2){let i=m();d("exerciseRow",i.personalRecord)}}var Ce=(()=>{let t=class t{};t.\u0275fac=function(c){return new(c||t)},t.\u0275cmp=_({type:t,selectors:[["app-personal-record"]],inputs:{personalRecord:"personalRecord"},standalone:!0,features:[v],decls:8,vars:2,consts:[["ngbAccordion",""],["ngbAccordionItem","",1,"accordion-highlight","light-blue"],["ngbAccordionHeader",""],["ngbAccordionButton",""],[3,"exerciseRow","showStar"],["ngbAccordionCollapse",""],["ngbAccordionBody",""],[3,"exerciseRow"]],template:function(c,a){c&1&&(n(0,"div",0)(1,"div",1)(2,"h2",2)(3,"button",3),x(4,"app-excercise-row-title",4),o()(),n(5,"div",5)(6,"div",6),p(7,Ge,1,1,"ng-template"),o()()()()),c&2&&(r(4),d("exerciseRow",a.personalRecord)("showStar",!0))},dependencies:[N,B,F,A,L,I,D,R,T],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0});let e=t;return e})();var Ue=["typeaheadInput"];function Oe(e,t){if(e&1&&(n(0,"div"),s(1),o(),n(2,"div"),s(3),w(4,"titlecase"),o()),e&2){let i=t.result,l=t.term;r(1),U(l),r(2),U(h(4,2,i))}}function Ve(e,t){if(e&1){let i=X();n(0,"button",9),P("click",function(){let a=Q(i).$implicit,u=m();return K(u.excerciseLogService.selectedType$.next(a))}),s(1),w(2,"titlecase"),o()}if(e&2){let i=t.$implicit;r(1),g(" ",h(2,1,i)," ")}}function He(e,t){e&1&&x(0,"app-personal-record",18),e&2&&d("personalRecord",t)}function je(e,t){if(e&1&&x(0,"app-grouped-excercise-rows",17),e&2){let i=m(2);d("groupedExcerciseLogs",i.excerciseLogService.groupedLogs())}}function ze(e,t){if(e&1&&x(0,"app-excercise-rows",19),e&2){let i=m(2);d("exerciseRows",i.excerciseLogService.exerciseRows())}}function Qe(e,t){if(e&1&&(n(0,"div",15),p(1,He,1,1,"app-personal-record",16)(2,je,1,1,"app-grouped-excercise-rows",17)(3,ze,1,1),o()),e&2){let i=m(),l;r(1),f(1,(l=i.excerciseLogService.personalRecord())?1:-1,l),r(1),f(2,i.isGrouped?2:3)}}function Ke(e,t){e&1&&(n(0,"div",20)(1,"div",21)(2,"span",22),s(3,"Loading..."),o()()())}var Dt=(()=>{let t=class t{constructor(){this.titleCasePipe=$(C),this.document=$(oe),this.excerciseLogService=$(ce),this.isGrouped=!1,this.excerciseTypeAhead="",this.typeaheadInput=null,this.focus$=new V,this.search=l=>{let c=l.pipe(z());return j(c,this.focus$).pipe(H(a=>{let u=["Clear Filter",...this.excerciseLogService.excercises().map(M=>M.name)],y=this.excerciseLogService.selectedExcerciseLabel();return a===""||a===y.name?u:u.filter(M=>!!M).filter(M=>M.toLowerCase().includes(a.toLowerCase()))}))},this.formatter=l=>this.titleCasePipe.transform(l),q(()=>this.excerciseTypeAhead=this.excerciseLogService.selectedExcerciseLabel().name)}ngOnInit(){this.document.defaultView?.scroll({top:0,left:0,behavior:"smooth"})}onExcerciseTypeaheadChange(l){let c=this.excerciseLogService.excercises().filter(a=>a.name===l.item).at(0)??null;l.item==="Clear Filter"&&(c=null),this.excerciseLogService.selectedExcercise$.next(c),this.typeaheadInput?.nativeElement.blur()}};t.\u0275fac=function(c){return new(c||t)},t.\u0275cmp=_({type:t,selectors:[["app-excercise-logs-page"]],viewQuery:function(c,a){if(c&1&&te(Ue,7),c&2){let u;ee(u=ie())&&(a.typeaheadInput=u.first)}},standalone:!0,features:[Z([C]),v],decls:25,vars:11,consts:[[1,"container","my-4"],["rt",""],[1,"col-12"],["type","text","placeholder","Exercise",1,"form-control","mb-2",3,"ngModel","ngbTypeahead","popupClass","resultFormatter","inputFormatter","focusFirst","ngModelChange","selectItem","focus","click"],["typeaheadInput",""],[1,"row","mb-2","gx-2"],["ngbDropdown","",1,"d-flex","justify-content-center"],["type","button","ngbDropdownToggle","",1,"btn","btn-outline-primary","w-100","d-flex","justify-content-between","align-items-center"],["ngbDropdownMenu","",1,"w-100"],["ngbDropdownItem","",3,"click"],[1,"row"],[1,"form-check","form-switch","d-flex","align-items-center","gap-1"],["type","checkbox","role","switch",1,"form-check-input",3,"ngModel","ngModelChange"],[1,"form-check-label"],["class","container"],[1,"container"],["class","mb-3",3,"personalRecord"],[3,"groupedExcerciseLogs"],[1,"mb-3",3,"personalRecord"],[3,"exerciseRows"],[1,"position-absolute","top-50","start-50","translate-middle"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],["ngbDropdownItem",""]],template:function(c,a){c&1&&(n(0,"div",0),p(1,Oe,5,4,"ng-template",null,1,ne),n(3,"div",2)(4,"input",3,4),P("ngModelChange",function(y){return a.excerciseTypeAhead=y})("selectItem",function(y){return a.onExcerciseTypeaheadChange(y)})("focus",function(){return a.focus$.next(a.excerciseTypeAhead)})("click",function(){return a.excerciseTypeAhead=""}),o()(),n(6,"div",5)(7,"div",2)(8,"div",6)(9,"button",7),s(10),w(11,"titlecase"),o(),n(12,"div",8)(13,"button",9),P("click",function(){return a.excerciseLogService.selectedType$.next(null)}),s(14,"Clear filter"),o(),b(15,Ve,3,3,"button",23,W),o()()()(),n(17,"div",10)(18,"div",2)(19,"div",11)(20,"input",12),P("ngModelChange",function(y){return a.isGrouped=y}),o(),n(21,"label",13),s(22,"Grouped"),o()()()()(),p(23,Qe,4,2,"div",14)(24,Ke,4,0)),c&2&&(r(4),d("ngModel",a.excerciseTypeAhead)("ngbTypeahead",a.search)("popupClass","exercise-typeahead")("resultFormatter",a.formatter)("inputFormatter",a.formatter)("focusFirst",!1),r(6),g(" ",h(11,9,a.excerciseLogService.selectedTypeLabel())," "),r(5),E(a.excerciseLogService.types()),r(5),d("ngModel",a.isGrouped),r(3),f(23,a.excerciseLogService.loaded()?23:24))},dependencies:[de,se,ae,le,pe,C,Ce,he,we,_e,fe,ue,xe,me,ge,ve],styles:[".exercise-typeahead{overflow-y:scroll;overflow-x:hidden;max-height:400px}"],changeDetection:0});let e=t;return e})();export{Dt as ExcerciseLogsPageComponent};
