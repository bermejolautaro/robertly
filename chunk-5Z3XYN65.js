import"./chunk-BYXBJQAS.js";import{a as w}from"./chunk-V2IZCG4G.js";import{N as T,f as S,g as y,s as b}from"./chunk-JDYFHK2D.js";import{d as E}from"./chunk-OFWY3YEL.js";import{Ab as o,Bb as s,Cb as m,Jb as d,Sb as h,Ub as P,Za as l,_b as _,fa as u,gb as p,pa as c,qb as g,sa as x,wb as v,yb as L,zb as C}from"./chunk-24QZLUFP.js";function I(n,r){if(n&1&&m(0,"app-exercise-log",8),n&2){let F=r.$implicit;g("exerciseLog",F)}}var W=(()=>{let r=class r{constructor(){this.document=c(E),this.exerciseLogApiService=c(S),this.exerciseLogService=c(y),this.currentPage=p(0),this.filter=p(null),this.logs=p([])}ngOnInit(){this.document.defaultView?.scroll({top:0,left:0,behavior:"smooth"}),this.fetchLogs()}onFilterChange(e){this.filter.set(e),this.fetchLogs()}prevPage(){let e=this.currentPage();this.currentPage.update(t=>Math.max(t-1,0)),e!==this.currentPage()&&this.fetchLogs()}nextPage(){let e=this.currentPage();this.currentPage.update(t=>t+1),e!==this.currentPage()&&this.fetchLogs()}fetchLogs(){let e=this.filter(),t=e?.types.at(0),i=e?.exercisesIds.at(0),a=e?.weights.at(0),f=this.exerciseLogApiService.getExerciseLogs(this.currentPage(),t??null,i??null,a??null);this.exerciseLogService.withLoading(f.pipe(u(k=>{this.logs.set(k)})))}};r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=x({type:r,selectors:[["app-exercise-logs-page"]],standalone:!0,features:[_],decls:16,vars:3,consts:[[1,"footer-padding",3,"hidden"],[3,"filtersChanged"],[1,"container","d-flex","justify-content-end","align-items-center","gap-2"],[1,"btn","btn-secondary",3,"click"],[1,"fa","fa-angle-left"],[1,"fa","fa-angle-right"],[1,"mt-4"],[1,"container"],[3,"exerciseLog"],[1,"position-absolute","top-50","start-50","translate-middle",3,"hidden"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"]],template:function(t,i){t&1&&(o(0,"div",0)(1,"app-filters",1),d("filtersChanged",function(f){return i.onFilterChange(f)}),s(),o(2,"div",2)(3,"button",3),d("click",function(){return i.prevPage()}),m(4,"i",4),s(),h(5),o(6,"button",3),d("click",function(){return i.nextPage()}),m(7,"i",5),s()(),o(8,"div",6)(9,"div",7),L(10,I,1,1,"app-exercise-log",8,v),s()()(),o(12,"div",9)(13,"div",10)(14,"span",11),h(15,"Loading..."),s()()()),t&2&&(g("hidden",!i.exerciseLogService.loaded()),l(5),P(" ",i.currentPage()+1," "),l(5),C(i.logs()),l(2),g("hidden",i.exerciseLogService.loaded()))},dependencies:[b,w,T],changeDetection:0});let n=r;return n})();export{W as ExerciseLogsPageComponent};
