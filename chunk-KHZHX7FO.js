import{d as C,n as k,o as W,w as h}from"./chunk-ZVIJ6PDM.js";import{e as _,g as v,l as M,q as I,r as b}from"./chunk-JY52K3I6.js";import{r as w}from"./chunk-HKPS3N5F.js";import{Jb as i,Kb as n,Lb as y,Sb as m,ab as g,cc as c,fc as p,gc as d,hc as u,ma as a,mb as S,y as f}from"./chunk-D2TTQ72P.js";var B=(()=>{class o{constructor(){this.authApiService=a(W),this.toastService=a(k),this.router=a(C),this.email="",this.password=""}async ngOnInit(){await this.authApiService.tryRefreshToken()}async onClickSignIn(){if(!(!this.email||!this.password))try{await f(this.authApiService.signIn({email:this.email,password:this.password})),this.router.navigate([h.HOME])}catch{this.toastService.error("Sign in with email failed.")}}async onClickSignInWithGoogle(){try{await this.authApiService.signInWithGoogle(),this.router.navigate([h.HOME])}catch{this.toastService.error("Sign in with google failed.")}}static{this.\u0275fac=function(r){return new(r||o)}}static{this.\u0275cmp=S({type:o,selectors:[["app-signin"]],decls:14,vars:2,consts:[[1,"container","my-3"],[1,"d-flex","justify-content-center","mt-2"],["type","button",1,"btn","btn-light","w-100","sign-in-google",3,"click"],["width","32","height","32","ngSrc","assets/icons/google-sign-in.png"],[1,"my-3"],[1,"input-group"],["type","text","placeholder","Email",1,"form-control",3,"ngModelChange","ngModel"],[1,"input-group","my-1"],["type","password","placeholder","Password",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-flex","justify-content-end","my-2"],["type","button",1,"btn","btn-primary","me-2",3,"click"]],template:function(r,e){r&1&&(i(0,"div",0)(1,"div",1)(2,"button",2),m("click",function(){return e.onClickSignInWithGoogle()}),y(3,"img",3),i(4,"span"),c(5,"Sign In with Google"),n()()(),i(6,"div",4)(7,"div",5)(8,"input",6),u("ngModelChange",function(t){return d(e.email,t)||(e.email=t),t}),n()(),i(9,"div",7)(10,"input",8),u("ngModelChange",function(t){return d(e.password,t)||(e.password=t),t}),n()(),i(11,"div",9)(12,"button",10),m("click",function(){return e.onClickSignIn()}),c(13,"Sign In"),n()()()()),r&2&&(g(8),p("ngModel",e.email),g(2),p("ngModel",e.password))},dependencies:[I,_,v,M,b,w],styles:[".sign-in-google[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;border:1px solid rgb(226,232,240);background-color:#fff;gap:5px}"],changeDetection:0})}}return o})();export{B as SignInComponent};
