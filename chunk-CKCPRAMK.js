import"./chunk-BYXBJQAS.js";import{a as w}from"./chunk-GTBVFZWC.js";import{O as T,f as y,g as P,s as b}from"./chunk-J3SSN2MG.js";import{d as S}from"./chunk-25IAY4SZ.js";import{Eb as m,Jb as a,Lb as _,Qb as E,Ya as p,ab as g,ea as h,lb as d,oa as l,qa as u,sb as x,ub as v,vb as L,wb as o,xb as s,yb as C}from"./chunk-KRYLBK2W.js";function I(n,i){if(n&1&&C(0,"app-exercise-log",9),n&2){let F=i.$implicit;d("exerciseLog",F)}}var W=(()=>{let i=class i{constructor(){this.document=l(S),this.exerciseLogApiService=l(y),this.exerciseLogService=l(P),this.currentPage=p(0),this.filter=p(null),this.logs=p([])}ngOnInit(){this.document.defaultView?.scroll({top:0,left:0,behavior:"smooth"}),this.fetchLogs()}onFilterChange(e){this.filter.set(e),this.fetchLogs()}prevPage(){this.currentPage.update(e=>Math.max(e-1,0)),this.fetchLogs()}nextPage(){this.currentPage.update(e=>e+1),this.fetchLogs()}fetchLogs(){let e=this.filter(),r=e?.types.at(0),t=e?.exercisesIds.at(0),c=e?.weights.at(0),f=this.exerciseLogApiService.getExerciseLogs(this.currentPage(),r??null,t??null,c??null);this.exerciseLogService.withLoading(f.pipe(h(k=>{this.logs.set(k)})))}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=u({type:i,selectors:[["app-exercise-logs-page"]],standalone:!0,features:[E],decls:16,vars:3,consts:[[1,"footer-padding",3,"hidden"],[3,"filtersChanged"],[1,"container","d-flex","justify-content-end","align-items-center","gap-2"],[1,"btn","btn-secondary",3,"click"],[1,"mt-4"],[1,"container"],[1,"position-absolute","top-50","start-50","translate-middle",3,"hidden"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[3,"exerciseLog"]],template:function(r,t){r&1&&(o(0,"div",0)(1,"app-filters",1),m("filtersChanged",function(f){return t.onFilterChange(f)}),s(),o(2,"div",2)(3,"button",3),m("click",function(){return t.prevPage()}),a(4," < "),s(),a(5),o(6,"button",3),m("click",function(){return t.nextPage()}),a(7," > "),s()(),o(8,"div",4)(9,"div",5),v(10,I,1,1,"app-exercise-log",9,x),s()()(),o(12,"div",6)(13,"div",7)(14,"span",8),a(15,"Loading..."),s()()()),r&2&&(d("hidden",!t.exerciseLogService.loaded()),g(5),_(" ",t.currentPage()," "),g(5),L(t.logs()),g(2),d("hidden",t.exerciseLogService.loaded()))},dependencies:[b,w,T],changeDetection:0});let n=i;return n})();export{W as ExerciseLogsPageComponent};
