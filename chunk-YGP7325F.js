import{A as Lc,D as xc,E as Or,J as Uc,K as Pr,a as Dc,r as Nc,s as Ar,y as Cr,z as Mc}from"./chunk-C5LQ3MSO.js";import{a as as,b as Ac,c as Cc,d as de,e as cs,f as br,g as Tr,j as Oc,k as Pc,o as kc,p as us,q as Sr,r as Rr}from"./chunk-CMFT27PF.js";import{$ as Wa,$a as ic,$b as vc,A as fr,Aa as Gi,B as D,Ba as Xa,Bb as lc,Bc as Tc,C as $i,Ca as mt,Cb as pe,Cc as wr,D as Se,Db as dc,E as Vi,Ea as Za,Ec as Sc,F as pr,Fa as gr,Fc as Er,G as Bt,Ga as Gt,Gb as hc,Ha as ae,Hb as Rt,Hc as os,I as zi,Ia as Yi,Ib as fc,Ja as Qa,Jb as pc,K as Bi,Ka as ec,Kb as mc,Kc as Rc,L as Wt,La as Ki,Lb as M,M as Ie,Ma as tc,Mb as L,Na as Ji,Nb as ge,Oa as nc,Pa as Re,Q as ft,Qa as rc,Qb as At,R as Tt,Ra as Xi,S as Wi,T as fe,U as za,Ua as Zi,Ub as Z,V as Ba,Vb as ue,Y as Ht,Ya as wn,Z as pt,Zb as gc,_ as Hi,_a as Qi,a as b,aa as Ha,ab as En,ac as yc,b as ce,ba as qa,bb as B,ca as Ga,cb as Le,d as _n,da as te,db as es,dc as _c,e as In,ea as Ya,ec as Q,f as bt,fa as W,fb as sc,fc as Ic,g as l,gb as vr,gc as gt,h as La,ha as X,hb as ts,i as xa,ib as oc,j as zt,ja as O,jb as ze,k as xi,l as Ui,la as Ka,lb as yr,m as Ve,ma as U,n as Te,na as qi,nb as _r,o as Ua,oa as x,ob as ac,oc as is,p as Fa,pa as f,pb as ns,q as ht,qa as et,qb as rs,r as hr,ra as we,rb as St,s as Fi,sa as Ja,sb as cc,t as ji,ta as qt,tb as Be,u as oe,ua as De,v as R,vc as wc,w as ke,wa as mr,wc as Ir,x as ja,xa as Ne,xb as uc,xc as Ec,y as $a,ya as Me,yb as Yt,yc as ss,z as Va,zc as bc}from"./chunk-LYCTWYRR.js";var Ra=_n((Ta,Sa)=>{"use strict";(function(n,e){typeof Ta=="object"&&typeof Sa<"u"?Sa.exports=e():typeof define=="function"&&define.amd?define(e):(n=typeof globalThis<"u"?globalThis:n||self).dayjs=e()})(Ta,function(){"use strict";var n=1e3,e=6e4,t=36e5,r="millisecond",i="second",s="minute",o="hour",c="day",a="week",u="month",d="quarter",h="year",y="date",p="Invalid Date",E=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,I=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,_={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(T){var v=["th","st","nd","rd"],m=T%100;return"["+T+(v[(m-20)%10]||v[m]||v[0])+"]"}},F=function(T,v,m){var w=String(T);return!w||w.length>=v?T:""+Array(v+1-w.length).join(m)+T},G={s:F,z:function(T){var v=-T.utcOffset(),m=Math.abs(v),w=Math.floor(m/60),g=m%60;return(v<=0?"+":"-")+F(w,2,"0")+":"+F(g,2,"0")},m:function T(v,m){if(v.date()<m.date())return-T(m,v);var w=12*(m.year()-v.year())+(m.month()-v.month()),g=v.clone().add(w,u),S=m-g<0,A=v.clone().add(w+(S?-1:1),u);return+(-(w+(m-g)/(S?g-A:A-g))||0)},a:function(T){return T<0?Math.ceil(T)||0:Math.floor(T)},p:function(T){return{M:u,y:h,w:a,d:c,D:y,h:o,m:s,s:i,ms:r,Q:d}[T]||String(T||"").toLowerCase().replace(/s$/,"")},u:function(T){return T===void 0}},N="en",q={};q[N]=_;var Y="$isDayjsObject",K=function(T){return T instanceof re||!(!T||!T[Y])},ne=function T(v,m,w){var g;if(!v)return N;if(typeof v=="string"){var S=v.toLowerCase();q[S]&&(g=S),m&&(q[S]=m,g=S);var A=v.split("-");if(!g&&A.length>1)return T(A[0])}else{var j=v.name;q[j]=v,g=j}return!w&&g&&(N=g),g||!w&&N},V=function(T,v){if(K(T))return T.clone();var m=typeof v=="object"?v:{};return m.date=T,m.args=arguments,new re(m)},P=G;P.l=ne,P.i=K,P.w=function(T,v){return V(T,{locale:v.$L,utc:v.$u,x:v.$x,$offset:v.$offset})};var re=function(){function T(m){this.$L=ne(m.locale,null,!0),this.parse(m),this.$x=this.$x||m.x||{},this[Y]=!0}var v=T.prototype;return v.parse=function(m){this.$d=function(w){var g=w.date,S=w.utc;if(g===null)return new Date(NaN);if(P.u(g))return new Date;if(g instanceof Date)return new Date(g);if(typeof g=="string"&&!/Z$/i.test(g)){var A=g.match(E);if(A){var j=A[2]-1||0,J=(A[7]||"0").substring(0,3);return S?new Date(Date.UTC(A[1],j,A[3]||1,A[4]||0,A[5]||0,A[6]||0,J)):new Date(A[1],j,A[3]||1,A[4]||0,A[5]||0,A[6]||0,J)}}return new Date(g)}(m),this.init()},v.init=function(){var m=this.$d;this.$y=m.getFullYear(),this.$M=m.getMonth(),this.$D=m.getDate(),this.$W=m.getDay(),this.$H=m.getHours(),this.$m=m.getMinutes(),this.$s=m.getSeconds(),this.$ms=m.getMilliseconds()},v.$utils=function(){return P},v.isValid=function(){return this.$d.toString()!==p},v.isSame=function(m,w){var g=V(m);return this.startOf(w)<=g&&g<=this.endOf(w)},v.isAfter=function(m,w){return V(m)<this.startOf(w)},v.isBefore=function(m,w){return this.endOf(w)<V(m)},v.$g=function(m,w,g){return P.u(m)?this[w]:this.set(g,m)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(m,w){var g=this,S=!!P.u(w)||w,A=P.p(m),j=function(Pe,se){var _e=P.w(g.$u?Date.UTC(g.$y,se,Pe):new Date(g.$y,se,Pe),g);return S?_e:_e.endOf(c)},J=function(Pe,se){return P.w(g.toDate()[Pe].apply(g.toDate("s"),(S?[0,0,0,0]:[23,59,59,999]).slice(se)),g)},ee=this.$W,ie=this.$M,me=this.$D,lt="set"+(this.$u?"UTC":"");switch(A){case h:return S?j(1,0):j(31,11);case u:return S?j(1,ie):j(0,ie+1);case a:var $e=this.$locale().weekStart||0,Ze=(ee<$e?ee+7:ee)-$e;return j(S?me-Ze:me+(6-Ze),ie);case c:case y:return J(lt+"Hours",0);case o:return J(lt+"Minutes",1);case s:return J(lt+"Seconds",2);case i:return J(lt+"Milliseconds",3);default:return this.clone()}},v.endOf=function(m){return this.startOf(m,!1)},v.$set=function(m,w){var g,S=P.p(m),A="set"+(this.$u?"UTC":""),j=(g={},g[c]=A+"Date",g[y]=A+"Date",g[u]=A+"Month",g[h]=A+"FullYear",g[o]=A+"Hours",g[s]=A+"Minutes",g[i]=A+"Seconds",g[r]=A+"Milliseconds",g)[S],J=S===c?this.$D+(w-this.$W):w;if(S===u||S===h){var ee=this.clone().set(y,1);ee.$d[j](J),ee.init(),this.$d=ee.set(y,Math.min(this.$D,ee.daysInMonth())).$d}else j&&this.$d[j](J);return this.init(),this},v.set=function(m,w){return this.clone().$set(m,w)},v.get=function(m){return this[P.p(m)]()},v.add=function(m,w){var g,S=this;m=Number(m);var A=P.p(w),j=function(ie){var me=V(S);return P.w(me.date(me.date()+Math.round(ie*m)),S)};if(A===u)return this.set(u,this.$M+m);if(A===h)return this.set(h,this.$y+m);if(A===c)return j(1);if(A===a)return j(7);var J=(g={},g[s]=e,g[o]=t,g[i]=n,g)[A]||1,ee=this.$d.getTime()+m*J;return P.w(ee,this)},v.subtract=function(m,w){return this.add(-1*m,w)},v.format=function(m){var w=this,g=this.$locale();if(!this.isValid())return g.invalidDate||p;var S=m||"YYYY-MM-DDTHH:mm:ssZ",A=P.z(this),j=this.$H,J=this.$m,ee=this.$M,ie=g.weekdays,me=g.months,lt=g.meridiem,$e=function(se,_e,Qe,dt){return se&&(se[_e]||se(w,S))||Qe[_e].slice(0,dt)},Ze=function(se){return P.s(j%12||12,se,"0")},Pe=lt||function(se,_e,Qe){var dt=se<12?"AM":"PM";return Qe?dt.toLowerCase():dt};return S.replace(I,function(se,_e){return _e||function(Qe){switch(Qe){case"YY":return String(w.$y).slice(-2);case"YYYY":return P.s(w.$y,4,"0");case"M":return ee+1;case"MM":return P.s(ee+1,2,"0");case"MMM":return $e(g.monthsShort,ee,me,3);case"MMMM":return $e(me,ee);case"D":return w.$D;case"DD":return P.s(w.$D,2,"0");case"d":return String(w.$W);case"dd":return $e(g.weekdaysMin,w.$W,ie,2);case"ddd":return $e(g.weekdaysShort,w.$W,ie,3);case"dddd":return ie[w.$W];case"H":return String(j);case"HH":return P.s(j,2,"0");case"h":return Ze(1);case"hh":return Ze(2);case"a":return Pe(j,J,!0);case"A":return Pe(j,J,!1);case"m":return String(J);case"mm":return P.s(J,2,"0");case"s":return String(w.$s);case"ss":return P.s(w.$s,2,"0");case"SSS":return P.s(w.$ms,3,"0");case"Z":return A}return null}(se)||A.replace(":","")})},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(m,w,g){var S,A=this,j=P.p(w),J=V(m),ee=(J.utcOffset()-this.utcOffset())*e,ie=this-J,me=function(){return P.m(A,J)};switch(j){case h:S=me()/12;break;case u:S=me();break;case d:S=me()/3;break;case a:S=(ie-ee)/6048e5;break;case c:S=(ie-ee)/864e5;break;case o:S=ie/t;break;case s:S=ie/e;break;case i:S=ie/n;break;default:S=ie}return g?S:P.a(S)},v.daysInMonth=function(){return this.endOf(u).$D},v.$locale=function(){return q[this.$L]},v.locale=function(m,w){if(!m)return this.$L;var g=this.clone(),S=ne(m,w,!0);return S&&(g.$L=S),g},v.clone=function(){return P.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},T}(),Oe=re.prototype;return V.prototype=Oe,[["$ms",r],["$s",i],["$m",s],["$H",o],["$W",c],["$M",u],["$y",h],["$D",y]].forEach(function(T){Oe[T[1]]=function(v){return this.$g(v,T[0],T[1])}}),V.extend=function(T,v){return T.$i||(T(v,re,V),T.$i=!0),V},V.locale=ne,V.isDayjs=K,V.unix=function(T){return V(1e3*T)},V.en=q[N],V.Ls=q,V.p={},V})});var Cd=_n((Aa,Ca)=>{"use strict";(function(n,e){typeof Aa=="object"&&typeof Ca<"u"?Ca.exports=e():typeof define=="function"&&define.amd?define(e):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_plugin_customParseFormat=e()})(Aa,function(){"use strict";var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},e=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,t=/\d\d/,r=/\d\d?/,i=/\d*[^-_:/,()\s\d]+/,s={},o=function(p){return(p=+p)+(p>68?1900:2e3)},c=function(p){return function(E){this[p]=+E}},a=[/[+-]\d\d:?(\d\d)?|Z/,function(p){(this.zone||(this.zone={})).offset=function(E){if(!E||E==="Z")return 0;var I=E.match(/([+-]|\d\d)/g),_=60*I[1]+(+I[2]||0);return _===0?0:I[0]==="+"?-_:_}(p)}],u=function(p){var E=s[p];return E&&(E.indexOf?E:E.s.concat(E.f))},d=function(p,E){var I,_=s.meridiem;if(_){for(var F=1;F<=24;F+=1)if(p.indexOf(_(F,0,E))>-1){I=F>12;break}}else I=p===(E?"pm":"PM");return I},h={A:[i,function(p){this.afternoon=d(p,!1)}],a:[i,function(p){this.afternoon=d(p,!0)}],S:[/\d/,function(p){this.milliseconds=100*+p}],SS:[t,function(p){this.milliseconds=10*+p}],SSS:[/\d{3}/,function(p){this.milliseconds=+p}],s:[r,c("seconds")],ss:[r,c("seconds")],m:[r,c("minutes")],mm:[r,c("minutes")],H:[r,c("hours")],h:[r,c("hours")],HH:[r,c("hours")],hh:[r,c("hours")],D:[r,c("day")],DD:[t,c("day")],Do:[i,function(p){var E=s.ordinal,I=p.match(/\d+/);if(this.day=I[0],E)for(var _=1;_<=31;_+=1)E(_).replace(/\[|\]/g,"")===p&&(this.day=_)}],M:[r,c("month")],MM:[t,c("month")],MMM:[i,function(p){var E=u("months"),I=(u("monthsShort")||E.map(function(_){return _.slice(0,3)})).indexOf(p)+1;if(I<1)throw new Error;this.month=I%12||I}],MMMM:[i,function(p){var E=u("months").indexOf(p)+1;if(E<1)throw new Error;this.month=E%12||E}],Y:[/[+-]?\d+/,c("year")],YY:[t,function(p){this.year=o(p)}],YYYY:[/\d{4}/,c("year")],Z:a,ZZ:a};function y(p){var E,I;E=p,I=s&&s.formats;for(var _=(p=E.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(ne,V,P){var re=P&&P.toUpperCase();return V||I[P]||n[P]||I[re].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(Oe,T,v){return T||v.slice(1)})})).match(e),F=_.length,G=0;G<F;G+=1){var N=_[G],q=h[N],Y=q&&q[0],K=q&&q[1];_[G]=K?{regex:Y,parser:K}:N.replace(/^\[|\]$/g,"")}return function(ne){for(var V={},P=0,re=0;P<F;P+=1){var Oe=_[P];if(typeof Oe=="string")re+=Oe.length;else{var T=Oe.regex,v=Oe.parser,m=ne.slice(re),w=T.exec(m)[0];v.call(V,w),ne=ne.replace(w,"")}}return function(g){var S=g.afternoon;if(S!==void 0){var A=g.hours;S?A<12&&(g.hours+=12):A===12&&(g.hours=0),delete g.afternoon}}(V),V}}return function(p,E,I){I.p.customParseFormat=!0,p&&p.parseTwoDigitYear&&(o=p.parseTwoDigitYear);var _=E.prototype,F=_.parse;_.parse=function(G){var N=G.date,q=G.utc,Y=G.args;this.$u=q;var K=Y[1];if(typeof K=="string"){var ne=Y[2]===!0,V=Y[3]===!0,P=ne||V,re=Y[2];V&&(re=Y[2]),s=this.$locale(),!ne&&re&&(s=I.Ls[re]),this.$d=function(m,w,g){try{if(["x","X"].indexOf(w)>-1)return new Date((w==="X"?1e3:1)*m);var S=y(w)(m),A=S.year,j=S.month,J=S.day,ee=S.hours,ie=S.minutes,me=S.seconds,lt=S.milliseconds,$e=S.zone,Ze=new Date,Pe=J||(A||j?1:Ze.getDate()),se=A||Ze.getFullYear(),_e=0;A&&!j||(_e=j>0?j-1:Ze.getMonth());var Qe=ee||0,dt=ie||0,Mi=me||0,Li=lt||0;return $e?new Date(Date.UTC(se,_e,Pe,Qe,dt,Mi,Li+60*$e.offset*1e3)):g?new Date(Date.UTC(se,_e,Pe,Qe,dt,Mi,Li)):new Date(se,_e,Pe,Qe,dt,Mi,Li)}catch{return new Date("")}}(N,K,q),this.init(),re&&re!==!0&&(this.$L=this.locale(re).$L),P&&N!=this.format(K)&&(this.$d=new Date("")),s={}}else if(K instanceof Array)for(var Oe=K.length,T=1;T<=Oe;T+=1){Y[1]=K[T-1];var v=I.apply(this,Y);if(v.isValid()){this.$d=v.$d,this.$L=v.$L,this.init();break}T===Oe&&(this.$d=new Date(""))}else F.call(this,G)}}})});var Od=_n((Oa,Pa)=>{"use strict";(function(n,e){typeof Oa=="object"&&typeof Pa<"u"?Pa.exports=e():typeof define=="function"&&define.amd?define(e):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_plugin_weekOfYear=e()})(Oa,function(){"use strict";var n="week",e="year";return function(t,r,i){var s=r.prototype;s.week=function(o){if(o===void 0&&(o=null),o!==null)return this.add(7*(o-this.week()),"day");var c=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var a=i(this).startOf(e).add(1,e).date(c),u=i(this).endOf(n);if(a.isBefore(u))return 1}var d=i(this).startOf(e).date(c).startOf(n).subtract(1,"millisecond"),h=this.diff(d,n,!0);return h<0?i(this).startOf("week").week():Math.ceil(h)},s.weeks=function(o){return o===void 0&&(o=null),this.week(o)}}})});var Pd=_n((ka,Da)=>{"use strict";(function(n,e){typeof ka=="object"&&typeof Da<"u"?Da.exports=e():typeof define=="function"&&define.amd?define(e):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_plugin_isoWeek=e()})(ka,function(){"use strict";var n="day";return function(e,t,r){var i=function(c){return c.add(4-c.isoWeekday(),n)},s=t.prototype;s.isoWeekYear=function(){return i(this).year()},s.isoWeek=function(c){if(!this.$utils().u(c))return this.add(7*(c-this.isoWeek()),n);var a,u,d,h,y=i(this),p=(a=this.isoWeekYear(),u=this.$u,d=(u?r.utc:r)().year(a).startOf("year"),h=4-d.isoWeekday(),d.isoWeekday()>4&&(h+=7),d.add(h,n));return y.diff(p,"week")+1},s.isoWeekday=function(c){return this.$utils().u(c)?this.day()||7:this.day(this.day()%7?c:c-7)};var o=s.startOf;s.startOf=function(c,a){var u=this.$utils(),d=!!u.u(a)||a;return u.p(c)==="isoweek"?d?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):o.bind(this)(c,a)}}})});var kd=_n((Na,Ma)=>{"use strict";(function(n,e){typeof Na=="object"&&typeof Ma<"u"?Ma.exports=e(Ra()):typeof define=="function"&&define.amd?define(["dayjs"],e):(n=typeof globalThis<"u"?globalThis:n||self).dayjs_locale_es_mx=e(n.dayjs)})(Na,function(n){"use strict";function e(i){return i&&typeof i=="object"&&"default"in i?i:{default:i}}var t=e(n),r={name:"es-mx",weekdays:"domingo_lunes_martes_mi\xE9rcoles_jueves_viernes_s\xE1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xE9._jue._vie._s\xE1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xE1".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xEDa",dd:"%d d\xEDas",M:"un mes",MM:"%d meses",y:"un a\xF1o",yy:"%d a\xF1os"},ordinal:function(i){return i+"\xBA"},formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"}};return t.default.locale(r,null,!0),r})});var Tn="Service workers are disabled or not supported by this browser";function xd(n){return Bt(()=>ke(new Error(n)))}var Kt=class{serviceWorker;worker;registration;events;constructor(e){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=xd(Tn);else{let r=zi(e,"controllerchange").pipe(D(()=>e.controller)),i=Bt(()=>R(e.controller)),s=pr(i,r);this.worker=s.pipe(Ie(d=>!!d)),this.registration=this.worker.pipe(te(()=>e.getRegistration()));let u=zi(e,"message").pipe(D(d=>d.data)).pipe(Ie(d=>d&&d.type)).pipe(Ha());u.connect(),this.events=u}}postMessage(e,t){return this.worker.pipe(fe(1),W(r=>{r.postMessage(b({action:e},t))})).toPromise().then(()=>{})}postMessageWithOperation(e,t,r){let i=this.waitForOperationCompleted(r),s=this.postMessage(e,t);return Promise.all([s,i]).then(([,o])=>o)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(e){let t;return typeof e=="string"?t=r=>r.type===e:t=r=>e.includes(r.type),this.events.pipe(Ie(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(fe(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(Ie(t=>t.nonce===e),fe(1),D(t=>{if(t.result!==void 0)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},Ud=(()=>{class n{sw;messages;notificationClicks;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new Ve;constructor(t){if(this.sw=t,!t.isEnabled){this.messages=Wt,this.notificationClicks=Wt,this.subscription=Wt;return}this.messages=this.sw.eventsOfType("PUSH").pipe(D(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(D(i=>i.data)),this.pushManager=this.sw.registration.pipe(D(i=>i.pushManager));let r=this.pushManager.pipe(te(i=>i.getSubscription()));this.subscription=Bi(r,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(Tn));let r={userVisibleOnly:!0},i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(i.length));for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return r.applicationServerKey=s,this.pushManager.pipe(te(o=>o.subscribe(r)),fe(1)).toPromise().then(o=>(this.subscriptionChanges.next(o),o))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(Tn));let t=r=>{if(r===null)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(fe(1),te(t)).toPromise()}decodeBase64(t){return atob(t)}static \u0275fac=function(r){return new(r||n)(x(Kt))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),hs=(()=>{class n{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled){this.versionUpdates=Wt,this.unrecoverable=Wt;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Tn));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Tn));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}static \u0275fac=function(r){return new(r||n)(x(Kt))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})();var Fc=new U("");function Fd(n,e,t,r){return()=>{if(!(us(r)&&"serviceWorker"in navigator&&t.enabled!==!1))return;let i=n.get(ae),s=n.get(St);i.runOutsideAngular(()=>{let c=navigator.serviceWorker,a=()=>c.controller?.postMessage({action:"INITIALIZE"});c.addEventListener("controllerchange",a),s.onDestroy(()=>{c.removeEventListener("controllerchange",a)})});let o;if(typeof t.registrationStrategy=="function")o=t.registrationStrategy();else{let[c,...a]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(c){case"registerImmediately":o=R(null);break;case"registerWithDelay":o=jc(+a[0]||0);break;case"registerWhenStable":let u=oe(n.get(St).whenStable());o=a[0]?Bi(u,jc(+a[0])):u;break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}i.runOutsideAngular(()=>o.pipe(fe(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(c=>console.error("Service worker registration failed with:",c))))}}function jc(n){return R(null).pipe(Ba(n))}function jd(n,e){return new Kt(us(e)&&n.enabled!==!1?navigator.serviceWorker:void 0)}var bn=class{enabled;scope;registrationStrategy};function $c(n,e={}){return we([Ud,hs,{provide:Fc,useValue:n},{provide:bn,useValue:e},{provide:Kt,useFactory:jd,deps:[bn,Re]},{provide:ns,useFactory:Fd,deps:[mt,Fc,bn,Re],multi:!0}])}var Rn=class{},Dr=class{},tt=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),s=t.slice(r+1).trim();this.addHeaderEntry(i,s)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let s=e.value;if(!s)this.headers.delete(t),this.normalizedNames.delete(t);else{let o=this.headers.get(t);if(!o)return;o=o.filter(c=>s.indexOf(c)===-1),o.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var ps=class{encodeKey(e){return Vc(e)}encodeValue(e){return Vc(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function zd(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,c]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],a=t.get(o)||[];a.push(c),t.set(o,a)}),t}var Bd=/%(\d[a-f0-9])/gi,Wd={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Vc(n){return encodeURIComponent(n).replace(Bd,(e,t)=>Wd[t]??e)}function kr(n){return`${n}`}var vt=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new ps,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=zd(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(kr):[kr(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(kr(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(kr(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var ms=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function Hd(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function zc(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Bc(n){return typeof Blob<"u"&&n instanceof Blob}function Wc(n){return typeof FormData<"u"&&n instanceof FormData}function qd(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Sn=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let s;if(Hd(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new tt,this.context??=new ms,!this.params)this.params=new vt,this.urlWithParams=t;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=t;else{let c=t.indexOf("?"),a=c===-1?"?":c<t.length-1?"&":"";this.urlWithParams=t+a+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||zc(this.body)||Bc(this.body)||Wc(this.body)||qd(this.body)?this.body:this.body instanceof vt?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Wc(this.body)?null:Bc(this.body)?this.body.type||null:zc(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof vt?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,c=e.withCredentials??this.withCredentials,a=e.reportProgress??this.reportProgress,u=e.headers||this.headers,d=e.params||this.params,h=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((y,p)=>y.set(p,e.setHeaders[p]),u)),e.setParams&&(d=Object.keys(e.setParams).reduce((y,p)=>y.set(p,e.setParams[p]),d)),new n(t,r,o,{params:d,headers:u,context:h,reportProgress:a,responseType:i,withCredentials:c,transferCache:s})}},yt=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(yt||{}),An=class{headers;status;statusText;url;ok;type;constructor(e,t=200,r="OK"){this.headers=e.headers||new tt,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Nr=class n extends An{constructor(e={}){super(e)}type=yt.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Cn=class n extends An{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=yt.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},We=class extends An{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Yc=200,Gd=204,On=function(n){return n[n.Continue=100]="Continue",n[n.SwitchingProtocols=101]="SwitchingProtocols",n[n.Processing=102]="Processing",n[n.EarlyHints=103]="EarlyHints",n[n.Ok=200]="Ok",n[n.Created=201]="Created",n[n.Accepted=202]="Accepted",n[n.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",n[n.NoContent=204]="NoContent",n[n.ResetContent=205]="ResetContent",n[n.PartialContent=206]="PartialContent",n[n.MultiStatus=207]="MultiStatus",n[n.AlreadyReported=208]="AlreadyReported",n[n.ImUsed=226]="ImUsed",n[n.MultipleChoices=300]="MultipleChoices",n[n.MovedPermanently=301]="MovedPermanently",n[n.Found=302]="Found",n[n.SeeOther=303]="SeeOther",n[n.NotModified=304]="NotModified",n[n.UseProxy=305]="UseProxy",n[n.Unused=306]="Unused",n[n.TemporaryRedirect=307]="TemporaryRedirect",n[n.PermanentRedirect=308]="PermanentRedirect",n[n.BadRequest=400]="BadRequest",n[n.Unauthorized=401]="Unauthorized",n[n.PaymentRequired=402]="PaymentRequired",n[n.Forbidden=403]="Forbidden",n[n.NotFound=404]="NotFound",n[n.MethodNotAllowed=405]="MethodNotAllowed",n[n.NotAcceptable=406]="NotAcceptable",n[n.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",n[n.RequestTimeout=408]="RequestTimeout",n[n.Conflict=409]="Conflict",n[n.Gone=410]="Gone",n[n.LengthRequired=411]="LengthRequired",n[n.PreconditionFailed=412]="PreconditionFailed",n[n.PayloadTooLarge=413]="PayloadTooLarge",n[n.UriTooLong=414]="UriTooLong",n[n.UnsupportedMediaType=415]="UnsupportedMediaType",n[n.RangeNotSatisfiable=416]="RangeNotSatisfiable",n[n.ExpectationFailed=417]="ExpectationFailed",n[n.ImATeapot=418]="ImATeapot",n[n.MisdirectedRequest=421]="MisdirectedRequest",n[n.UnprocessableEntity=422]="UnprocessableEntity",n[n.Locked=423]="Locked",n[n.FailedDependency=424]="FailedDependency",n[n.TooEarly=425]="TooEarly",n[n.UpgradeRequired=426]="UpgradeRequired",n[n.PreconditionRequired=428]="PreconditionRequired",n[n.TooManyRequests=429]="TooManyRequests",n[n.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",n[n.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",n[n.InternalServerError=500]="InternalServerError",n[n.NotImplemented=501]="NotImplemented",n[n.BadGateway=502]="BadGateway",n[n.ServiceUnavailable=503]="ServiceUnavailable",n[n.GatewayTimeout=504]="GatewayTimeout",n[n.HttpVersionNotSupported=505]="HttpVersionNotSupported",n[n.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",n[n.InsufficientStorage=507]="InsufficientStorage",n[n.LoopDetected=508]="LoopDetected",n[n.NotExtended=510]="NotExtended",n[n.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",n}(On||{});function fs(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var Ct=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof Sn)s=t;else{let a;i.headers instanceof tt?a=i.headers:a=new tt(i.headers);let u;i.params&&(i.params instanceof vt?u=i.params:u=new vt({fromObject:i.params})),s=new Sn(t,r,i.body!==void 0?i.body:null,{headers:a,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let o=R(s).pipe(Tt(a=>this.handler.handle(a)));if(t instanceof Sn||i.observe==="events")return o;let c=o.pipe(Ie(a=>a instanceof Cn));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(D(a=>{if(a.body!==null&&!(a.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return a.body}));case"blob":return c.pipe(D(a=>{if(a.body!==null&&!(a.body instanceof Blob))throw new Error("Response is not a Blob.");return a.body}));case"text":return c.pipe(D(a=>{if(a.body!==null&&typeof a.body!="string")throw new Error("Response is not a string.");return a.body}));case"json":default:return c.pipe(D(a=>a.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new vt().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,fs(i,r))}post(t,r,i={}){return this.request("POST",t,fs(i,r))}put(t,r,i={}){return this.request("PUT",t,fs(i,r))}static \u0275fac=function(r){return new(r||n)(x(Rn))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),Yd=/^\)\]\}',?\n/,Kd="X-Request-URL";function Hc(n){if(n.url)return n.url;let e=Kd.toLocaleLowerCase();return n.headers.get(e)}var Jd=(()=>{class n{fetchImpl=f(gs,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t));ngZone=f(ae);handle(t){return new zt(r=>{let i=new AbortController;return this.doRequest(t,i.signal,r).then(vs,s=>r.error(new We({error:s}))),()=>i.abort()})}doRequest(t,r,i){return l(this,null,function*(){let s=this.createRequestInit(t),o;try{let p=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,b({signal:r},s)));Xd(p),i.next({type:yt.Sent}),o=yield p}catch(p){i.error(new We({error:p,status:p.status??0,statusText:p.statusText,url:t.urlWithParams,headers:p.headers}));return}let c=new tt(o.headers),a=o.statusText,u=Hc(o)??t.urlWithParams,d=o.status,h=null;if(t.reportProgress&&i.next(new Nr({headers:c,status:d,statusText:a,url:u})),o.body){let p=o.headers.get("content-length"),E=[],I=o.body.getReader(),_=0,F,G,N=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>l(this,null,function*(){for(;;){let{done:Y,value:K}=yield I.read();if(Y)break;if(E.push(K),_+=K.length,t.reportProgress){G=t.responseType==="text"?(G??"")+(F??=new TextDecoder).decode(K,{stream:!0}):void 0;let ne=()=>i.next({type:yt.DownloadProgress,total:p?+p:void 0,loaded:_,partialText:G});N?N.run(ne):ne()}}}));let q=this.concatChunks(E,_);try{let Y=o.headers.get("Content-Type")??"";h=this.parseBody(t,q,Y)}catch(Y){i.error(new We({error:Y,headers:new tt(o.headers),status:o.status,statusText:o.statusText,url:Hc(o)??t.urlWithParams}));return}}d===0&&(d=h?Yc:0),d>=200&&d<300?(i.next(new Cn({body:h,headers:c,status:d,statusText:a,url:u})),i.complete()):i.error(new We({error:h,headers:c,status:d,statusText:a,url:u}))})}parseBody(t,r,i){switch(t.responseType){case"json":let s=new TextDecoder().decode(r).replace(Yd,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},i=t.withCredentials?"include":void 0;if(t.headers.forEach((s,o)=>r[s]=o.join(",")),t.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let s=t.detectContentTypeHeader();s!==null&&(r["Content-Type"]=s)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:i}}concatChunks(t,r){let i=new Uint8Array(r),s=0;for(let o of t)i.set(o,s),s+=o.length;return i}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),gs=class{};function vs(){}function Xd(n){n.then(vs,vs)}function Zd(n,e){return e(n)}function Qd(n,e,t){return(r,i)=>De(t,()=>e(r,s=>n(s,i)))}var ys=new U(""),eh=new U(""),th=new U("",{providedIn:"root",factory:()=>!0});var qc=(()=>{class n extends Rn{backend;injector;chain=null;pendingTasks=f(gr);contributeToStability=f(th);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(ys),...this.injector.get(eh,[])]));this.chain=r.reduceRight((i,s)=>Qd(i,s,this.injector),Zd)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Ht(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(x(Dr),x(qt))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})();var nh=/^\)\]\}',?\n/;function rh(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var Gc=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new X(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?oe(r.\u0275loadImpl()):R(null)).pipe(te(()=>new zt(s=>{let o=r.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((I,_)=>o.setRequestHeader(I,_.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let I=t.detectContentTypeHeader();I!==null&&o.setRequestHeader("Content-Type",I)}if(t.responseType){let I=t.responseType.toLowerCase();o.responseType=I!=="json"?I:"text"}let c=t.serializeBody(),a=null,u=()=>{if(a!==null)return a;let I=o.statusText||"OK",_=new tt(o.getAllResponseHeaders()),F=rh(o)||t.url;return a=new Nr({headers:_,status:o.status,statusText:I,url:F}),a},d=()=>{let{headers:I,status:_,statusText:F,url:G}=u(),N=null;_!==Gd&&(N=typeof o.response>"u"?o.responseText:o.response),_===0&&(_=N?Yc:0);let q=_>=200&&_<300;if(t.responseType==="json"&&typeof N=="string"){let Y=N;N=N.replace(nh,"");try{N=N!==""?JSON.parse(N):null}catch(K){N=Y,q&&(q=!1,N={error:K,text:N})}}q?(s.next(new Cn({body:N,headers:I,status:_,statusText:F,url:G||void 0})),s.complete()):s.error(new We({error:N,headers:I,status:_,statusText:F,url:G||void 0}))},h=I=>{let{url:_}=u(),F=new We({error:I,status:o.status||0,statusText:o.statusText||"Unknown Error",url:_||void 0});s.error(F)},y=!1,p=I=>{y||(s.next(u()),y=!0);let _={type:yt.DownloadProgress,loaded:I.loaded};I.lengthComputable&&(_.total=I.total),t.responseType==="text"&&o.responseText&&(_.partialText=o.responseText),s.next(_)},E=I=>{let _={type:yt.UploadProgress,loaded:I.loaded};I.lengthComputable&&(_.total=I.total),s.next(_)};return o.addEventListener("load",d),o.addEventListener("error",h),o.addEventListener("timeout",h),o.addEventListener("abort",h),t.reportProgress&&(o.addEventListener("progress",p),c!==null&&o.upload&&o.upload.addEventListener("progress",E)),o.send(c),s.next({type:yt.Sent}),()=>{o.removeEventListener("error",h),o.removeEventListener("abort",h),o.removeEventListener("load",d),o.removeEventListener("timeout",h),t.reportProgress&&(o.removeEventListener("progress",p),c!==null&&o.upload&&o.upload.removeEventListener("progress",E)),o.readyState!==o.DONE&&o.abort()}})))}static \u0275fac=function(r){return new(r||n)(x(Rr))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),Kc=new U(""),ih="XSRF-TOKEN",sh=new U("",{providedIn:"root",factory:()=>ih}),oh="X-XSRF-TOKEN",ah=new U("",{providedIn:"root",factory:()=>oh}),Mr=class{},ch=(()=>{class n{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Tr(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(x(de),x(Re),x(sh))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})();function uh(n,e){let t=n.url.toLowerCase();if(!f(Kc)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=f(Mr).getToken(),i=f(ah);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var Jc=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Jc||{});function lh(n,e){return{\u0275kind:n,\u0275providers:e}}function Xc(...n){let e=[Ct,Gc,qc,{provide:Rn,useExisting:qc},{provide:Dr,useFactory:()=>f(Jd,{optional:!0})??f(Gc)},{provide:ys,useValue:uh,multi:!0},{provide:Kc,useValue:!0},{provide:Mr,useClass:ch}];for(let t of n)e.push(...t.\u0275providers);return we(e)}function Zc(n){return lh(Jc.Interceptors,n.map(e=>({provide:ys,useValue:e,multi:!0})))}var Is=class extends Cc{supportsDOMEvents=!0},ws=class n extends Is{static makeCurrent(){Ac(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=hh();return t==null?null:fh(t)}resetBaseElement(){Pn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Tr(document.cookie,e)}},Pn=null;function hh(){return Pn=Pn||document.querySelector("base"),Pn?Pn.getAttribute("href"):null}function fh(n){return new URL(n,document.baseURI).pathname}var ph=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),Es=new U(""),ru=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new X(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(x(Es),x(ae))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),Lr=class{_doc;constructor(e){this._doc=e}manager},bs="ng-app-id";function Qc(n){for(let e of n)e.remove()}function eu(n,e){let t=e.createElement("style");return t.textContent=n,t}function mh(n,e,t){let r=n.head?.querySelectorAll(`style[${bs}="${e}"]`);if(r)for(let i of r)i.textContent&&(i.removeAttribute(bs),t.set(i.textContent,{usage:0,elements:[i]}))}function Ts(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var iu=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=Sr(s),mh(t,r,this.inline),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,eu);r?.forEach(i=>this.addUsage(i,this.external,Ts))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let s=r.get(t);s?s.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(Qc(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])Qc(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,eu(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,Ts(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(bs,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(x(de),x(Ji),x(Xi,8),x(Re))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),_s={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Rs=/%COMP%/g,su="%COMP%",gh=`_nghost-${su}`,vh=`_ngcontent-${su}`,yh=!0,_h=new U("",{providedIn:"root",factory:()=>yh});function Ih(n){return vh.replace(Rs,n)}function wh(n){return gh.replace(Rs,n)}function ou(n,e){return e.map(t=>t.replace(Rs,n))}var xr=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,s,o,c,a,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=c,this.ngZone=a,this.nonce=u,this.platformIsServer=Sr(c),this.defaultRenderer=new kn(t,o,a,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===wn.ShadowDom&&(r=ce(b({},r),{encapsulation:wn.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Ur?i.applyToHost(t):i instanceof Dn&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,c=this.ngZone,a=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(r.encapsulation){case wn.Emulated:s=new Ur(a,u,r,this.appId,d,o,c,h);break;case wn.ShadowDom:return new Ss(a,u,t,r,o,c,this.nonce,h);default:s=new Dn(a,u,r,d,o,c,h);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static \u0275fac=function(r){return new(r||n)(x(ru),x(iu),x(Ji),x(_h),x(de),x(Re),x(ae),x(Xi))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),kn=class{eventManager;doc;ngZone;platformIsServer;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(_s[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(tu(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(tu(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new X(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let s=_s[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=_s[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(En.DashCase|En.Important)?e.style.setProperty(t,r,i&En.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&En.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=as().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function tu(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Ss=class extends kn{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,s,o,c,a){super(e,s,o,a),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=ou(i.id,i.styles);for(let h of u){let y=document.createElement("style");c&&y.setAttribute("nonce",c),y.textContent=h,this.shadowRoot.appendChild(y)}let d=i.getExternalStyles?.();if(d)for(let h of d){let y=Ts(h,s);c&&y.setAttribute("nonce",c),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Dn=class extends kn{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,s,o,c,a){super(e,s,o,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=a?ou(a,r.styles):r.styles,this.styleUrls=r.getExternalStyles?.(a)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Ur=class extends Dn{contentAttr;hostAttr;constructor(e,t,r,i,s,o,c,a){let u=i+"-"+r.id;super(e,t,r,s,o,c,a,u),this.contentAttr=Ih(u),this.hostAttr=wh(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},Eh=(()=>{class n extends Lr{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static \u0275fac=function(r){return new(r||n)(x(de))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),nu=["alt","control","meta","shift"],bh={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Th={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},Sh=(()=>{class n extends Lr{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>as().onAndCancel(t,s.domEventName,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=n._normalizeKey(r.pop()),o="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),o="code."),nu.forEach(u=>{let d=r.indexOf(u);d>-1&&(r.splice(d,1),o+=u+".")}),o+=s,r.length!=0||s.length===0)return null;let a={};return a.domEventName=i,a.fullKey=o,a}static matchEventFullKeyCode(t,r){let i=bh[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),nu.forEach(o=>{if(o!==i){let c=Th[o];c(t)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(x(de))};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})();function au(n,e){return Sc(b({rootComponent:n},Rh(e)))}function Rh(n){return{appProviders:[...kh,...n?.providers??[]],platformProviders:Ph}}function Ah(){ws.makeCurrent()}function Ch(){return new Yi}function Oh(){return tc(document),document}var Ph=[{provide:Re,useValue:kc},{provide:nc,useValue:Ah,multi:!0},{provide:de,useFactory:Oh,deps:[]}];var kh=[{provide:Ja,useValue:"root"},{provide:Yi,useFactory:Ch,deps:[]},{provide:Es,useClass:Eh,multi:!0,deps:[de,ae,Re]},{provide:Es,useClass:Sh,multi:!0,deps:[de]},xr,iu,ru,{provide:vr,useExisting:xr},{provide:Rr,useClass:ph,deps:[]},[]];var cu=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(x(de))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var k="primary",Yn=Symbol("RouteTitle"),ks=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function tn(n){return new ks(n)}function Nh(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],c=n[s];if(o[0]===":")i[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Mh(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!He(n[t],e[t]))return!1;return!0}function He(n,e){let t=n?Ds(n):void 0,r=e?Ds(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!gu(n[i],e[i]))return!1;return!0}function Ds(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function gu(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}else return n===e}function vu(n){return n.length>0?n[n.length-1]:null}function _t(n){return ja(n)?n:ac(n)?oe(Promise.resolve(n)):R(n)}var Lh={exact:_u,subset:Iu},yu={exact:xh,subset:Uh,ignored:()=>!0};function uu(n,e,t){return Lh[t.paths](n.root,e.root,t.matrixParams)&&yu[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function xh(n,e){return He(n,e)}function _u(n,e,t){if(!Pt(n.segments,e.segments)||!$r(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!_u(n.children[r],e.children[r],t))return!1;return!0}function Uh(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>gu(n[t],e[t]))}function Iu(n,e,t){return wu(n,e,e.segments,t)}function wu(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Pt(i,t)||e.hasChildren()||!$r(i,t,r))}else if(n.segments.length===t.length){if(!Pt(n.segments,t)||!$r(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!Iu(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!Pt(n.segments,i)||!$r(n.segments,i,r)||!n.children[k]?!1:wu(n.children[k],e,s,r)}}function $r(n,e,t){return e.every((r,i)=>yu[t](n[i].parameters,r.parameters))}var rt=class{root;queryParams;fragment;_queryParamMap;constructor(e=new $([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=tn(this.queryParams),this._queryParamMap}toString(){return $h.serialize(this)}},$=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vr(this)}},Ot=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=tn(this.parameters),this._parameterMap}toString(){return bu(this)}};function Fh(n,e){return Pt(n,e)&&n.every((t,r)=>He(t.parameters,e[r].parameters))}function Pt(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function jh(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===k&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==k&&(t=t.concat(e(i,r)))}),t}var io=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:()=>new jn,providedIn:"root"})}return n})(),jn=class{parse(e){let t=new Ms(e);return new rt(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Nn(e.root,!0)}`,r=Bh(e.queryParams),i=typeof e.fragment=="string"?`#${Vh(e.fragment)}`:"";return`${t}${r}${i}`}},$h=new jn;function Vr(n){return n.segments.map(e=>bu(e)).join("/")}function Nn(n,e){if(!n.hasChildren())return Vr(n);if(e){let t=n.children[k]?Nn(n.children[k],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==k&&r.push(`${i}:${Nn(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=jh(n,(r,i)=>i===k?[Nn(n.children[k],!1)]:[`${i}:${Nn(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[k]!=null?`${Vr(n)}/${t[0]}`:`${Vr(n)}/(${t.join("//")})`}}function Eu(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Fr(n){return Eu(n).replace(/%3B/gi,";")}function Vh(n){return encodeURI(n)}function Ns(n){return Eu(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function zr(n){return decodeURIComponent(n)}function lu(n){return zr(n.replace(/\+/g,"%20"))}function bu(n){return`${Ns(n.path)}${zh(n.parameters)}`}function zh(n){return Object.entries(n).map(([e,t])=>`;${Ns(e)}=${Ns(t)}`).join("")}function Bh(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Fr(t)}=${Fr(i)}`).join("&"):`${Fr(t)}=${Fr(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var Wh=/^[^\/()?;#]+/;function As(n){let e=n.match(Wh);return e?e[0]:""}var Hh=/^[^\/()?;=#]+/;function qh(n){let e=n.match(Hh);return e?e[0]:""}var Gh=/^[^=?&#]+/;function Yh(n){let e=n.match(Gh);return e?e[0]:""}var Kh=/^[^&#]+/;function Jh(n){let e=n.match(Kh);return e?e[0]:""}var Ms=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new $([],{}):new $([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[k]=new $(e,t)),r}parseSegment(){let e=As(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new X(4009,!1);return this.capture(e),new Ot(zr(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=qh(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=As(this.remaining);i&&(r=i,this.capture(r))}e[zr(t)]=zr(r)}parseQueryParam(e){let t=Yh(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=Jh(this.remaining);o&&(r=o,this.capture(r))}let i=lu(t),s=lu(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=As(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new X(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=k);let o=this.parseChildren();t[s]=Object.keys(o).length===1?o[k]:new $([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new X(4011,!1)}};function Tu(n){return n.segments.length>0?new $([],{[k]:n}):n}function Su(n){let e={};for(let[r,i]of Object.entries(n.children)){let s=Su(i);if(r===k&&s.segments.length===0&&s.hasChildren())for(let[o,c]of Object.entries(s.children))e[o]=c;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let t=new $(n.segments,e);return Xh(t)}function Xh(n){if(n.numberOfChildren===1&&n.children[k]){let e=n.children[k];return new $(n.segments.concat(e.segments),e.children)}return n}function kt(n){return n instanceof rt}function Zh(n,e,t=null,r=null){let i=Ru(n);return Au(i,e,t,r)}function Ru(n){let e;function t(s){let o={};for(let a of s.children){let u=t(a);o[a.outlet]=u}let c=new $(s.url,o);return s===n&&(e=c),c}let r=t(n.root),i=Tu(r);return e??i}function Au(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Cs(i,i,i,t,r);let s=Qh(e);if(s.toRoot())return Cs(i,i,new $([],{}),t,r);let o=ef(s,i,n),c=o.processChildren?xn(o.segmentGroup,o.index,s.commands):Ou(o.segmentGroup,o.index,s.commands);return Cs(i,o.segmentGroup,c,t,r)}function Br(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function $n(n){return typeof n=="object"&&n!=null&&n.outlets}function Cs(n,e,t,r,i){let s={};r&&Object.entries(r).forEach(([a,u])=>{s[a]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let o;n===e?o=t:o=Cu(n,e,t);let c=Tu(Su(o));return new rt(c,s,i)}function Cu(n,e,t){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===e?r[i]=t:r[i]=Cu(s,e,t)}),new $(n.segments,r)}var Wr=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Br(r[0]))throw new X(4003,!1);let i=r.find($n);if(i&&i!==vu(r))throw new X(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Qh(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Wr(!0,0,n);let e=0,t=!1,r=n.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([a,u])=>{c[a]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((c,a)=>{a==0&&c==="."||(a==0&&c===""?t=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,s]},[]);return new Wr(t,e,r)}var Zt=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function ef(n,e,t){if(n.isAbsolute)return new Zt(e,!0,0);if(!t)return new Zt(e,!1,NaN);if(t.parent===null)return new Zt(t,!0,0);let r=Br(n.commands[0])?0:1,i=t.segments.length-1+r;return tf(t,i,n.numberOfDoubleDots)}function tf(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new X(4005,!1);i=r.segments.length}return new Zt(r,!1,i-s)}function nf(n){return $n(n[0])?n[0].outlets:{[k]:n}}function Ou(n,e,t){if(n??=new $([],{}),n.segments.length===0&&n.hasChildren())return xn(n,e,t);let r=rf(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new $(n.segments.slice(0,r.pathIndex),{});return s.children[k]=new $(n.segments.slice(r.pathIndex),n.children),xn(s,0,i)}else return r.match&&i.length===0?new $(n.segments,{}):r.match&&!n.hasChildren()?Ls(n,e,t):r.match?xn(n,0,i):Ls(n,e,t)}function xn(n,e,t){if(t.length===0)return new $(n.segments,{});{let r=nf(t),i={};if(Object.keys(r).some(s=>s!==k)&&n.children[k]&&n.numberOfChildren===1&&n.children[k].segments.length===0){let s=xn(n.children[k],e,t);return new $(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=Ou(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new $(n.segments,i)}}function rf(n,e,t){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;let o=n.segments[i],c=t[r];if($n(c))break;let a=`${c}`,u=r<t.length-1?t[r+1]:null;if(i>0&&a===void 0)break;if(a&&u&&typeof u=="object"&&u.outlets===void 0){if(!hu(a,u,o))return s;r+=2}else{if(!hu(a,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Ls(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let s=t[i];if($n(s)){let a=sf(s.outlets);return new $(r,a)}if(i===0&&Br(t[0])){let a=n.segments[e];r.push(new Ot(a.path,du(t[0]))),i++;continue}let o=$n(s)?s.outlets[k]:`${s}`,c=i<t.length-1?t[i+1]:null;o&&c&&Br(c)?(r.push(new Ot(o,du(c))),i+=2):(r.push(new Ot(o,{})),i++)}return new $(r,{})}function sf(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Ls(new $([],{}),0,r))}),e}function du(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function hu(n,e,t){return n==t.path&&He(e,t.parameters)}var Un="imperative",le=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(le||{}),Ae=class{id;url;constructor(e,t){this.id=e,this.url=t}},Vn=class extends Ae{type=le.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},it=class extends Ae{urlAfterRedirects;type=le.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},be=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(be||{}),xs=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(xs||{}),nt=class extends Ae{reason;code;type=le.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Dt=class extends Ae{reason;code;type=le.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},zn=class extends Ae{error;target;type=le.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Hr=class extends Ae{urlAfterRedirects;state;type=le.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Us=class extends Ae{urlAfterRedirects;state;type=le.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fs=class extends Ae{urlAfterRedirects;state;shouldActivate;type=le.GuardsCheckEnd;constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},js=class extends Ae{urlAfterRedirects;state;type=le.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$s=class extends Ae{urlAfterRedirects;state;type=le.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vs=class{route;type=le.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},zs=class{route;type=le.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Bs=class{snapshot;type=le.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ws=class{snapshot;type=le.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Hs=class{snapshot;type=le.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qs=class{snapshot;type=le.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Bn=class{},nn=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function of(n,e){return n.providers&&!n._injector&&(n._injector=oc(n.providers,e,`Route: ${n.path}`)),n._injector??e}function xe(n){return n.outlet||k}function af(n,e){let t=n.filter(r=>xe(r)===e);return t.push(...n.filter(r=>xe(r)!==e)),t}function Kn(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Gs=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Kn(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Zr(this.rootInjector)}},Zr=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Gs(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(x(qt))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),qr=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Ys(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Ys(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Ks(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Ks(e,this._root).map(t=>t.value)}};function Ys(n,e){if(n===e.value)return e;for(let t of e.children){let r=Ys(n,t);if(r)return r}return null}function Ks(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Ks(n,t);if(r.length)return r.unshift(e),r}return[]}var Ee=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Xt(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Gr=class extends qr{snapshot;constructor(e,t){super(e),this.snapshot=t,so(this,e)}toString(){return this.snapshot.toString()}};function Pu(n){let e=cf(n),t=new Te([new Ot("",{})]),r=new Te({}),i=new Te({}),s=new Te({}),o=new Te(""),c=new Nt(t,r,s,o,i,k,n,e.root);return c.snapshot=e.root,new Gr(new Ee(c,[]),e)}function cf(n){let e={},t={},r={},i="",s=new Qt([],e,r,i,t,k,n,null,{});return new Kr("",new Ee(s,[]))}var Nt=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,s,o,c,a){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=a,this.title=this.dataSubject?.pipe(D(u=>u[Yn]))??R(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(D(e=>tn(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(D(e=>tn(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Yr(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:b(b({},e.params),n.params),data:b(b({},e.data),n.data),resolve:b(b(b(b({},n.data),e.data),i?.data),n._resolvedData)}:r={params:b({},n.params),data:b({},n.data),resolve:b(b({},n.data),n._resolvedData??{})},i&&Du(i)&&(r.resolve[Yn]=i.title),r}var Qt=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Yn]}constructor(e,t,r,i,s,o,c,a,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=c,this.routeConfig=a,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=tn(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=tn(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Kr=class extends qr{url;constructor(e,t){super(t),this.url=e,so(this,t)}toString(){return ku(this._root)}};function so(n,e){e.value._routerState=n,e.children.forEach(t=>so(n,t))}function ku(n){let e=n.children.length>0?` { ${n.children.map(ku).join(", ")} } `:"";return`${n.value}${e}`}function Os(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,He(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),He(e.params,t.params)||n.paramsSubject.next(t.params),Mh(e.url,t.url)||n.urlSubject.next(t.url),He(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Js(n,e){let t=He(n.params,e.params)&&Fh(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Js(n.parent,e.parent))}function Du(n){return typeof n.title=="string"||n.title===null}var uf=new U(""),oo=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=k;activateEvents=new Gt;deactivateEvents=new Gt;attachEvents=new Gt;detachEvents=new Gt;routerOutletData=ec(void 0);parentContexts=f(Zr);location=f(cc);changeDetector=f(wr);inputBinder=f(ao,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new X(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new X(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new X(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new X(4013,!1);this._activatedRoute=t;let i=this.location,o=t.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,a=new Xs(t,c,i.injector,this.routerOutletData);this.activated=i.createComponent(o,{index:i.length,injector:a,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=yr({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[mr]})}return n})(),Xs=class n{route;childContexts;parent;outletData;__ngOutletInjector(e){return new n(this.route,this.childContexts,e,this.outletData)}constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Nt?this.route:e===Zr?this.childContexts:e===uf?this.outletData:this.parent.get(e,t)}},ao=new U("");function lf(n,e,t){let r=Wn(n,e._root,t?t._root:void 0);return new Gr(r,e)}function Wn(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=df(n,e,t);return new Ee(r,i)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(c=>Wn(n,c)),o}}let r=hf(e.value),i=e.children.map(s=>Wn(n,s));return new Ee(r,i)}}function df(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Wn(n,r,i);return Wn(n,r)})}function hf(n){return new Nt(new Te(n.url),new Te(n.params),new Te(n.queryParams),new Te(n.fragment),new Te(n.data),n.outlet,n.component,n)}var Hn=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},Nu="ngNavigationCancelingError";function Jr(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=kt(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Mu(!1,be.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function Mu(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[Nu]=!0,t.cancellationCode=e,t}function ff(n){return Lu(n)&&kt(n.url)}function Lu(n){return!!n&&n[Nu]}var pf=(n,e,t,r)=>D(i=>(new Zs(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Zs=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Os(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Xt(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Xt(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Xt(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Xt(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new qs(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Ws(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(Os(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),Os(c.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},Xr=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},en=class{component;route;constructor(e,t){this.component=e,this.route=t}};function mf(n,e,t){let r=n._root,i=e?e._root:null;return Mn(r,i,t,[r.value])}function gf(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function on(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Ka(n)?n:e.get(n):r}function Mn(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Xt(e);return n.children.forEach(o=>{vf(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>Fn(c,t.getContext(o),i)),i}function vf(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,c=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let a=yf(o,s,s.routeConfig.runGuardsAndResolvers);a?i.canActivateChecks.push(new Xr(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Mn(n,e,c?c.children:null,r,i):Mn(n,e,t,r,i),a&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new en(c.outlet.component,o))}else o&&Fn(e,c,i),i.canActivateChecks.push(new Xr(r)),s.component?Mn(n,null,c?c.children:null,r,i):Mn(n,null,t,r,i);return i}function yf(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Pt(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Pt(n.url,e.url)||!He(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Js(n,e)||!He(n.queryParams,e.queryParams);case"paramsChange":default:return!Js(n,e)}}function Fn(n,e,t){let r=Xt(n),i=n.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Fn(o,e.children.getContext(s),t):Fn(o,null,t):Fn(o,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new en(e.outlet.component,i)):t.canDeactivateChecks.push(new en(null,i)):t.canDeactivateChecks.push(new en(null,i))}function Jn(n){return typeof n=="function"}function _f(n){return typeof n=="boolean"}function If(n){return n&&Jn(n.canLoad)}function wf(n){return n&&Jn(n.canActivate)}function Ef(n){return n&&Jn(n.canActivateChild)}function bf(n){return n&&Jn(n.canDeactivate)}function Tf(n){return n&&Jn(n.canMatch)}function xu(n){return n instanceof $a||n?.name==="EmptyError"}var jr=Symbol("INITIAL_VALUE");function rn(){return te(n=>$i(n.map(e=>e.pipe(fe(1),Ga(jr)))).pipe(D(e=>{for(let t of e)if(t!==!0){if(t===jr)return jr;if(t===!1||Sf(t))return t}return!0}),Ie(e=>e!==jr),fe(1)))}function Sf(n){return kt(n)||n instanceof Hn}function Rf(n,e){return Se(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?R(ce(b({},t),{guardsResult:!0})):Af(o,r,i,n).pipe(Se(c=>c&&_f(c)?Cf(r,s,n,e):R(c)),D(c=>ce(b({},t),{guardsResult:c})))})}function Af(n,e,t,r){return oe(n).pipe(Se(i=>Nf(i.component,i.route,t,e,r)),pt(i=>i!==!0,!0))}function Cf(n,e,t,r){return oe(e).pipe(Tt(i=>pr(Pf(i.route.parent,r),Of(i.route,r),Df(n,i.path,t),kf(n,i.route,t))),pt(i=>i!==!0,!0))}function Of(n,e){return n!==null&&e&&e(new Hs(n)),R(!0)}function Pf(n,e){return n!==null&&e&&e(new Bs(n)),R(!0)}function kf(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return R(!0);let i=r.map(s=>Bt(()=>{let o=Kn(e)??t,c=on(s,o),a=wf(c)?c.canActivate(e,n):De(o,()=>c(e,n));return _t(a).pipe(pt())}));return R(i).pipe(rn())}function Df(n,e,t){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>gf(o)).filter(o=>o!==null).map(o=>Bt(()=>{let c=o.guards.map(a=>{let u=Kn(o.node)??t,d=on(a,u),h=Ef(d)?d.canActivateChild(r,n):De(u,()=>d(r,n));return _t(h).pipe(pt())});return R(c).pipe(rn())}));return R(s).pipe(rn())}function Nf(n,e,t,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return R(!0);let o=s.map(c=>{let a=Kn(e)??i,u=on(c,a),d=bf(u)?u.canDeactivate(n,e,t,r):De(a,()=>u(n,e,t,r));return _t(d).pipe(pt())});return R(o).pipe(rn())}function Mf(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return R(!0);let s=i.map(o=>{let c=on(o,n),a=If(c)?c.canLoad(e,t):De(n,()=>c(e,t));return _t(a)});return R(s).pipe(rn(),Uu(r))}function Uu(n){return xa(W(e=>{if(typeof e!="boolean")throw Jr(n,e)}),D(e=>e===!0))}function Lf(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return R(!0);let s=i.map(o=>{let c=on(o,n),a=Tf(c)?c.canMatch(e,t):De(n,()=>c(e,t));return _t(a)});return R(s).pipe(rn(),Uu(r))}var qn=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Gn=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Jt(n){return ke(new qn(n))}function xf(n){return ke(new X(4e3,!1))}function Uf(n){return ke(Mu(!1,be.GuardRejected))}var Qs=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return R(r);if(i.numberOfChildren>1||!i.children[k])return xf(`${e.redirectTo}`);i=i.children[k]}}applyRedirectCommands(e,t,r,i,s){if(typeof t!="string"){let c=t,{queryParams:a,fragment:u,routeConfig:d,url:h,outlet:y,params:p,data:E,title:I}=i,_=De(s,()=>c({params:p,data:E,queryParams:a,fragment:u,routeConfig:d,url:h,outlet:y,title:I}));if(_ instanceof rt)throw new Gn(_);t=_}let o=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Gn(o);return o}applyRedirectCreateUrlTree(e,t,r,i){let s=this.createSegmentGroup(e,t.root,r,i);return new rt(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let c=s.substring(1);r[i]=t[c]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){let s=this.createSegments(e,t.segments,r,i),o={};return Object.entries(t.children).forEach(([c,a])=>{o[c]=this.createSegmentGroup(e,a,r,i)}),new $(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new X(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},eo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ff(n,e,t,r,i){let s=Fu(n,e,t);return s.matched?(r=of(e,r),Lf(r,e,t,i).pipe(D(o=>o===!0?s:b({},eo)))):R(s)}function Fu(n,e,t){if(e.path==="**")return jf(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?b({},eo):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Nh)(t,n,e);if(!i)return b({},eo);let s={};Object.entries(i.posParams??{}).forEach(([c,a])=>{s[c]=a.path});let o=i.consumed.length>0?b(b({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function jf(n){return{matched:!0,parameters:n.length>0?vu(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function fu(n,e,t,r){return t.length>0&&zf(n,t,r)?{segmentGroup:new $(e,Vf(r,new $(t,n.children))),slicedSegments:[]}:t.length===0&&Bf(n,t,r)?{segmentGroup:new $(n.segments,$f(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new $(n.segments,n.children),slicedSegments:t}}function $f(n,e,t,r){let i={};for(let s of t)if(Qr(n,e,s)&&!r[xe(s)]){let o=new $([],{});i[xe(s)]=o}return b(b({},r),i)}function Vf(n,e){let t={};t[k]=e;for(let r of n)if(r.path===""&&xe(r)!==k){let i=new $([],{});t[xe(r)]=i}return t}function zf(n,e,t){return t.some(r=>Qr(n,e,r)&&xe(r)!==k)}function Bf(n,e,t){return t.some(r=>Qr(n,e,r))}function Qr(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function Wf(n,e,t){return e.length===0&&!n.children[t]}var to=class{};function Hf(n,e,t,r,i,s,o="emptyOnly"){return new no(n,e,t,r,i,o,s).recognize()}var qf=31,no=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,s,o,c){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.applyRedirects=new Qs(this.urlSerializer,this.urlTree)}noMatchError(e){return new X(4002,`'${e.segmentGroup}'`)}recognize(){let e=fu(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(D(({children:t,rootSnapshot:r})=>{let i=new Ee(r,t),s=new Kr("",i),o=Zh(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let t=new Qt([],Object.freeze({}),Object.freeze(b({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),k,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,k,t).pipe(D(r=>({children:r,rootSnapshot:t})),ft(r=>{if(r instanceof Gn)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof qn?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,s):this.processSegment(e,t,r,r.segments,i,!0,s).pipe(D(o=>o instanceof Ee?[o]:[]))}processChildren(e,t,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return oe(s).pipe(Tt(o=>{let c=r.children[o],a=af(t,o);return this.processSegmentGroup(e,a,c,o,i)}),qa((o,c)=>(o.push(...c),o)),Wi(null),Wa(),Se(o=>{if(o===null)return Jt(r);let c=ju(o);return Gf(c),R(c)}))}processSegment(e,t,r,i,s,o,c){return oe(t).pipe(Tt(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,r,i,s,o,c).pipe(ft(u=>{if(u instanceof qn)return R(null);throw u}))),pt(a=>!!a),ft(a=>{if(xu(a))return Wf(r,i,s)?R(new to):Jt(r);throw a}))}processSegmentAgainstRoute(e,t,r,i,s,o,c,a){return xe(r)!==o&&(o===k||!Qr(i,s,r))?Jt(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,a):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o,a):Jt(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o,c){let{matched:a,parameters:u,consumedSegments:d,positionalParamSegments:h,remainingSegments:y}=Fu(t,i,s);if(!a)return Jt(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>qf&&(this.allowRedirects=!1));let p=new Qt(s,u,Object.freeze(b({},this.urlTree.queryParams)),this.urlTree.fragment,pu(i),xe(i),i.component??i._loadedComponent??null,i,mu(i)),E=Yr(p,c,this.paramsInheritanceStrategy);p.params=Object.freeze(E.params),p.data=Object.freeze(E.data);let I=this.applyRedirects.applyRedirectCommands(d,i.redirectTo,h,p,e);return this.applyRedirects.lineralizeSegments(i,I).pipe(Se(_=>this.processSegment(e,r,t,_.concat(y),o,!1,c)))}matchSegmentAgainstRoute(e,t,r,i,s,o){let c=Ff(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),c.pipe(te(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(te(({routes:u})=>{let d=r._loadedInjector??e,{parameters:h,consumedSegments:y,remainingSegments:p}=a,E=new Qt(y,h,Object.freeze(b({},this.urlTree.queryParams)),this.urlTree.fragment,pu(r),xe(r),r.component??r._loadedComponent??null,r,mu(r)),I=Yr(E,o,this.paramsInheritanceStrategy);E.params=Object.freeze(I.params),E.data=Object.freeze(I.data);let{segmentGroup:_,slicedSegments:F}=fu(t,y,p,u);if(F.length===0&&_.hasChildren())return this.processChildren(d,u,_,E).pipe(D(N=>new Ee(E,N)));if(u.length===0&&F.length===0)return R(new Ee(E,[]));let G=xe(r)===s;return this.processSegment(d,u,_,F,G?k:s,!0,E).pipe(D(N=>new Ee(E,N instanceof Ee?[N]:[])))}))):Jt(t)))}getChildConfig(e,t,r){return t.children?R({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?R({routes:t._loadedRoutes,injector:t._loadedInjector}):Mf(e,t,r,this.urlSerializer).pipe(Se(i=>i?this.configLoader.loadChildren(e,t).pipe(W(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):Uf(t))):R({routes:[],injector:e})}};function Gf(n){n.sort((e,t)=>e.value.outlet===k?-1:t.value.outlet===k?1:e.value.outlet.localeCompare(t.value.outlet))}function Yf(n){let e=n.value.routeConfig;return e&&e.path===""}function ju(n){let e=[],t=new Set;for(let r of n){if(!Yf(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=ju(r.children);e.push(new Ee(r.value,i))}return e.filter(r=>!t.has(r))}function pu(n){return n.data||{}}function mu(n){return n.resolve||{}}function Kf(n,e,t,r,i,s){return Se(o=>Hf(n,e,t,r,o.extractedUrl,i,s).pipe(D(({state:c,tree:a})=>ce(b({},o),{targetSnapshot:c,urlAfterRedirects:a}))))}function Jf(n,e){return Se(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return R(t);let s=new Set(i.map(a=>a.route)),o=new Set;for(let a of s)if(!o.has(a))for(let u of $u(a))o.add(u);let c=0;return oe(o).pipe(Tt(a=>s.has(a)?Xf(a,r,n,e):(a.data=Yr(a,a.parent,n).resolve,R(void 0))),W(()=>c++),Hi(1),Se(a=>c===o.size?R(t):ht))})}function $u(n){let e=n.children.map(t=>$u(t)).flat();return[n,...e]}function Xf(n,e,t,r){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!Du(i)&&(s[Yn]=i.title),Zf(s,n,e,r).pipe(D(o=>(n._resolvedData=o,n.data=Yr(n,n.parent,t).resolve,null)))}function Zf(n,e,t,r){let i=Ds(n);if(i.length===0)return R({});let s={};return oe(i).pipe(Se(o=>Qf(n[o],e,t,r).pipe(pt(),W(c=>{if(c instanceof Hn)throw Jr(new jn,c);s[o]=c}))),Hi(1),za(s),ft(o=>xu(o)?ht:ke(o)))}function Qf(n,e,t,r){let i=Kn(e)??r,s=on(n,i),o=s.resolve?s.resolve(e,t):De(i,()=>s(e,t));return _t(o)}function Ps(n){return te(e=>{let t=n(e);return t?oe(t).pipe(D(()=>e)):R(e)})}var Vu=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===k);return r}getResolvedTitleForRoute(t){return t.data[Yn]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:()=>f(ep),providedIn:"root"})}return n})(),ep=(()=>{class n extends Vu{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(x(cu))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),co=new U("",{providedIn:"root",factory:()=>({})}),tp=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=ze({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(r,i){r&1&&ge(0,"router-outlet")},dependencies:[oo],encapsulation:2})}return n})();function uo(n){let e=n.children&&n.children.map(uo),t=e?ce(b({},n),{children:e}):b({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==k&&(t.component=tp),t}var lo=new U(""),np=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=f(ss);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return R(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=_t(t.loadComponent()).pipe(D(zu),W(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Ht(()=>{this.componentLoaders.delete(t)})),i=new Ui(r,()=>new Ve).pipe(xi());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return R({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=rp(r,this.compiler,t,this.onLoadEndListener).pipe(Ht(()=>{this.childrenLoaders.delete(r)})),o=new Ui(s,()=>new Ve).pipe(xi());return this.childrenLoaders.set(r,o),o}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function rp(n,e,t,r){return _t(n.loadChildren()).pipe(D(zu),Se(i=>i instanceof sc||Array.isArray(i)?R(i):oe(e.compileModuleAsync(i))),D(i=>{r&&r(n);let s,o,c=!1;return Array.isArray(i)?(o=i,c=!0):(s=i.create(t).injector,o=s.get(lo,[],{optional:!0,self:!0}).flat()),{routes:o.map(uo),injector:s}}))}function ip(n){return n&&typeof n=="object"&&"default"in n}function zu(n){return ip(n)?n.default:n}var ho=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:()=>f(sp),providedIn:"root"})}return n})(),sp=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),op=new U("");var ap=new U(""),cp=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Ve;transitionAbortSubject=new Ve;configLoader=f(np);environmentInjector=f(qt);urlSerializer=f(io);rootContexts=f(Zr);location=f(br);inputBindingEnabled=f(ao,{optional:!0})!==null;titleStrategy=f(Vu);options=f(co,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=f(ho);createViewTransition=f(op,{optional:!0});navigationErrorHandler=f(ap,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>R(void 0);rootComponentType=null;constructor(){let t=i=>this.events.next(new Vs(i)),r=i=>this.events.next(new zs(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(ce(b(b({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new Te({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Un,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ie(s=>s.id!==0),D(s=>ce(b({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),te(s=>{let o=!1,c=!1;return R(s).pipe(te(a=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",be.SupersededByNewNavigation),ht;this.currentTransition=s,this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,targetBrowserUrl:typeof a.extras.browserUrl=="string"?this.urlSerializer.parse(a.extras.browserUrl):a.extras.browserUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?ce(b({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=a.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!u&&d!=="reload"){let h="";return this.events.next(new Dt(a.id,this.urlSerializer.serialize(a.rawUrl),h,xs.IgnoredSameUrlNavigation)),a.resolve(!1),ht}if(this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return R(a).pipe(te(h=>{let y=this.transitions?.getValue();return this.events.next(new Vn(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),y!==this.transitions?.getValue()?ht:Promise.resolve(h)}),Kf(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),W(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=ce(b({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let y=new Hr(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(y)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(a.currentRawUrl)){let{id:h,extractedUrl:y,source:p,restoredState:E,extras:I}=a,_=new Vn(h,this.urlSerializer.serialize(y),p,E);this.events.next(_);let F=Pu(this.rootComponentType).snapshot;return this.currentTransition=s=ce(b({},a),{targetSnapshot:F,urlAfterRedirects:y,extras:ce(b({},I),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,R(s)}else{let h="";return this.events.next(new Dt(a.id,this.urlSerializer.serialize(a.extractedUrl),h,xs.IgnoredByUrlHandlingStrategy)),a.resolve(!1),ht}}),W(a=>{let u=new Us(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),D(a=>(this.currentTransition=s=ce(b({},a),{guards:mf(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),s)),Rf(this.environmentInjector,a=>this.events.next(a)),W(a=>{if(s.guardsResult=a.guardsResult,a.guardsResult&&typeof a.guardsResult!="boolean")throw Jr(this.urlSerializer,a.guardsResult);let u=new Fs(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(u)}),Ie(a=>a.guardsResult?!0:(this.cancelNavigationTransition(a,"",be.GuardRejected),!1)),Ps(a=>{if(a.guards.canActivateChecks.length)return R(a).pipe(W(u=>{let d=new js(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),te(u=>{let d=!1;return R(u).pipe(Jf(this.paramsInheritanceStrategy,this.environmentInjector),W({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",be.NoDataFromResolver)}}))}),W(u=>{let d=new $s(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),Ps(a=>{let u=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(W(y=>{d.component=y}),D(()=>{})));for(let y of d.children)h.push(...u(y));return h};return $i(u(a.targetSnapshot.root)).pipe(Wi(null),fe(1))}),Ps(()=>this.afterPreactivation()),te(()=>{let{currentSnapshot:a,targetSnapshot:u}=s,d=this.createViewTransition?.(this.environmentInjector,a.root,u.root);return d?oe(d).pipe(D(()=>s)):R(s)}),D(a=>{let u=lf(t.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return this.currentTransition=s=ce(b({},a),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),W(()=>{this.events.next(new Bn)}),pf(this.rootContexts,t.routeReuseStrategy,a=>this.events.next(a),this.inputBindingEnabled),fe(1),W({next:a=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new it(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects))),this.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{o=!0}}),Ya(this.transitionAbortSubject.pipe(W(a=>{throw a}))),Ht(()=>{!o&&!c&&this.cancelNavigationTransition(s,"",be.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),ft(a=>{if(c=!0,Lu(a))this.events.next(new nt(s.id,this.urlSerializer.serialize(s.extractedUrl),a.message,a.cancellationCode)),ff(a)?this.events.next(new nn(a.url,a.navigationBehaviorOptions)):s.resolve(!1);else{let u=new zn(s.id,this.urlSerializer.serialize(s.extractedUrl),a,s.targetSnapshot??void 0);try{let d=De(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(d instanceof Hn){let{message:h,cancellationCode:y}=Jr(this.urlSerializer,d);this.events.next(new nt(s.id,this.urlSerializer.serialize(s.extractedUrl),h,y)),this.events.next(new nn(d.redirectTo,d.navigationBehaviorOptions))}else throw this.events.next(u),a}catch(d){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(d)}}return ht}))}))}cancelNavigationTransition(t,r,i){let s=new nt(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function up(n){return n!==Un}var lp=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:()=>f(dp),providedIn:"root"})}return n})(),ro=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},dp=(()=>{class n extends ro{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Gi(n)))(i||n)}})();static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Bu=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:()=>f(hp),providedIn:"root"})}return n})(),hp=(()=>{class n extends Bu{location=f(br);urlSerializer=f(io);options=f(co,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=f(ho);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new rt;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=Pu(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof Vn)this.stateMemento=this.createStateMemento();else if(t instanceof Dt)this.rawUrlTree=r.initialUrl;else if(t instanceof Hr){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof Bn?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof nt&&(t.code===be.GuardRejected||t.code===be.NoDataFromResolver)?this.restoreHistory(r):t instanceof zn?this.restoreHistory(r,!0):t instanceof it&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof rt?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=b(b({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=b(b({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===t.finalUrl&&s===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Gi(n)))(i||n)}})();static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ln=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Ln||{});function fp(n,e){n.events.pipe(Ie(t=>t instanceof it||t instanceof nt||t instanceof zn||t instanceof Dt),D(t=>t instanceof it||t instanceof Dt?Ln.COMPLETE:(t instanceof nt?t.code===be.Redirect||t.code===be.SupersededByNewNavigation:!1)?Ln.REDIRECTING:Ln.FAILED),Ie(t=>t!==Ln.REDIRECTING),fe(1)).subscribe(()=>{e()})}var pp={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},mp={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},qe=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=f(_r);stateManager=f(Bu);options=f(co,{optional:!0})||{};pendingTasks=f(gr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=f(cp);urlSerializer=f(io);location=f(br);urlHandlingStrategy=f(ho);_events=new Ve;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=f(lp);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=f(lo,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!f(ao,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new La;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof nt&&r.code!==be.Redirect&&r.code!==be.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof it)this.navigated=!0;else if(r instanceof nn){let o=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),a=b({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||up(i.source)},o);this.scheduleNavigation(c,Un,null,a,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}vp(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Un,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let a=b({},i);delete a.navigationId,delete a.\u0275routerPageId,Object.keys(a).length!==0&&(s.state=a)}let c=this.parseUrl(t);this.scheduleNavigation(c,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(uo),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:c,preserveFragment:a}=r,u=a?this.currentUrlTree.fragment:o,d=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":d=b(b({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let y=i?i.snapshot:this.routerState.snapshot.root;h=Ru(y)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),h=this.currentUrlTree.root}return Au(h,t,d,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=kt(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Un,null,r)}navigate(t,r={skipLocationChange:!1}){return gp(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=b({},pp):r===!1?i=b({},mp):i=r,kt(t))return uu(this.currentUrlTree,t,i);let s=this.parseUrl(t);return uu(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let c,a,u;o?(c=o.resolve,a=o.reject,u=o.promise):u=new Promise((h,y)=>{c=h,a=y});let d=this.pendingTasks.add();return fp(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:c,reject:a,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function gp(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new X(4008,!1)}function vp(n){return!(n instanceof Bn)&&!(n instanceof nn)}var sn=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ve;constructor(t,r,i,s,o,c){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=c;let a=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=a==="a"||a==="area",this.isAnchorElement?this.subscription=t.events.subscribe(u=>{u instanceof it&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(kt(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,s,o){let c=this.urlTree;if(c===null||this.isAnchorElement&&(t!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let a={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,a),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:ic(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return this.routerLinkInput===null?null:kt(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(Le(qe),Le(Nt),Xa("tabindex"),Le(ts),Le(Ki),Le(cs))};static \u0275dir=yr({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&Z("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&lc("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Er],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Er],replaceUrl:[2,"replaceUrl","replaceUrl",Er],routerLink:"routerLink"},features:[uc,mr]})}return n})(),Wu=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Gt;constructor(t,r,i,s,o){this.router=t,this.element=r,this.renderer=i,this.cdr=s,this.link=o,this.routerEventsSubscription=t.events.subscribe(c=>{c instanceof it&&this.update()})}ngAfterContentInit(){R(this.links.changes,R(null)).pipe(Vi()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=oe(t).pipe(Vi()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=yp(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let s=i.urlTree;return s?t.isActive(s,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)(Le(qe),Le(Ki),Le(ts),Le(wr),Le(sn,8))};static \u0275dir=yr({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,s){if(r&1&&gc(s,sn,5),r&2){let o;vc(o=yc())&&(i.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[mr]})}return n})();function yp(n){return!!n.paths}var _p=new U("");function Hu(n,...e){return we([{provide:lo,multi:!0,useValue:n},[],{provide:Nt,useFactory:Ip,deps:[qe]},{provide:rs,multi:!0,useFactory:wp},e.map(t=>t.\u0275providers)])}function Ip(n){return n.routerState.root}function wp(){let n=f(mt);return e=>{let t=n.get(St);if(e!==t.components[0])return;let r=n.get(qe),i=n.get(Ep);n.get(bp)===1&&r.initialNavigation(),n.get(Tp,null,qi.Optional)?.setUpPreloading(),n.get(_p,null,qi.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Ep=new U("",{factory:()=>new Ve}),bp=new U("",{providedIn:"root",factory:()=>1});var Tp=new U("");var an={done:!1,hasNext:!1};function Mt(n,...e){let t=n,r=e.map(s=>"lazy"in s?Sp(s):void 0),i=0;for(;i<e.length;){if(r[i]===void 0||!Rp(t)){let a=e[i];t=a(t),i+=1;continue}let s=[];for(let a=i;a<e.length;a++){let u=r[a];if(u===void 0||(s.push(u),u.isSingle))break}let o=[];for(let a of t)if(qu(a,o,s))break;let{isSingle:c}=s.at(-1);t=c?o[0]:o,i+=s.length}return t}function qu(n,e,t){if(t.length===0)return e.push(n),!1;let r=n,i=an,s=!1;for(let[o,c]of t.entries()){let{index:a,items:u}=c;if(u.push(r),i=c(r,a,u),c.index+=1,i.hasNext){if(i.hasMany??!1){for(let d of i.next)if(qu(d,e,t.slice(o+1)))return!0;return s}r=i.next}if(!i.hasNext)break;i.done&&(s=!0)}return i.hasNext&&e.push(r),s}function Sp(n){let{lazy:e,lazyArgs:t}=n,r=e(...t);return Object.assign(r,{isSingle:e.single??!1,index:0,items:[]})}function Rp(n){return typeof n=="string"||typeof n=="object"&&n!==null&&Symbol.iterator in n}function ei(n,e){let t=e.length-n.length;if(t===1){let[r,...i]=e;return Mt(r,{lazy:n,lazyArgs:i})}if(t===0){let r={lazy:n,lazyArgs:e};return Object.assign(i=>Mt(i,r),r)}throw new Error("Wrong number of arguments")}function Xn(...n){return ei(Ap,n)}function Ap(n){let e=n,t=new Set;return(r,i,s)=>{let o=e(r,i,s);return t.has(o)?an:(t.add(o),{done:!1,hasNext:!0,next:r})}}function Gu(n,e,t){let r=i=>n(i,...e);return t===void 0?r:Object.assign(r,{lazy:t,lazyArgs:e})}function Ce(n,e,t){let r=n.length-e.length;if(r===0)return n(...e);if(r===1)return Gu(n,e,t);throw new Error("Wrong number of arguments")}function fo(...n){return ei(Cp,n)}function Cp(){let n=new Set;return e=>n.has(e)?an:(n.add(e),{done:!1,hasNext:!0,next:e})}var Ku={asc:(n,e)=>n>e,desc:(n,e)=>n<e};function Ju(n,e){let[t,...r]=e;if(!Op(t)){let s=po(...r);return n(t,s)}let i=po(t,...r);return s=>n(s,i)}function po(n,e,...t){let r=typeof n=="function"?n:n[0],i=typeof n=="function"?"asc":n[1],{[i]:s}=Ku,o=e===void 0?void 0:po(e,...t);return(c,a)=>{let u=r(c),d=r(a);return s(u,d)?1:s(d,u)?-1:o?.(c,a)??0}}function Op(n){if(Yu(n))return!0;if(typeof n!="object"||!Array.isArray(n))return!1;let[e,t,...r]=n;return Yu(e)&&typeof t=="string"&&t in Ku&&r.length===0}var Yu=n=>typeof n=="function"&&n.length===1;function Pp(...n){return Ju(kp,n)}var kp=(n,e)=>[...n].sort(e);function Dp(...n){return Ce(Np,n)}function Np(n){return[...n].reverse()}function ti(...n){return Ce(Mp,n,Lp)}var Mp=(n,e)=>n.map(e),Lp=n=>(e,t,r)=>({done:!1,hasNext:!0,next:n(e,t,r)});function xp(...n){return Ce(Up,n)}function Up(n,e){let t={};for(let[r,i]of Object.entries(n)){let s=e(i,r,n);t[r]=s}return t}function Fp(...n){return Ce(Zn,n)}function Zn(n,e){if(n===e||Object.is(n,e))return!0;if(typeof n!="object"||typeof e!="object"||n===null||e===null||Object.getPrototypeOf(n)!==Object.getPrototypeOf(e))return!1;if(Array.isArray(n))return jp(n,e);if(n instanceof Map)return $p(n,e);if(n instanceof Set)return Vp(n,e);if(n instanceof Date)return n.getTime()===e.getTime();if(n instanceof RegExp)return n.toString()===e.toString();if(Object.keys(n).length!==Object.keys(e).length)return!1;for(let[t,r]of Object.entries(n))if(!(t in e)||!Zn(r,e[t]))return!1;return!0}function jp(n,e){if(n.length!==e.length)return!1;for(let[t,r]of n.entries())if(!Zn(r,e[t]))return!1;return!0}function $p(n,e){if(n.size!==e.size)return!1;for(let[t,r]of n.entries())if(!e.has(t)||!Zn(r,e.get(t)))return!1;return!0}function Vp(n,e){if(n.size!==e.size)return!1;let t=[...e];for(let r of n){let i=!1;for(let[s,o]of t.entries())if(Zn(r,o)){i=!0,t.splice(s,1);break}if(!i)return!1}return!0}function zp(...n){return Ce(Bp,n)}var Bp=(n,e)=>{let t={};for(let[r,i]of n.entries()){let s=e(i,r,n);if(s!==void 0){let{[s]:o}=t;o===void 0&&(o=[],t[s]=o),o.push(i)}}return t};function Wp(...n){return Ce(Object.entries,n)}var Zu=(()=>{class n{constructor(){this.http=f(Ct),this.apiUrl=f(Lt),this.exercises=Be([]),this.types=os(()=>Mt(this.exercises(),ti(t=>t.type??"No type"),fo())),this.muscleGroups=os(()=>Mt(this.exercises(),ti(t=>t.muscleGroup??"No muscle group"),Xn(t=>t)))}fetchExercises(){return l(this,null,function*(){yield Va(this.getExercises())})}getExercises(){return this.http.get(`${this.apiUrl}/exercises`).pipe(D(t=>t.data),W(t=>this.exercises.set(t)))}createExercise(t){return this.http.post(`${this.apiUrl}/exercises`,t)}updateExercise(t){return this.http.put(`${this.apiUrl}/exercises/${t.id}`,t)}deleteExercise(t){return this.http.delete(`${this.apiUrl}/exercises/${t}`)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ni=(()=>{class n{constructor(){this.toasts=Be([])}show(t){this.toasts.update(r=>Xn([...r,t],i=>i.text))}ok(t){this.show({text:t,type:"success"})}error(t){this.show({text:t??"An error ocurred",type:"danger"})}remove(t){this.toasts.update(r=>r.filter(i=>i!==t))}clear(){this.toasts.set([])}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var el=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},Hp=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],o=n[t++],c=n[t++],a=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(a&1023))}else{let s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},tl={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,c=o?n[i+1]:0,a=i+2<n.length,u=a?n[i+2]:0,d=s>>2,h=(s&3)<<4|c>>4,y=(c&15)<<2|u>>6,p=u&63;a||(p=64,o||(y=64)),r.push(t[d],t[h],t[y],t[p])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(el(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Hp(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;let u=i<n.length?t[n.charAt(i)]:64;++i;let h=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||c==null||u==null||h==null)throw new go;let y=s<<2|c>>4;if(r.push(y),u!==64){let p=c<<4&240|u>>2;if(r.push(p),h!==64){let E=u<<6&192|h;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},go=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},qp=function(n){let e=el(n);return tl.encodeByteArray(e,!0)},yo=function(n){return qp(n).replace(/\./g,"")},_o=function(n){try{return tl.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Gp(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Yp=()=>Gp().__FIREBASE_DEFAULTS__,Kp=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Jp=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&_o(n[1]);return e&&JSON.parse(e)},Io=()=>{try{return Yp()||Kp()||Jp()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},nl=n=>{var e,t;return(t=(e=Io())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]};var wo=()=>{var n;return(n=Io())===null||n===void 0?void 0:n.config},Eo=n=>{var e;return(e=Io())===null||e===void 0?void 0:e[`_${n}`]};var ri=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function he(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rl(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(he())}function il(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function sl(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ol(){let n=he();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function al(){try{return typeof indexedDB=="object"}catch{return!1}}function cl(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var Xp="FirebaseError",Ue=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Xp,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,st.prototype.create)}},st=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Zp(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new Ue(i,c,r)}};function Zp(n,e){return n.replace(Qp,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Qp=/\{\$([^}]+)}/g;function ul(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function cn(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],o=e[i];if(Qu(s)&&Qu(o)){if(!cn(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function Qu(n){return n!==null&&typeof n=="object"}function un(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ll(n,e){let t=new vo(n,e);return t.subscribe.bind(t)}var vo=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");em(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=mo),i.error===void 0&&(i.error=mo),i.complete===void 0&&(i.complete=mo);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function em(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function mo(){}var Sw=4*60*60*1e3;function It(n){return n&&n._delegate?n._delegate:n}var Ge=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var xt="[DEFAULT]";var bo=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new ri;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nm(e))try{this.getOrInitializeService({instanceIdentifier:xt})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=xt){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return l(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=xt){return this.instances.has(e)}getOptions(e=xt){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,o]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:tm(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xt){return this.component?this.component.multipleInstances?e:xt:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function tm(n){return n===xt?void 0:n}function nm(n){return n.instantiationMode==="EAGER"}var ii=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new bo(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var rm=[],z=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(z||{}),im={debug:z.DEBUG,verbose:z.VERBOSE,info:z.INFO,warn:z.WARN,error:z.ERROR,silent:z.SILENT},sm=z.INFO,om={[z.DEBUG]:"log",[z.VERBOSE]:"log",[z.INFO]:"info",[z.WARN]:"warn",[z.ERROR]:"error"},am=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=om[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ln=class{constructor(e){this.name=e,this._logLevel=sm,this._logHandler=am,this._userLogHandler=null,rm.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in z))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?im[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,z.DEBUG,...e),this._logHandler(this,z.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,z.VERBOSE,...e),this._logHandler(this,z.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,z.INFO,...e),this._logHandler(this,z.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,z.WARN,...e),this._logHandler(this,z.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,z.ERROR,...e),this._logHandler(this,z.ERROR,...e)}};var cm=(n,e)=>e.some(t=>n instanceof t),dl,hl;function um(){return dl||(dl=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lm(){return hl||(hl=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var fl=new WeakMap,So=new WeakMap,pl=new WeakMap,To=new WeakMap,Ao=new WeakMap;function dm(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Ye(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&fl.set(t,n)}).catch(()=>{}),Ao.set(e,n),e}function hm(n){if(So.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});So.set(n,e)}var Ro={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return So.get(n);if(e==="objectStoreNames")return n.objectStoreNames||pl.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ye(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function ml(n){Ro=n(Ro)}function fm(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(si(this),e,...t);return pl.set(r,e.sort?e.sort():[e]),Ye(r)}:lm().includes(n)?function(...e){return n.apply(si(this),e),Ye(fl.get(this))}:function(...e){return Ye(n.apply(si(this),e))}}function pm(n){return typeof n=="function"?fm(n):(n instanceof IDBTransaction&&hm(n),cm(n,um())?new Proxy(n,Ro):n)}function Ye(n){if(n instanceof IDBRequest)return dm(n);if(To.has(n))return To.get(n);let e=pm(n);return e!==n&&(To.set(n,e),Ao.set(e,n)),e}var si=n=>Ao.get(n);function vl(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(n,e),c=Ye(o);return r&&o.addEventListener("upgradeneeded",a=>{r(Ye(o.result),a.oldVersion,a.newVersion,Ye(o.transaction),a)}),t&&o.addEventListener("blocked",a=>t(a.oldVersion,a.newVersion,a)),c.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),c}var mm=["get","getKey","getAll","getAllKeys","count"],gm=["put","add","delete","clear"],Co=new Map;function gl(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Co.get(e))return Co.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=gm.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||mm.includes(t)))return;let s=function(o,...c){return l(this,null,function*(){let a=this.transaction(o,i?"readwrite":"readonly"),u=a.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[t](...c),i&&a.done]))[0]})};return Co.set(e,s),s}ml(n=>ce(b({},n),{get:(e,t,r)=>gl(e,t)||n.get(e,t,r),has:(e,t)=>!!gl(e,t)||n.has(e,t)}));var Po=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(vm(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function vm(n){let e=n.getComponent();return e?.type==="VERSION"}var ko="@firebase/app",yl="0.10.10";var ot=new ln("@firebase/app"),ym="@firebase/app-compat",_m="@firebase/analytics-compat",Im="@firebase/analytics",wm="@firebase/app-check-compat",Em="@firebase/app-check",bm="@firebase/auth",Tm="@firebase/auth-compat",Sm="@firebase/database",Rm="@firebase/database-compat",Am="@firebase/functions",Cm="@firebase/functions-compat",Om="@firebase/installations",Pm="@firebase/installations-compat",km="@firebase/messaging",Dm="@firebase/messaging-compat",Nm="@firebase/performance",Mm="@firebase/performance-compat",Lm="@firebase/remote-config",xm="@firebase/remote-config-compat",Um="@firebase/storage",Fm="@firebase/storage-compat",jm="@firebase/firestore",$m="@firebase/vertexai-preview",Vm="@firebase/firestore-compat",zm="firebase",Bm="10.13.1";var Do="[DEFAULT]",Wm={[ko]:"fire-core",[ym]:"fire-core-compat",[Im]:"fire-analytics",[_m]:"fire-analytics-compat",[Em]:"fire-app-check",[wm]:"fire-app-check-compat",[bm]:"fire-auth",[Tm]:"fire-auth-compat",[Sm]:"fire-rtdb",[Rm]:"fire-rtdb-compat",[Am]:"fire-fn",[Cm]:"fire-fn-compat",[Om]:"fire-iid",[Pm]:"fire-iid-compat",[km]:"fire-fcm",[Dm]:"fire-fcm-compat",[Nm]:"fire-perf",[Mm]:"fire-perf-compat",[Lm]:"fire-rc",[xm]:"fire-rc-compat",[Um]:"fire-gcs",[Fm]:"fire-gcs-compat",[jm]:"fire-fst",[Vm]:"fire-fst-compat",[$m]:"fire-vertex","fire-js":"fire-js",[zm]:"fire-js-all"};var Qn=new Map,Hm=new Map,No=new Map;function _l(n,e){try{n.container.addComponent(e)}catch(t){ot.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function dn(n){let e=n.name;if(No.has(e))return ot.debug(`There were multiple attempts to register component ${e}.`),!1;No.set(e,n);for(let t of Qn.values())_l(t,n);for(let t of Hm.values())_l(t,n);return!0}function Uo(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ke(n){return n.settings!==void 0}var qm={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wt=new st("app","Firebase",qm);var Mo=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ge("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wt.create("app-deleted",{appName:this._name})}};var hn=Bm;function Fo(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Do,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw wt.create("bad-app-name",{appName:String(i)});if(t||(t=wo()),!t)throw wt.create("no-options");let s=Qn.get(i);if(s){if(cn(t,s.options)&&cn(r,s.config))return s;throw wt.create("duplicate-app",{appName:i})}let o=new ii(i);for(let a of No.values())o.addComponent(a);let c=new Mo(t,r,o);return Qn.set(i,c),c}function oi(n=Do){let e=Qn.get(n);if(!e&&n===Do&&wo())return Fo();if(!e)throw wt.create("no-app",{appName:n});return e}function ai(){return Array.from(Qn.values())}function ye(n,e,t){var r;let i=(r=Wm[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ot.warn(c.join(" "));return}dn(new Ge(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Gm="firebase-heartbeat-database",Ym=1,er="firebase-heartbeat-store",Oo=null;function bl(){return Oo||(Oo=vl(Gm,Ym,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(er)}catch(t){console.warn(t)}}}}).catch(n=>{throw wt.create("idb-open",{originalErrorMessage:n.message})})),Oo}function Km(n){return l(this,null,function*(){try{let t=(yield bl()).transaction(er),r=yield t.objectStore(er).get(Tl(n));return yield t.done,r}catch(e){if(e instanceof Ue)ot.warn(e.message);else{let t=wt.create("idb-get",{originalErrorMessage:e?.message});ot.warn(t.message)}}})}function Il(n,e){return l(this,null,function*(){try{let r=(yield bl()).transaction(er,"readwrite");yield r.objectStore(er).put(e,Tl(n)),yield r.done}catch(t){if(t instanceof Ue)ot.warn(t.message);else{let r=wt.create("idb-set",{originalErrorMessage:t?.message});ot.warn(r.message)}}})}function Tl(n){return`${n.name}!${n.options.appId}`}var Jm=1024,Xm=30*24*60*60*1e3,Lo=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new xo(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return l(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=wl();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let c=new Date(o.date).valueOf();return Date.now()-c<=Xm}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ot.warn(r)}})}getHeartbeatsHeader(){return l(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=wl(),{heartbeatsToSend:r,unsentEntries:i}=Zm(this._heartbeatsCache.heartbeats),s=yo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return ot.warn(t),""}})}};function wl(){return new Date().toISOString().substring(0,10)}function Zm(n,e=Jm){let t=[],r=n.slice();for(let i of n){let s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),El(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),El(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var xo=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return l(this,null,function*(){return al()?cl().then(()=>!0).catch(()=>!1):!1})}read(){return l(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield Km(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return l(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Il(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return l(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Il(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function El(n){return yo(JSON.stringify({version:2,heartbeats:n})).length}function Qm(n){dn(new Ge("platform-logger",e=>new Po(e),"PRIVATE")),dn(new Ge("heartbeat",e=>new Lo(e),"PRIVATE")),ye(ko,yl,n),ye(ko,yl,"esm2017"),ye("fire-js","")}Qm("");var eg="firebase",tg="10.13.1";ye(eg,tg,"app");var tr=new Ir("ANGULARFIRE2_VERSION");function Sl(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var $o=(n,e)=>{let t=e?[e]:ai(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},ci=class{constructor(){return $o(ng)}},ng="app-check";function fn(){}var ui=class{zone;delegate;constructor(e,t=Fa){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,t,r)}},jo=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",fn,{},fn,fn)),t.pipe(W({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},li=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new ui(Zone.current)),this.insideAngular=t.run(()=>new ui(Zone.current,Ua)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(x(ae))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function di(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function rg(n){return di().ngZone.runOutsideAngular(()=>n())}function Ut(n){return di().ngZone.run(()=>n())}function ig(n){return sg(di())(n)}function sg(n){return function(t){return t=t.lift(new jo(n.ngZone)),t.pipe(ji(n.outsideAngular),Fi(n.insideAngular))}}var og=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Ut(()=>n.apply(void 0,r))},nr=(n,e)=>function(){let t,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(t||=Ut(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",fn,{},fn,fn))),r[s]=og(r[s],t));let i=rg(()=>n.apply(this,r));if(!e)if(i instanceof zt){let s=di();return i.pipe(ji(s.outsideAngular),Fi(s.insideAngular))}else return Ut(()=>i);return i instanceof zt?i.pipe(ig):i instanceof Promise?Ut(()=>new Promise((s,o)=>i.then(c=>Ut(()=>s(c)),c=>Ut(()=>o(c))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:Ut(()=>i)};var Ft=class{constructor(e){return e}},rr=class{constructor(){return ai()}};function ag(n){return n&&n.length===1?n[0]:new Ft(oi())}var Vo=new U("angularfire2._apps"),cg={provide:Ft,useFactory:ag,deps:[[new et,Vo]]},ug={provide:rr,deps:[[new et,Vo]]};function lg(n){return(e,t)=>{let r=t.get(Re);ye("angularfire",tr.full,"core"),ye("angularfire",tr.full,"app"),ye("angular",Ec.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Ft(i)}}function Rl(n,...e){return we([cg,ug,{provide:Vo,useFactory:lg(n),multi:!0,deps:[ae,mt,li,...e]}])}var Al=nr(Fo,!0);function zl(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Bl=zl,Wl=new st("auth","Firebase",zl());var vi=new ln("@firebase/auth");function dg(n,...e){vi.logLevel<=z.WARN&&vi.warn(`Auth (${hn}): ${n}`,...e)}function fi(n,...e){vi.logLevel<=z.ERROR&&vi.error(`Auth (${hn}): ${n}`,...e)}function Xe(n,...e){throw sa(n,...e)}function Fe(n,...e){return sa(n,...e)}function ia(n,e,t){let r=Object.assign(Object.assign({},Bl()),{[e]:t});return new st("auth","Firebase",r).create(e,{appName:n.name})}function jt(n){return ia(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hg(n,e,t){let r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Xe(n,"argument-error"),ia(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function sa(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Wl.create(n,...e)}function C(n,e,...t){if(!n)throw sa(e,...t)}function at(n){let e="INTERNAL ASSERTION FAILED: "+n;throw fi(e),new Error(e)}function ut(n,e){n||at(e)}function Wo(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function fg(){return Cl()==="http:"||Cl()==="https:"}function Cl(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function pg(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fg()||il()||"connection"in navigator)?navigator.onLine:!0}function mg(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var $t=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,ut(t>e,"Short delay should be less than long delay!"),this.isMobile=rl()||sl()}get(){return pg()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function oa(n,e){ut(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var yi=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;at("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;at("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;at("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var gg={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var vg=new $t(3e4,6e4);function aa(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function gn(s,o,c,a){return l(this,arguments,function*(n,e,t,r,i={}){return Hl(n,i,()=>l(this,null,function*(){let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});let h=un(Object.assign({key:n.config.apiKey},d)).slice(1),y=yield n._getAdditionalHeaders();return y["Content-Type"]="application/json",n.languageCode&&(y["X-Firebase-Locale"]=n.languageCode),yi.fetch()(ql(n,n.config.apiHost,t,h),Object.assign({method:e,headers:y,referrerPolicy:"no-referrer"},u))}))})}function Hl(n,e,t){return l(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},gg),e);try{let i=new Ho(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw hi(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let c=s.ok?o.errorMessage:o.error.message,[a,u]=c.split(" : ");if(a==="FEDERATED_USER_ID_ALREADY_LINKED")throw hi(n,"credential-already-in-use",o);if(a==="EMAIL_EXISTS")throw hi(n,"email-already-in-use",o);if(a==="USER_DISABLED")throw hi(n,"user-disabled",o);let d=r[a]||a.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw ia(n,d,u);Xe(n,d)}}catch(i){if(i instanceof Ue)throw i;Xe(n,"network-request-failed",{message:String(i)})}})}function yg(s,o,c,a){return l(this,arguments,function*(n,e,t,r,i={}){let u=yield gn(n,e,t,r,i);return"mfaPendingCredential"in u&&Xe(n,"multi-factor-auth-required",{_serverResponse:u}),u})}function ql(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?oa(n.config,i):`${n.config.apiScheme}://${i}`}var Ho=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Fe(this.auth,"network-request-failed")),vg.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function hi(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Fe(n,e,r);return i.customData._tokenResponse=t,i}function _g(n,e){return l(this,null,function*(){return gn(n,"POST","/v1/accounts:delete",e)})}function Gl(n,e){return l(this,null,function*(){return gn(n,"POST","/v1/accounts:lookup",e)})}function ir(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function ca(n,e=!1){return l(this,null,function*(){let t=It(n),r=yield t.getIdToken(e),i=ua(r);C(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:ir(zo(i.auth_time)),issuedAtTime:ir(zo(i.iat)),expirationTime:ir(zo(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function zo(n){return Number(n)*1e3}function ua(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return fi("JWT malformed, contained fewer than 3 sections"),null;try{let i=_o(t);return i?JSON.parse(i):(fi("Failed to decode base64 JWT payload"),null)}catch(i){return fi("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Ol(n){let e=ua(n);return C(e,"internal-error"),C(typeof e.exp<"u","internal-error"),C(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function or(n,e,t=!1){return l(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Ue&&Ig(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function Ig({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var qo=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>l(this,null,function*(){yield this.iteration()}),t)}iteration(){return l(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ar=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ir(this.lastLoginAt),this.creationTime=ir(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function _i(n){return l(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield or(n,Gl(t,{idToken:r}));C(i?.users.length,t,"internal-error");let s=i.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Yl(s.providerUserInfo):[],c=wg(n.providerData,o),a=n.isAnonymous,u=!(n.email&&s.passwordHash)&&!c?.length,d=a?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new ar(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(n,h)})}function la(n){return l(this,null,function*(){let e=It(n);yield _i(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function wg(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Yl(n){return n.map(e=>{var{providerId:t}=e,r=hr(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Eg(n,e){return l(this,null,function*(){let t=yield Hl(n,{},()=>l(this,null,function*(){let r=un({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=ql(n,i,"/v1/token",`key=${s}`),c=yield n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",yi.fetch()(o,{method:"POST",headers:c,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function bg(n,e){return l(this,null,function*(){return gn(n,"POST","/v2/accounts:revokeToken",aa(n,e))})}var sr=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){C(e.idToken,"internal-error"),C(typeof e.idToken<"u","internal-error"),C(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ol(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){C(e.length!==0,"internal-error");let t=Ol(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return l(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(C(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return l(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield Eg(e,t);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new n;return r&&(C(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(C(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(C(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return at("not implemented")}};function Et(n,e){C(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var mn=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=hr(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ar(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return l(this,null,function*(){let t=yield or(this,this.stsTokenManager.getToken(this.auth,e));return C(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return ca(this,e)}reload(){return la(this)}_assign(e){this!==e&&(C(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){C(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return l(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield _i(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return l(this,null,function*(){if(Ke(this.auth.app))return Promise.reject(jt(this.auth));let e=yield this.getIdToken();return yield or(this,_g(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,c,a,u,d;let h=(r=t.displayName)!==null&&r!==void 0?r:void 0,y=(i=t.email)!==null&&i!==void 0?i:void 0,p=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,E=(o=t.photoURL)!==null&&o!==void 0?o:void 0,I=(c=t.tenantId)!==null&&c!==void 0?c:void 0,_=(a=t._redirectEventId)!==null&&a!==void 0?a:void 0,F=(u=t.createdAt)!==null&&u!==void 0?u:void 0,G=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:N,emailVerified:q,isAnonymous:Y,providerData:K,stsTokenManager:ne}=t;C(N&&ne,e,"internal-error");let V=sr.fromJSON(this.name,ne);C(typeof N=="string",e,"internal-error"),Et(h,e.name),Et(y,e.name),C(typeof q=="boolean",e,"internal-error"),C(typeof Y=="boolean",e,"internal-error"),Et(p,e.name),Et(E,e.name),Et(I,e.name),Et(_,e.name),Et(F,e.name),Et(G,e.name);let P=new n({uid:N,auth:e,email:y,emailVerified:q,displayName:h,isAnonymous:Y,photoURL:E,phoneNumber:p,tenantId:I,stsTokenManager:V,createdAt:F,lastLoginAt:G});return K&&Array.isArray(K)&&(P.providerData=K.map(re=>Object.assign({},re))),_&&(P._redirectEventId=_),P}static _fromIdTokenResponse(e,t,r=!1){return l(this,null,function*(){let i=new sr;i.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield _i(s),s})}static _fromGetAccountInfoResponse(e,t,r){return l(this,null,function*(){let i=t.users[0];C(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?Yl(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,c=new sr;c.updateFromIdToken(r);let a=new n({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new ar(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(a,u),a})}};var Pl=new Map;function ct(n){ut(n instanceof Function,"Expected a class definition");let e=Pl.get(n);return e?(ut(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Pl.set(n,e),e)}var Tg=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return l(this,null,function*(){return!0})}_set(t,r){return l(this,null,function*(){this.storage[t]=r})}_get(t){return l(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return l(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Go=Tg;function pi(n,e,t){return`firebase:${n}:${e}:${t}`}var Ii=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=pi(this.userKey,i.apiKey,s),this.fullPersistenceKey=pi("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return l(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?mn._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return l(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return l(this,null,function*(){if(!t.length)return new n(ct(Go),e,r);let i=(yield Promise.all(t.map(u=>l(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||ct(Go),o=pi(r,e.config.apiKey,e.name),c=null;for(let u of t)try{let d=yield u._get(o);if(d){let h=mn._fromJSON(e,d);u!==s&&(c=h),s=u;break}}catch{}let a=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!a.length?new n(s,e,r):(s=a[0],c&&(yield s._set(o,c.toJSON())),yield Promise.all(t.map(u=>l(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new n(s,e,r))})}};function kl(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Zl(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Kl(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ed(e))return"Blackberry";if(td(e))return"Webos";if(Jl(e))return"Safari";if((e.includes("chrome/")||Xl(e))&&!e.includes("edge/"))return"Chrome";if(Ql(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function Kl(n=he()){return/firefox\//i.test(n)}function Jl(n=he()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Xl(n=he()){return/crios\//i.test(n)}function Zl(n=he()){return/iemobile/i.test(n)}function Ql(n=he()){return/android/i.test(n)}function ed(n=he()){return/blackberry/i.test(n)}function td(n=he()){return/webos/i.test(n)}function da(n=he()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Sg(n=he()){var e;return da(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Rg(){return ol()&&document.documentMode===10}function nd(n=he()){return da(n)||Ql(n)||td(n)||ed(n)||/windows phone/i.test(n)||Zl(n)}function rd(n,e=[]){let t;switch(n){case"Browser":t=kl(he());break;case"Worker":t=`${kl(he())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${hn}/${r}`}var Yo=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=s=>new Promise((o,c)=>{try{let a=e(s);o(a)}catch(a){c(a)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return l(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Ag(t){return l(this,arguments,function*(n,e={}){return gn(n,"GET","/v2/passwordPolicy",aa(n,e))})}var Cg=6,Ko=class{constructor(e){var t,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:Cg,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,c;let a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=(t=a.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),a.isValid&&(a.isValid=(r=a.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),a.isValid&&(a.isValid=(i=a.containsLowercaseLetter)!==null&&i!==void 0?i:!0),a.isValid&&(a.isValid=(s=a.containsUppercaseLetter)!==null&&s!==void 0?s:!0),a.isValid&&(a.isValid=(o=a.containsNumericCharacter)!==null&&o!==void 0?o:!0),a.isValid&&(a.isValid=(c=a.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),a}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Jo=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wi(this),this.idTokenSubscription=new wi(this),this.beforeStateQueue=new Yo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Wl,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ct(t)),this._initializationPromise=this.queue(()=>l(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Ii.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return l(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return l(this,null,function*(){try{let t=yield Gl(this,{idToken:e}),r=yield mn._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return l(this,null,function*(){var t;if(Ke(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i?._redirectEventId,a=yield this.tryRedirectSignIn(e);(!o||o===c)&&a?.user&&(i=a.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return C(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return l(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return l(this,null,function*(){try{yield _i(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=mg()}_delete(){return l(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return l(this,null,function*(){if(Ke(this.app))return Promise.reject(jt(this));let t=e?It(e):null;return t&&C(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return l(this,null,function*(){if(!this._deleted)return e&&C(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>l(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return l(this,null,function*(){return Ke(this.app)?Promise.reject(jt(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Ke(this.app)?Promise.reject(jt(this)):this.queue(()=>l(this,null,function*(){yield this.assertedPersistence.setPersistence(ct(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return l(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return l(this,null,function*(){let e=yield Ag(this),t=new Ko(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new st("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return l(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield bg(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return l(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return l(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&ct(e)||this._popupRedirectResolver;C(t,this,"argument-error"),this.redirectPersistenceManager=yield Ii.create(this,[ct(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return l(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>l(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return l(this,null,function*(){if(e===this.currentUser)return this.queue(()=>l(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(C(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let a=e.addObserver(t,r,i);return()=>{o=!0,a()}}else{let a=e.addObserver(t);return()=>{o=!0,a()}}}directlySetCurrentUser(e){return l(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return C(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rd(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return l(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return l(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&dg(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Oi(n){return It(n)}var wi=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=ll(t=>this.observer=t)}get next(){return C(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var ha={loadJS(){return l(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Og(n){ha=n}function Pg(n){return ha.loadJS(n)}function kg(){return ha.gapiScript}function id(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function fa(n,e){let t=Uo(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),s=t.getOptions();if(cn(s,e??{}))return i;Xe(i,"already-initialized")}return t.initialize({options:e})}function Dg(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ct);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function pa(n,e,t){let r=Oi(n);C(r._canInitEmulator,r,"emulator-config-failed"),C(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,s=sd(e),{host:o,port:c}=Ng(e),a=c===null?"":`:${c}`;r.config.emulator={url:`${s}//${o}${a}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Mg()}function sd(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Ng(n){let e=sd(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:Dl(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:Dl(o)}}}function Dl(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function Mg(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var cr=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return at("not implemented")}_getIdTokenResponse(e){return at("not implemented")}_linkToIdToken(e,t){return at("not implemented")}_getReauthenticationResolver(e){return at("not implemented")}};function pn(n,e){return l(this,null,function*(){return yg(n,"POST","/v1/accounts:signInWithIdp",aa(n,e))})}var Lg="http://localhost",Ei=class n extends cr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Xe("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=hr(t,["providerId","signInMethod"]);if(!r||!i)return null;let o=new n(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){let t=this.buildRequest();return pn(e,t)}_linkToIdToken(e,t){let r=this.buildRequest();return r.idToken=t,pn(e,r)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,pn(e,t)}buildRequest(){let e={requestUri:Lg,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=un(t)}return e}};var ur=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var bi=class extends ur{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Pi=(()=>{class n extends bi{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return Ei._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthIdToken:r,oauthAccessToken:i}=t;if(!r&&!i)return null;try{return n.credential(r,i)}catch{return null}}}n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com";return n})();var lr=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return l(this,null,function*(){let s=yield mn._fromIdTokenResponse(e,r,i),o=Nl(r);return new n({user:s,providerId:o,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return l(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=Nl(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function Nl(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var Xo=class n extends Ue{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function od(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Xo._fromErrorAndOperation(n,s,e,r):s})}function xg(n,e,t=!1){return l(this,null,function*(){let r=yield or(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return lr._forOperation(n,"link",r)})}function Ug(n,e,t=!1){return l(this,null,function*(){let{auth:r}=n;if(Ke(r.app))return Promise.reject(jt(r));let i="reauthenticate";try{let s=yield or(n,od(r,i,e,n),t);C(s.idToken,r,"internal-error");let o=ua(s.idToken);C(o,r,"internal-error");let{sub:c}=o;return C(n.uid===c,r,"user-mismatch"),lr._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Xe(r,"user-mismatch"),s}})}function Fg(n,e,t=!1){return l(this,null,function*(){if(Ke(n.app))return Promise.reject(jt(n));let r="signIn",i=yield od(n,r,e),s=yield lr._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})}function ma(n,e,t,r){return It(n).onIdTokenChanged(e,t,r)}function ga(n,e,t){return It(n).beforeAuthStateChanged(e,t)}function va(n){return It(n).signOut()}var Ti="__sak";var Si=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ti,"1"),this.storage.removeItem(Ti),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var jg=1e3,$g=10,Vg=(()=>{class n extends Si{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nd(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((c,a,u)=>{this.notifyListeners(c,u)});return}let i=t.key;r?this.detachListener():this.stopPolling();let s=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);Rg()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,$g):s()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},jg)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return l(this,null,function*(){yield bt(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return l(this,null,function*(){let r=yield bt(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return l(this,null,function*(){yield bt(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),ad=Vg;var zg=(()=>{class n extends Si{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),ya=zg;function Bg(n){return Promise.all(n.map(e=>l(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var Wg=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return l(this,null,function*(){let r=t,{eventId:i,eventType:s,data:o}=r.data,c=this.handlersMap[s];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let a=Array.from(c).map(d=>l(this,null,function*(){return d(r.origin,o)})),u=yield Bg(a);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function _a(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var Zo=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return l(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((c,a)=>{let u=_a("",20);i.port1.start();let d=setTimeout(()=>{a(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){let y=h;if(y.data.eventId===u)switch(y.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(y.data.response);break;default:clearTimeout(d),clearTimeout(s),a(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function Je(){return window}function Hg(n){Je().location.href=n}function cd(){return typeof Je().WorkerGlobalScope<"u"&&typeof Je().importScripts=="function"}function qg(){return l(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function Gg(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Yg(){return cd()?self:null}var ud="firebaseLocalStorageDb",Kg=1,Ri="firebaseLocalStorage",ld="fbase_key",Vt=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function ki(n,e){return n.transaction([Ri],e?"readwrite":"readonly").objectStore(Ri)}function Jg(){let n=indexedDB.deleteDatabase(ud);return new Vt(n).toPromise()}function Qo(){let n=indexedDB.open(ud,Kg);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Ri,{keyPath:ld})}catch(i){t(i)}}),n.addEventListener("success",()=>l(this,null,function*(){let r=n.result;r.objectStoreNames.contains(Ri)?e(r):(r.close(),yield Jg(),e(yield Qo()))}))})}function Ml(n,e,t){return l(this,null,function*(){let r=ki(n,!0).put({[ld]:e,value:t});return new Vt(r).toPromise()})}function Xg(n,e){return l(this,null,function*(){let t=ki(n,!1).get(e),r=yield new Vt(t).toPromise();return r===void 0?null:r.value})}function Ll(n,e){let t=ki(n,!0).delete(e);return new Vt(t).toPromise()}var Zg=800,Qg=3,ev=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return l(this,null,function*(){return this.db?this.db:(this.db=yield Qo(),this.db)})}_withRetries(t){return l(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>Qg)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return l(this,null,function*(){return cd()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return l(this,null,function*(){this.receiver=Wg._getInstance(Yg()),this.receiver._subscribe("keyChanged",(t,r)=>l(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>l(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return l(this,null,function*(){var t,r;if(this.activeServiceWorker=yield qg(),!this.activeServiceWorker)return;this.sender=new Zo(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return l(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||Gg()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return l(this,null,function*(){try{if(!indexedDB)return!1;let t=yield Qo();return yield Ml(t,Ti,"1"),yield Ll(t,Ti),!0}catch{}return!1})}_withPendingWrite(t){return l(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return l(this,null,function*(){return this._withPendingWrite(()=>l(this,null,function*(){return yield this._withRetries(i=>Ml(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return l(this,null,function*(){let r=yield this._withRetries(i=>Xg(i,t));return this.localCache[t]=r,r})}_remove(t){return l(this,null,function*(){return this._withPendingWrite(()=>l(this,null,function*(){return yield this._withRetries(r=>Ll(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return l(this,null,function*(){let t=yield this._withRetries(s=>{let o=ki(s,!1).getAll();return new Vt(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:s,value:o}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>l(this,null,function*(){return this._poll()}),Zg)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),dd=ev;var IE=id("rcb"),wE=new $t(3e4,6e4);function hd(n,e){return e?ct(e):(C(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var dr=class extends cr{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return pn(e,this._buildIdpRequest())}_linkToIdToken(e,t){return pn(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return pn(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function tv(n){return Fg(n.auth,new dr(n),n.bypassAuthState)}function nv(n){let{auth:e,user:t}=n;return C(t,e,"internal-error"),Ug(t,new dr(n),n.bypassAuthState)}function rv(n){return l(this,null,function*(){let{auth:e,user:t}=n;return C(t,e,"internal-error"),xg(t,new dr(n),n.bypassAuthState)})}var Ai=class{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>l(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return l(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:c}=e;if(o){this.reject(o);return}let a={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(a))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tv;case"linkViaPopup":case"linkViaRedirect":return rv;case"reauthViaPopup":case"reauthViaRedirect":return nv;default:Xe(this.auth,"internal-error")}}resolve(e){ut(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ut(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var iv=new $t(2e3,1e4);function Di(n,e,t){return l(this,null,function*(){if(Ke(n.app))return Promise.reject(Fe(n,"operation-not-supported-in-this-environment"));let r=Oi(n);hg(n,e,ur);let i=hd(r,t);return new sv(r,"signInViaPopup",e,i).executeNotNull()})}var sv=(()=>{class n extends Ai{constructor(t,r,i,s,o){super(t,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){return l(this,null,function*(){let t=yield this.execute();return C(t,this.auth,"internal-error"),t})}onExecution(){return l(this,null,function*(){ut(this.filter.length===1,"Popup operations only handle one event");let t=_a();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Fe(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Fe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){let t=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fe(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,iv.get())};t()}}n.currentPopupAction=null;return n})(),ov="pendingRedirect",mi=new Map,ea=class n extends Ai{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return l(this,null,function*(){let e=mi.get(this.auth._key());if(!e){try{let r=(yield av(this.resolver,this.auth))?yield bt(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}mi.set(this.auth._key(),e)}return this.bypassAuthState||mi.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return l(this,null,function*(){if(e.type==="signInViaRedirect")return bt(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,bt(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return l(this,null,function*(){})}cleanUp(){}};function av(n,e){return l(this,null,function*(){let t=lv(e),r=uv(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function cv(n,e){mi.set(n._key(),e)}function uv(n){return ct(n._redirectPersistence)}function lv(n){return pi(ov,n.config.apiKey,n.name)}function dv(n,e,t=!1){return l(this,null,function*(){if(Ke(n.app))return Promise.reject(jt(n));let r=Oi(n),i=hd(r,e),o=yield new ea(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var hv=10*60*1e3,ta=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fv(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!fd(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Fe(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hv&&this.cachedEventUids.clear(),this.cachedEventUids.has(xl(e))}saveEventToCache(e){this.cachedEventUids.add(xl(e)),this.lastProcessedEventTime=Date.now()}};function xl(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function fd({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function fv(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fd(n);default:return!1}}function pv(t){return l(this,arguments,function*(n,e={}){return gn(n,"GET","/v1/projects",e)})}var mv=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gv=/^https?/;function vv(n){return l(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield pv(n);for(let t of e)try{if(yv(t))return}catch{}Xe(n,"unauthorized-domain")})}function yv(n){let e=Wo(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!gv.test(t))return!1;if(mv.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var _v=new $t(3e4,6e4);function Ul(){let n=Je().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Iv(n){return new Promise((e,t)=>{var r,i,s;function o(){Ul(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ul(),t(Fe(n,"network-request-failed"))},timeout:_v.get()})}if(!((i=(r=Je().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Je().gapi)===null||s===void 0)&&s.load)o();else{let c=id("iframefcb");return Je()[c]=()=>{gapi.load?o():t(Fe(n,"network-request-failed"))},Pg(`${kg()}?onload=${c}`).catch(a=>t(a))}}).catch(e=>{throw gi=null,e})}var gi=null;function wv(n){return gi=gi||Iv(n),gi}var Ev=new $t(5e3,15e3),bv="__/auth/iframe",Tv="emulator/auth/iframe",Sv={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Rv=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Av(n){let e=n.config;C(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?oa(e,Tv):`https://${n.config.authDomain}/${bv}`,r={apiKey:e.apiKey,appName:n.name,v:hn},i=Rv.get(n.config.apiHost);i&&(r.eid=i);let s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${un(r).slice(1)}`}function Cv(n){return l(this,null,function*(){let e=yield wv(n),t=Je().gapi;return C(t,n,"internal-error"),e.open({where:document.body,url:Av(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Sv,dontclear:!0},r=>new Promise((i,s)=>l(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Fe(n,"network-request-failed"),c=Je().setTimeout(()=>{s(o)},Ev.get());function a(){Je().clearTimeout(c),i(r)}r.ping(a).then(a,()=>{s(o)})})))})}var Ov={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Pv=500,kv=600,Dv="_blank",Nv="http://localhost",Ci=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Mv(n,e,t,r=Pv,i=kv){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",a=Object.assign(Object.assign({},Ov),{width:r.toString(),height:i.toString(),top:s,left:o}),u=he().toLowerCase();t&&(c=Xl(u)?Dv:t),Kl(u)&&(e=e||Nv,a.scrollbars="yes");let d=Object.entries(a).reduce((y,[p,E])=>`${y}${p}=${E},`,"");if(Sg(u)&&c!=="_self")return Lv(e||"",c),new Ci(null);let h=window.open(e||"",c,d);C(h,n,"popup-blocked");try{h.focus()}catch{}return new Ci(h)}function Lv(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var xv="__/auth/handler",Uv="emulator/auth/handler",Fv=encodeURIComponent("fac");function Fl(n,e,t,r,i,s){return l(this,null,function*(){C(n.config.authDomain,n,"auth-domain-config-required"),C(n.config.apiKey,n,"invalid-api-key");let o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:hn,eventId:i};if(e instanceof ur){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",ul(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,h]of Object.entries(s||{}))o[d]=h}if(e instanceof bi){let d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}n.tenantId&&(o.tid=n.tenantId);let c=o;for(let d of Object.keys(c))c[d]===void 0&&delete c[d];let a=yield n._getAppCheckToken(),u=a?`#${Fv}=${encodeURIComponent(a)}`:"";return`${jv(n)}?${un(c).slice(1)}${u}`})}function jv({config:n}){return n.emulator?oa(n,Uv):`https://${n.authDomain}/${xv}`}var Bo="webStorageSupport",na=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ya,this._completeRedirectFn=dv,this._overrideRedirectResult=cv}_openPopup(e,t,r,i){return l(this,null,function*(){var s;ut((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield Fl(e,t,r,Wo(),i);return Mv(e,o,_a())})}_openRedirect(e,t,r,i){return l(this,null,function*(){yield this._originValidation(e);let s=yield Fl(e,t,r,Wo(),i);return Hg(s),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(ut(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return l(this,null,function*(){let t=yield Cv(e),r=new ta(e);return t.register("authEvent",i=>(C(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Bo,{type:Bo},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Bo];o!==void 0&&t(!!o),Xe(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=vv(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return nd()||Jl()||da()}},pd=na;var jl="@firebase/auth",$l="1.7.8";var ra=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return l(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){C(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function $v(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Vv(n){dn(new Ge("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;C(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let a={apiKey:o,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rd(n)},u=new Jo(r,i,s,a);return Dg(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),dn(new Ge("auth-internal",e=>{let t=Oi(e.getProvider("auth").getImmediate());return(r=>new ra(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ye(jl,$l,$v(n)),ye(jl,$l,"esm2017")}var zv=5*60,Bv=Eo("authIdTokenMaxAge")||zv,Vl=null,Wv=n=>e=>l(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Bv)return;let i=t?.token;Vl!==i&&(Vl=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Ia(n=oi()){let e=Uo(n,"auth");if(e.isInitialized())return e.getImmediate();let t=fa(n,{popupRedirectResolver:pd,persistence:[dd,ad,ya]}),r=Eo("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=Wv(s.toString());ga(t,o,()=>o(t.currentUser)),ma(t,c=>o(c))}}let i=nl("auth");return i&&pa(t,`http://${i}`),t}function Hv(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Og({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let s=Fe("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",Hv().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Vv("Browser");var md="auth",je=class{constructor(e){return e}},wa=class{constructor(){return $o(md)}};var Ea=new U("angularfire2.auth-instances");function Uy(n,e){let t=Sl(md,n,e);return t&&new je(t)}function Fy(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new je(r)}}var jy={provide:wa,deps:[[new et,Ea]]},$y={provide:je,useFactory:Uy,deps:[[new et,Ea],Ft]};function gd(n,...e){return ye("angularfire",tr.full,"auth"),we([$y,jy,{provide:Ea,useFactory:Fy(n),multi:!0,deps:[ae,mt,li,rr,[new et,ci],...e]}])}var vd=nr(Ia,!0);var yd=nr(va,!0);var vn="robertly-idtoken",yn=(()=>{class n{constructor(){this.http=f(Ct),this.apiUrl=f(Lt),this.auth=f(je),this.toastService=f(ni),this.isRefreshingToken=Be(!1),this.idToken=Be(null),this.idToken.set(localStorage.getItem(vn)??null)}signIn(t){return this.auth.currentUser?.getIdToken(!0),this.http.post(`${this.apiUrl}/auth/signin`,t,{responseType:"text"}).pipe(W(r=>{localStorage.setItem(vn,r),this.idToken.set(r)}))}signInWithGoogle(){return l(this,null,function*(){let t=new Pi;t.addScope("https://www.googleapis.com/auth/userinfo.email"),t.setCustomParameters({prompt:"select_account"}),this.auth.useDeviceLanguage();let r=yield Di(this.auth,t),i=Pi.credentialFromResult(r);if(i){let s=yield fr(this.http.post(`${this.apiUrl}/auth/signup/google`,{accessToken:i.accessToken},{responseType:"text"}));localStorage.setItem(vn,s),this.idToken.set(s),this.toastService.ok("Successfully signed in with Google")}})}signOut(){return l(this,null,function*(){try{yield yd(this.auth),this.toastService.ok("Successfully signed out"),localStorage.removeItem(vn),this.idToken.set(null)}catch(t){this.toastService.error(JSON.stringify(t))}})}tryRefreshToken(){return l(this,null,function*(){if(this.isRefreshingToken())return!1;let t=this.auth.currentUser;if(this.isRefreshingToken.set(!0),!t)return yield this.signOut(),!1;let r=yield t.getIdToken();return this.isRefreshingToken.set(!1),r?(localStorage.setItem(vn,r),this.idToken.set(r),!0):(localStorage.removeItem(vn),this.idToken.set(null),!1)})}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var _d=(()=>{class n{constructor(){this.http=f(Ct),this.apiUrl=f(Lt)}getUserByFirebaseUuid(t){return this.http.get(`${this.apiUrl}/users/firebase-uuid/${t}`)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Ni=(()=>{class n{constructor(){this.auth=f(je),this.usersService=f(_d),this.authApiService=f(yn),this.userUuid=Be(null),this.user=Be(null),this.auth.onAuthStateChanged(t=>{this.userUuid.set(t?.uid??null)}),Rc(()=>l(this,null,function*(){let t=this.authApiService.idToken();this.userUuid();let r=this.auth.currentUser;if(!r||!t){this.user.set(null);return}let i=yield fr(this.usersService.getUserByFirebaseUuid(r.uid));this.user.set({email:i.email,userId:i.userId,name:i.name,userFirebaseUuid:i.userFirebaseUuid,assignedUsers:i.assignedUsers})}))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Vy(n,e){if(n&1&&Q(0),n&2){let t,r=ue();gt(" Hello! ",(t=r.authService.user())==null?null:t.name," ")}}var Id=(()=>{class n{constructor(){this.authService=f(Ni),this.menuSidebarClicked=Qa(),this.isSpinning=!1}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ze({type:n,selectors:[["app-header"]],outputs:{menuSidebarClicked:"menuSidebarClicked"},decls:6,vars:1,consts:[[1,"navbar","fixed-top","px-1","z-3"],[1,"container-fluid","d-flex"],[2,"color","white","font-weight","bold","font-size","16px"],["type","button",1,"btn",2,"outline","none","border","none","padding","0"],[1,"fa","fa-bars",2,"font-size","22px","color","white",3,"click"]],template:function(r,i){r&1&&(M(0,"nav",0)(1,"div",1)(2,"div",2),Yt(3,Vy,1,1),L(),M(4,"button",3)(5,"i",4),Z("click",function(){return i.menuSidebarClicked.emit()}),L()()()()),r&2&&(B(3),Rt(i.authService.user()?3:-1))},dependencies:[Cr,Pr,Or,Ar],styles:["nav[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);border-bottom:1px solid rgba(255,255,255,.1)}"],changeDetection:0})}}return n})();var wd=()=>({exact:!0}),Ed=(()=>{class n{constructor(){this.router=f(qe),this.Paths=H}navigateToCreateLog(){this.router.navigate([H.LOGS,H.LOGS_CREATE])}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ze({type:n,selectors:[["app-footer"]],decls:31,vars:7,consts:[[1,"navbar","fixed-bottom","fw-bold"],[1,"container"],[1,"navbar-nav","flex-row","justify-content-center","w-100"],[1,"nav-item","w-100"],["routerLinkActive","active",1,"nav-link","text-center","d-flex","justify-content-center","align-items-center","flex-column",3,"routerLink","routerLinkActiveOptions"],[1,"fa","fa-home"],[1,"fa","fa-history"],[1,"d-flex","justify-content-center","align-items-center","add-button-container"],[1,"btn","btn-lg","btn-primary","d-flex","justify-content-center","align-items-center",3,"click"],[1,"fa","fa-plus"],["routerLinkActive","active",1,"nav-link","text-center","d-flex","justify-content-center","align-items-center","flex-column",3,"routerLink"],[1,"fa","fa-bar-chart"],["routerLinkActive","active",1,"nav-link","text-center","d-flex","justify-content-center","align-items-center","flex-column"],[1,"fa","fa-address-book-o"]],template:function(r,i){r&1&&(M(0,"nav",0)(1,"div",1)(2,"ul",2)(3,"li",3)(4,"a",4)(5,"div"),ge(6,"i",5),L(),M(7,"div"),Q(8,"Home"),L()()(),M(9,"li",3)(10,"a",4)(11,"div"),ge(12,"i",6),L(),M(13,"div"),Q(14,"Logs"),L()()(),M(15,"li",3)(16,"div",7)(17,"button",8),Z("click",function(){return i.navigateToCreateLog()}),ge(18,"i",9),L()()(),M(19,"li",3)(20,"a",10)(21,"div"),ge(22,"i",11),L(),M(23,"div"),Q(24,"Stats"),L()()(),M(25,"li",3)(26,"a",12)(27,"div"),ge(28,"i",13),L(),M(29,"div"),Q(30,"Friends"),L()()()()()()),r&2&&(B(4),pe("routerLink",i.Paths.HOME)("routerLinkActiveOptions",is(5,wd)),B(6),pe("routerLink",i.Paths.LOGS)("routerLinkActiveOptions",is(6,wd)),B(10),pe("routerLink",i.Paths.STATS))},dependencies:[sn,Wu],styles:["nav.navbar.fixed-bottom[_ngcontent-%COMP%]{padding-bottom:max(env(safe-area-inset-bottom),.8rem);background:#2a2f3c}nav.navbar.fixed-bottom[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{--bs-nav-link-padding-y: 0;--bs-nav-link-padding-x: 0}nav.navbar.fixed-bottom[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:11px;font-weight:400;color:#fff;opacity:.4}nav.navbar.fixed-bottom[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}nav.navbar.fixed-bottom[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{opacity:1;font-weight:500}.add-button-container[_ngcontent-%COMP%]{position:relative}.add-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;border-radius:100%;height:60px;width:60px;z-index:10;margin-top:-25px;border:6px solid #1d212a}"],changeDetection:0})}}return n})();var bd=(()=>{class n{constructor(){this.title="",this.subtitle="",this.body="",this.cancelText="Cancel",this.okType="primary",this.okText="Ok",this.modal=f(Mc)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ze({type:n,selectors:[["app-confirm-modal"]],inputs:{title:"title",subtitle:"subtitle",body:"body",cancelText:"cancelText",okType:"okType",okText:"okText"},decls:12,vars:8,consts:[[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button","aria-describedby","modal-title",1,"btn-close",3,"click"],[1,"modal-body"],[3,"innerHTML"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",3,"click"]],template:function(r,i){r&1&&(M(0,"div",0)(1,"h4",1),Q(2),L(),M(3,"button",2),Z("click",function(){return i.modal.dismiss("Cross click")}),L()(),M(4,"div",3),ge(5,"p",4)(6,"p",4),L(),M(7,"div",5)(8,"button",6),Z("click",function(){return i.modal.dismiss()}),Q(9),L(),M(10,"button",7),Z("click",function(){return i.modal.close()}),Q(11),L()()),r&2&&(B(2),gt(" ",i.title," "),B(3),pe("innerHTML",i.subtitle,Qi),B(),pe("innerHTML",i.body,Qi),B(3),gt(" ",i.cancelText," "),B(),hc("btn btn-",i.okType,""),B(),gt(" ",i.okText," "))},encapsulation:2,changeDetection:0})}}return n})();function zy(n,e){if(n&1){let t=At();M(0,"a",8),Z("click",function(){Ne(t);let i=ue().$implicit;return Me(i.dismiss())}),Q(1,"Sign In"),L(),M(2,"a",8),Z("click",function(){Ne(t);let i=ue().$implicit;return Me(i.dismiss())}),Q(3,"Sign Up"),L()}if(n&2){let t=ue(2);pe("routerLink",t.Paths.SIGN_IN),B(2),pe("routerLink",t.Paths.SIGN_UP)}}function By(n,e){if(n&1){let t=At();M(0,"button",9),Z("click",function(){Ne(t);let i=ue().$implicit;return ue().signOut(),Me(i.dismiss())}),Q(1," Sign Out "),L()}}function Wy(n,e){if(n&1){let t=At();M(0,"a",8),Z("click",function(){Ne(t);let i=ue().$implicit;return Me(i.dismiss())}),Q(1,"Exercises"),L(),M(2,"a",8),Z("click",function(){Ne(t);let i=ue().$implicit;return Me(i.dismiss())}),Q(3,"Food Tracker"),L(),M(4,"a",8),Z("click",function(){Ne(t);let i=ue().$implicit;return Me(i.dismiss())}),Q(5,"Developer"),L()}if(n&2){let t=ue(2);pe("routerLink",t.Paths.EXERCISES),B(2),pe("routerLink",t.Paths.FOODS),B(2),pe("routerLink",t.Paths.DEVELOPER)}}function Hy(n,e){if(n&1){let t=At();M(0,"div",4)(1,"button",5),Z("click",function(){let i=Ne(t).$implicit;return Me(i.dismiss("Cross click"))}),L()(),M(2,"div",6),Yt(3,zy,4,2)(4,By,2,0,"button",7)(5,Wy,6,3),L()}if(n&2){let t=ue();B(3),Rt(t.authService.user()?-1:3),B(),Rt(t.authService.user()?4:-1),B(),Rt(t.authService.user()?5:-1)}}function qy(n,e){if(n&1){let t=At();M(0,"ngb-toast",10),Z("hidden",function(){let i=Ne(t).$implicit,s=ue();return Me(s.toastService.remove(i))}),M(1,"ngb-alert",11),Z("closed",function(){let i=Ne(t).$implicit,s=ue();return Me(s.toastService.remove(i))}),Q(2),L()()}if(n&2){let t=e.$implicit;pe("autohide",!0)("delay",t.delay||3e3),B(),pe("type",t.type),B(),Ic(t.text)}}function Gy(n,e){if(n&1){let t=At();M(0,"app-header",12),Z("menuSidebarClicked",function(){Ne(t);let i=ue(),s=_c(1);return Me(i.openSidebar(s))}),L(),M(1,"div",13),ge(2,"router-outlet"),L(),ge(3,"app-footer")}}function Yy(n,e){if(n&1&&(M(0,"div",3)(1,"div",14)(2,"div",15),Q(3,"ROBERTLY"),L(),M(4,"div",16),ge(5,"div",17),L(),M(6,"div",18),Q(7),L()()()),n&2){let t=ue();B(5),dc("width",t.preloaderProgress,"%"),B(2),gt(" ",t.preloaderMessage," ")}}var Td=(()=>{class n{constructor(){this.toastService=f(ni),this.authApiService=f(yn),this.authService=f(Ni),this.exerciseApiService=f(Zu),this.serviceWorkerUpdates=f(hs),this.document=f(de),this.router=f(qe),this.offcanvasService=f(Uc),this.modalService=f(Lc),this.auth=f(je),this.Paths=H,this.hasAppLoaded=!0,this.preloaderMessage="Searching for updates...",this.preloaderProgress=10,this.serviceWorkerUpdates.unrecoverable.pipe(Dc()).subscribe(t=>console.error(t)),this.serviceWorkerUpdates.versionUpdates.subscribe({next:t=>{if(t.type==="VERSION_DETECTED")this.toastService.ok("New version found.");else if(t.type==="NO_NEW_VERSION_DETECTED")this.toastService.ok("Everything up to date.");else if(t.type==="VERSION_READY"){let r=this.modalService.open(bd,{centered:!0}),i=r.componentInstance;i.title="Version Update",i.subtitle="<strong>New version found</strong>",i.body="Do you want to install it now?",i.cancelText="Later",i.okText="Update",r.closed.pipe(fe(1)).subscribe(()=>{this.document.location.reload()})}else if(t.type==="VERSION_INSTALLATION_FAILED")this.toastService.error("Failed to install new version.");else throw new Error("Impossible state")}})}ngOnInit(){return l(this,null,function*(){yield this.auth.authStateReady(),yield this.authApiService.tryRefreshToken(),yield this.exerciseApiService.fetchExercises()})}navigateToCreateLog(){this.router.navigate([H.LOGS,H.LOGS_CREATE])}signOut(){return l(this,null,function*(){yield this.authApiService.signOut(),this.router.navigate([H.SIGN_IN])})}openSidebar(t){this.offcanvasService.open(t,{position:"end"})}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ze({type:n,selectors:[["app-root"]],decls:7,vars:1,consts:[["content",""],[1,"toast-container"],["data-bs-theme","light",3,"autohide","delay"],[1,"preloader"],[1,"offcanvas-header"],["tabindex","-1","type","button","aria-label","Close",1,"btn-close","btn-close-white",2,"margin-left","auto",3,"click"],[1,"offcanvas-body"],[1,"btn","btn-link",2,"cursor","pointer"],[3,"click","routerLink"],[1,"btn","btn-link",2,"cursor","pointer",3,"click"],["data-bs-theme","light",3,"hidden","autohide","delay"],[3,"closed","type"],[3,"menuSidebarClicked"],[1,"main"],[1,"preloader-content"],[1,"preloader-title"],[1,"progress"],[1,"progress-bar"],[1,"preloader-message"]],template:function(r,i){r&1&&(Yt(0,Hy,6,3,"ng-template",null,0,wc),M(2,"div",1),pc(3,qy,3,4,"ngb-toast",2,fc),L(),Yt(5,Gy,4,0)(6,Yy,8,3,"div",3)),r&2&&(B(3),mc(i.toastService.toasts()),B(2),Rt(i.hasAppLoaded?5:6))},dependencies:[Id,Ed,sn,oo,Cr,Pr,Or,xc,Ar,Nc],styles:["button[_ngcontent-%COMP%]:has(.fa.fa-plus){border-radius:100%;position:fixed;right:25px;bottom:75px;z-index:4}@supports (-webkit-hyphens: none){button[_ngcontent-%COMP%]:has(.fa.fa-plus){bottom:100px}}.offcanvas-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{box-shadow:none}.main[_ngcontent-%COMP%]{background-color:var(--bs-body-bg);height:100vh;padding-top:2rem}.toast-container[_ngcontent-%COMP%]{position:fixed;top:15px;left:50%;transform:translate(-50%);z-index:1200}.toast-container[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:last-child){--bs-toast-spacing: .5rem}.offcanvas-body[_ngcontent-%COMP%]{display:flex;flex-direction:column}.preloader[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:var(--bs-primary);height:100vh;width:100vw}.preloader[_ngcontent-%COMP%]   .preloader-content[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;margin-bottom:12rem;color:#fff}.preloader[_ngcontent-%COMP%]   .preloader-content[_ngcontent-%COMP%]   .preloader-title[_ngcontent-%COMP%]{font-weight:700;font-size:36px}.preloader[_ngcontent-%COMP%]   .preloader-content[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{width:180px;height:5px;border-radius:0;background-color:#ffffff4d}.preloader[_ngcontent-%COMP%]   .preloader-content[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{background-color:#fff}.preloader[_ngcontent-%COMP%]   .preloader-content[_ngcontent-%COMP%]   .preloader-message[_ngcontent-%COMP%]{padding-top:.3rem;font-size:14px}"]})}}return n})();var Ky="@",Jy=(()=>{class n{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=f(Za,{optional:!0});loadingSchedulerFn=f(Xy,{optional:!0});_engine;constructor(t,r,i,s,o){this.doc=t,this.delegate=r,this.zone=i,this.animationType=s,this.moduleImpl=o}ngOnDestroy(){this._engine?.flush()}loadImpl(){let t=()=>this.moduleImpl??import("./chunk-WHMXJQAL.js").then(i=>i),r;return this.loadingSchedulerFn?r=this.loadingSchedulerFn(t):r=t(),r.catch(i=>{throw new X(5300,!1)}).then(({\u0275createEngine:i,\u0275AnimationRendererFactory:s})=>{this._engine=i(this.animationType,this.doc);let o=new s(this.delegate,this._engine,this.zone);return this.delegate=o,o})}createRenderer(t,r){let i=this.delegate.createRenderer(t,r);if(i.\u0275type===0)return i;typeof i.throwOnSyntheticProps=="boolean"&&(i.throwOnSyntheticProps=!1);let s=new ba(i);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(o=>{let c=o.createRenderer(t,r);s.use(c),this.scheduler?.notify(11)}).catch(o=>{s.use(i)}),s}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static \u0275fac=function(r){es()};static \u0275prov=O({token:n,factory:n.\u0275fac})}return n})(),ba=class{delegate;replay=[];\u0275type=1;constructor(e){this.delegate=e}use(e){if(this.delegate=e,this.replay!==null){for(let t of this.replay)t(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,t){this.delegate.appendChild(e,t)}insertBefore(e,t,r,i){this.delegate.insertBefore(e,t,r,i)}removeChild(e,t,r){this.delegate.removeChild(e,t,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){this.shouldReplay(t)&&this.replay.push(i=>i.setProperty(e,t,r)),this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.shouldReplay(t)&&this.replay.push(i=>i.listen(e,t,r)),this.delegate.listen(e,t,r)}shouldReplay(e){return this.replay!==null&&e.startsWith(Ky)}},Xy=new U("");function Sd(n="animations"){return Zi("NgAsyncAnimations"),we([{provide:vr,useFactory:(e,t,r)=>new Jy(e,t,r,n),deps:[de,xr,ae]},{provide:rc,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Rd={apiUrl:"https://robertly.azurewebsites.net/api"};var Ad=(n,e)=>{let t=f(qe),r=f(yn),i=r.idToken();return i&&(n=n.clone({setHeaders:{Authorization:`Bearer ${i}`}})),e(n).pipe(ft(s=>{if(s instanceof We){if(s.status===On.Unauthorized)return oe(r.tryRefreshToken()).pipe(te(o=>{let c=o?H.HOME:H.SIGN_IN;return t.navigate([c],{onSameUrlNavigation:"reload"}),ke(()=>s)}));if(s.status===On.NotFound||s.status===On.Forbidden)return ke(()=>new Error("The resource does not exist or you do not have access."))}return ke(()=>s)}))};var Dd=In(Ra()),Nd=In(Cd()),Md=In(Od()),Ld=In(Pd()),jT=In(kd()),H={HOME:"home",LOGS:"logs",LOGS_EDIT:"edit",LOGS_CREATE:"create",LOGS_ID_PARAM:"id",STATS:"stats",EXERCISES:"exercises",SIGN_IN:"signin",SIGN_UP:"signup",DEVELOPER:"developer",FOODS:"foods"},Zy=[{path:H.EXERCISES,loadComponent:()=>import("./chunk-YJLL37WO.js").then(n=>n.ExercisesPageComponent)},{path:H.STATS,loadComponent:()=>import("./chunk-LSCMVOYT.js").then(n=>n.StatsPageComponent)},{path:H.SIGN_IN,loadComponent:()=>import("./chunk-K6HWZ6HF.js").then(n=>n.SignInComponent)},{path:H.HOME,pathMatch:"full",loadComponent:()=>import("./chunk-BBRUKUEN.js").then(n=>n.HomePageComponent)},{path:H.LOGS,pathMatch:"full",loadComponent:()=>import("./chunk-Y35POEF5.js").then(n=>n.ExerciseLogsPageComponent)},{path:`${H.LOGS}/${H.LOGS_EDIT}/:${H.LOGS_ID_PARAM}`,pathMatch:"full",loadComponent:()=>import("./chunk-MYCGUK4N.js").then(n=>n.EditExerciseLogPageComponent)},{path:`${H.LOGS}/${H.LOGS_CREATE}`,pathMatch:"full",loadComponent:()=>import("./chunk-MYCGUK4N.js").then(n=>n.EditExerciseLogPageComponent)},{path:H.DEVELOPER,pathMatch:"full",loadComponent:()=>import("./chunk-WKGDPNUJ.js").then(n=>n.DeveloperPageComponent)},{path:H.FOODS,pathMatch:"full",loadComponent:()=>import("./chunk-6SPBBHL6.js").then(n=>n.FoodsPageComponent)},{path:"",pathMatch:"full",redirectTo:H.HOME}],Lt=new U("API_URL"),Qy=new U("DAY_JS");au(Td,{providers:[Oc,Pc,bc(),Sd(),Xc(Zc([Ad])),Hu(Zy),$c("ngsw-worker.js",{enabled:!Tc()}),Rl(()=>Al({projectId:"gymtracker-b0b72",appId:"1:1063566206093:web:a3154a1ae143b91f05eec4",storageBucket:"gymtracker-b0b72.appspot.com",apiKey:"AIzaSyCA0ExS-7mRUULdk7CYFORL5zwYXd4lJ-E",authDomain:"auth.robertly.ar",messagingSenderId:"1063566206093"})),gd(()=>vd()),{provide:Lt,useValue:Rd.apiUrl},{provide:Qy,useFactory:()=>{let n=Dd.default;return n.extend(Nd.default),n.extend(Md.default),n.extend(Ld.default),n.locale("es-mx"),n}}]}).catch(n=>console.error(n));export{vt as a,Ct as b,Nt as c,qe as d,Mt as e,Pp as f,Dp as g,ti as h,xp as i,Fp as j,zp as k,Wp as l,Zu as m,ni as n,yn as o,Ni as p,bd as q,Ra as r,Cd as s,Od as t,Pd as u,kd as v,H as w,Lt as x,Qy as y};
