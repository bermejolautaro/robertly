import{H as Ya,I as er,J as Ja,K as Xa,L as Za,M as Qa,N as ec,O as tr,P as tc,Q as nc,a as Yt,aa as rc,ba as nr,ca as ic,da as sc,ea as oc,fa as rr,j as ja,k as Je,m as $a,n as Ui,o as Va,p as Ha,q as re,r as Wa,s as k,u as za,v as Ba,w as Ga,x as Fi,y as qa,z as Ka}from"./chunk-SWLBFI3M.js";import{a as Ni,b as xa,c as Ua,d as B,e as Mi,f as Yn,g as Jn,h as Xn,j as Zn,l as Fa,m as Li,n as xi,o as Qn}from"./chunk-C6LN7SP3.js";import{$ as la,$b as qt,A as fi,Aa as Ae,Ab as Y,B as oe,Ba as Re,C as mi,Ca as Ei,D as xn,Da as ga,Db as ne,E as ht,Ea as vt,F as ia,Fa as Oe,Fb as Ca,G as gi,Gb as M,Ha as de,Hb as C,I as pt,Ia as va,J as ft,Ja as bi,K as X,Ka as ya,Kb as Aa,La as ae,Lb as O,Ma as Ia,Mb as me,N as mt,Na as Ti,Nb as ke,O as Ce,P as sa,Pb as Ra,Q as vi,Qa as Bt,Qb as Oa,R as ee,Rb as Pa,S as oa,Sa as wa,Sb as ge,T as aa,Ta as Si,Tb as ka,U as yi,Ua as jn,Ub as Gt,Va as Ci,Vb as Da,W as gt,Wa as $n,X as Fe,Xa as _a,Xb as Wn,Y as Ii,Yb as zn,Z as ca,_ as ua,a as m,aa as da,ab as Ai,ac as Oi,b as x,bb as v,bc as Na,ca as ha,cb as he,cc as Kt,da as $,db as Vn,dc as Ma,e as Ke,ea as pa,ec as Pi,f as l,fa as D,fc as Bn,g as Xo,gc as Gn,h as Zo,hb as Pe,hc as ki,i as Wt,ia as U,ib as j,ic as Di,j as li,ja as E,jc as La,k as di,ka as je,kc as wt,l as Q,la as fa,lb as Ea,lc as qn,m as se,ma as wi,mb as ba,mc as Kn,n as Qo,na as N,nb as F,o as ea,oa as T,ob as Ri,p as Se,pa as h,q as Ln,qa as zt,r as hi,ra as fe,rb as Ta,s as pi,sa as $e,sb as te,t as q,ta as Un,tb as z,u as g,ub as Sa,v as Ye,va as Fn,vb as Hn,w as ta,wa as V,wb as yt,x as na,xa as H,xb as It,y as ra,ya as _i,yb as I,z as w,za as ma,zb as y}from"./chunk-L6N6VOQT.js";var Xt="Service workers are disabled or not supported by this browser";function Hl(t){return ht(()=>Ye(new Error(t)))}var _t=class{constructor(e){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=Hl(Xt);else{let r=gi(e,"controllerchange").pipe(w(()=>e.controller)),i=ht(()=>g(e.controller)),s=xn(i,r);this.worker=s.pipe(X(d=>!!d)),this.registration=this.worker.pipe($(()=>e.getRegistration()));let c=gi(e,"message").pipe(w(d=>d.data)).pipe(X(d=>d&&d.type)).pipe(ua());c.connect(),this.events=c}}postMessage(e,n){return this.worker.pipe(ee(1),D(r=>{r.postMessage(m({action:e},n))})).toPromise().then(()=>{})}postMessageWithOperation(e,n,r){let i=this.waitForOperationCompleted(r),s=this.postMessage(e,n);return Promise.all([s,i]).then(([,o])=>o)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(e){let n;return typeof e=="string"?n=r=>r.type===e:n=r=>e.includes(r.type),this.events.pipe(X(n))}nextEventOfType(e){return this.eventsOfType(e).pipe(ee(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(X(n=>n.nonce===e),ee(1),w(n=>{if(n.result!==void 0)return n.result;throw new Error(n.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},Wl=(()=>{let e=class e{get isEnabled(){return this.sw.isEnabled}constructor(r){if(this.sw=r,this.pushManager=null,this.subscriptionChanges=new Q,!r.isEnabled){this.messages=ft,this.notificationClicks=ft,this.subscription=ft;return}this.messages=this.sw.eventsOfType("PUSH").pipe(w(s=>s.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(w(s=>s.data)),this.pushManager=this.sw.registration.pipe(w(s=>s.pushManager));let i=this.pushManager.pipe($(s=>s.getSubscription()));this.subscription=pt(i,this.subscriptionChanges)}requestSubscription(r){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(Xt));let i={userVisibleOnly:!0},s=this.decodeBase64(r.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(s.length));for(let a=0;a<s.length;a++)o[a]=s.charCodeAt(a);return i.applicationServerKey=o,this.pushManager.pipe($(a=>a.subscribe(i)),ee(1)).toPromise().then(a=>(this.subscriptionChanges.next(a),a))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(Xt));let r=i=>{if(i===null)throw new Error("Not subscribed to push notifications.");return i.unsubscribe().then(s=>{if(!s)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(ee(1),$(r)).toPromise()}decodeBase64(r){return atob(r)}};e.\u0275fac=function(i){return new(i||e)(T(_t))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),ji=(()=>{let e=class e{get isEnabled(){return this.sw.isEnabled}constructor(r){if(this.sw=r,!r.isEnabled){this.versionUpdates=ft,this.unrecoverable=ft;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Xt));let r=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:r},r)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Xt));let r=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:r},r)}};e.\u0275fac=function(i){return new(i||e)(T(_t))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})();var ac=new N("NGSW_REGISTER_SCRIPT");function zl(t,e,n,r){return()=>{if(!(Li(r)&&"serviceWorker"in navigator&&n.enabled!==!1))return;navigator.serviceWorker.addEventListener("controllerchange",()=>{navigator.serviceWorker.controller!==null&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})});let i;if(typeof n.registrationStrategy=="function")i=n.registrationStrategy();else{let[o,...a]=(n.registrationStrategy||"registerWhenStable:30000").split(":");switch(o){case"registerImmediately":i=g(null);break;case"registerWithDelay":i=cc(+a[0]||0);break;case"registerWhenStable":i=a[0]?pt(uc(t),cc(+a[0])):uc(t);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${n.registrationStrategy}`)}}t.get(j).runOutsideAngular(()=>i.pipe(ee(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:n.scope}).catch(o=>console.error("Service worker registration failed with:",o))))}}function cc(t){return g(null).pipe(aa(t))}function uc(t){return t.get(wt).isStable.pipe(X(n=>n))}function Bl(t,e){return new _t(Li(e)&&t.enabled!==!1?navigator.serviceWorker:void 0)}var Jt=class{};function lc(t,e={}){return Re([Wl,ji,{provide:ac,useValue:t},{provide:Jt,useValue:e},{provide:_t,useFactory:Bl,deps:[Jt,ae]},{provide:Pi,useFactory:zl,deps:[de,ac,Jt,ae],multi:!0}])}var Qt=class{},sr=class{},Xe=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Vi=class{encodeKey(e){return dc(e)}encodeValue(e){return dc(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function Jl(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=n.get(o)||[];u.push(a),n.set(o,u)}),n}var Xl=/%(\d[a-f0-9])/gi,Zl={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function dc(t){return encodeURIComponent(t).replace(Xl,(e,n)=>Zl[n]??e)}function ir(t){return`${t}`}var Ve=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Vi,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Jl(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(ir):[ir(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(ir(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(ir(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Hi=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function Ql(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function hc(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function pc(t){return typeof Blob<"u"&&t instanceof Blob}function fc(t){return typeof FormData<"u"&&t instanceof FormData}function ed(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Zt=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(Ql(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers||(this.headers=new Xe),this.context||(this.context=new Hi),!this.params)this.params=new Ve,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),u=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+u+o}}}serializeBody(){return this.body===null?null:hc(this.body)||pc(this.body)||fc(this.body)||ed(this.body)||typeof this.body=="string"?this.body:this.body instanceof Ve?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||fc(this.body)?null:pc(this.body)?this.body.type||null:hc(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Ve?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.body!==void 0?e.body:this.body,o=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,a=e.reportProgress!==void 0?e.reportProgress:this.reportProgress,u=e.headers||this.headers,c=e.params||this.params,d=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((p,f)=>p.set(f,e.setHeaders[f]),u)),e.setParams&&(c=Object.keys(e.setParams).reduce((p,f)=>p.set(f,e.setParams[f]),c)),new t(n,r,s,{params:c,headers:u,context:d,reportProgress:a,responseType:i,withCredentials:o})}},Et=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Et||{}),en=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new Xe,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Wi=class t extends en{constructor(e={}){super(e),this.type=Et.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},or=class t extends en{constructor(e={}){super(e),this.type=Et.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},bt=class extends en{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}};function $i(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Ze=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,s={}){let o;if(r instanceof Zt)o=r;else{let c;s.headers instanceof Xe?c=s.headers:c=new Xe(s.headers);let d;s.params&&(s.params instanceof Ve?d=s.params:d=new Ve({fromObject:s.params})),o=new Zt(r,i,s.body!==void 0?s.body:null,{headers:c,context:s.context,params:d,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=g(o).pipe(Ce(c=>this.handler.handle(c)));if(r instanceof Zt||s.observe==="events")return a;let u=a.pipe(X(c=>c instanceof or));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return u.pipe(w(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return u.pipe(w(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return u.pipe(w(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return u.pipe(w(c=>c.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new Ve().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,$i(s,i))}post(r,i,s={}){return this.request("POST",r,$i(s,i))}put(r,i,s={}){return this.request("PUT",r,$i(s,i))}};e.\u0275fac=function(i){return new(i||e)(T(Qt))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})();function td(t,e){return e(t)}function nd(t,e,n){return(r,i)=>Oe(n,()=>e(r,s=>t(s,i)))}var zi=new N(""),rd=new N(""),id=new N("");var mc=(()=>{let e=class e extends Qt{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=h(Gn);let s=h(id,{optional:!0});this.backend=s??r}handle(r){if(this.chain===null){let s=Array.from(new Set([...this.injector.get(zi),...this.injector.get(rd,[])]));this.chain=s.reduceRight((o,a)=>nd(o,a,this.injector),td)}let i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(gt(()=>this.pendingTasks.remove(i)))}};e.\u0275fac=function(i){return new(i||e)(T(sr),T(vt))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})();var sd=/^\)\]\}',?\n/;function od(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var gc=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new U(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?q(i.\u0275loadImpl()):g(null)).pipe($(()=>new Wt(o=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((R,A)=>a.setRequestHeader(R,A.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let R=r.detectContentTypeHeader();R!==null&&a.setRequestHeader("Content-Type",R)}if(r.responseType){let R=r.responseType.toLowerCase();a.responseType=R!=="json"?R:"text"}let u=r.serializeBody(),c=null,d=()=>{if(c!==null)return c;let R=a.statusText||"OK",A=new Xe(a.getAllResponseHeaders()),le=od(a)||r.url;return c=new Wi({headers:A,status:a.status,statusText:R,url:le}),c},p=()=>{let{headers:R,status:A,statusText:le,url:lt}=d(),W=null;A!==204&&(W=typeof a.response>"u"?a.responseText:a.response),A===0&&(A=W?200:0);let dt=A>=200&&A<300;if(r.responseType==="json"&&typeof W=="string"){let Ht=W;W=W.replace(sd,"");try{W=W!==""?JSON.parse(W):null}catch(Mn){W=Ht,dt&&(dt=!1,W={error:Mn,text:W})}}dt?(o.next(new or({body:W,headers:R,status:A,statusText:le,url:lt||void 0})),o.complete()):o.error(new bt({error:W,headers:R,status:A,statusText:le,url:lt||void 0}))},f=R=>{let{url:A}=d(),le=new bt({error:R,status:a.status||0,statusText:a.statusText||"Unknown Error",url:A||void 0});o.error(le)},S=!1,K=R=>{S||(o.next(d()),S=!0);let A={type:Et.DownloadProgress,loaded:R.loaded};R.lengthComputable&&(A.total=R.total),r.responseType==="text"&&a.responseText&&(A.partialText=a.responseText),o.next(A)},ue=R=>{let A={type:Et.UploadProgress,loaded:R.loaded};R.lengthComputable&&(A.total=R.total),o.next(A)};return a.addEventListener("load",p),a.addEventListener("error",f),a.addEventListener("timeout",f),a.addEventListener("abort",f),r.reportProgress&&(a.addEventListener("progress",K),u!==null&&a.upload&&a.upload.addEventListener("progress",ue)),a.send(u),o.next({type:Et.Sent}),()=>{a.removeEventListener("error",f),a.removeEventListener("abort",f),a.removeEventListener("load",p),a.removeEventListener("timeout",f),r.reportProgress&&(a.removeEventListener("progress",K),u!==null&&a.upload&&a.upload.removeEventListener("progress",ue)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(T(Qn))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),vc=new N("XSRF_ENABLED"),ad="XSRF-TOKEN",cd=new N("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>ad}),ud="X-XSRF-TOKEN",ld=new N("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>ud}),ar=class{},dd=(()=>{let e=class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=Jn(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(T(B),T(ae),T(cd))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})();function hd(t,e){let n=t.url.toLowerCase();if(!h(vc)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=h(ar).getToken(),i=h(ld);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var yc=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(yc||{});function pd(t,e){return{\u0275kind:t,\u0275providers:e}}function Ic(...t){let e=[Ze,gc,mc,{provide:Qt,useExisting:mc},{provide:sr,useExisting:gc},{provide:zi,useValue:hd,multi:!0},{provide:vc,useValue:!0},{provide:ar,useClass:dd}];for(let n of t)e.push(...n.\u0275providers);return Re(e)}function wc(t){return pd(yc.Interceptors,t.map(e=>({provide:zi,useValue:e,multi:!0})))}var qi=class extends Ua{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Ki=class t extends qi{static makeCurrent(){xa(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=md();return n==null?null:gd(n)}resetBaseElement(){tn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Jn(document.cookie,e)}},tn=null;function md(){return tn=tn||document.querySelector("base"),tn?tn.getAttribute("href"):null}function gd(t){return new URL(t,"http://a").pathname}var vd=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),Yi=new N("EventManagerPlugins"),bc=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new U(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(T(Yi),T(j))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),cr=class{constructor(e){this._doc=e}},Bi="ng-app-id",Tc=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=xi(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Bi}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Bi),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Bi,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(T(B),T(bi),T(Ti,8),T(ae))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),Gi={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Xi=/%COMP%/g,Sc="%COMP%",yd=`_nghost-${Sc}`,Id=`_ngcontent-${Sc}`,wd=!0,_d=new N("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>wd});function Ed(t){return Id.replace(Xi,t)}function bd(t){return yd.replace(Xi,t)}function Cc(t,e){return e.map(n=>n.replace(Xi,t))}var ur=(()=>{let e=class e{constructor(r,i,s,o,a,u,c,d=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=u,this.ngZone=c,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=xi(u),this.defaultRenderer=new nn(r,a,c,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===zt.ShadowDom&&(i=x(m({},i),{encapsulation:zt.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof lr?s.applyToHost(r):s instanceof rn&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,u=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case zt.Emulated:o=new lr(c,d,i,this.appId,p,a,u,f);break;case zt.ShadowDom:return new Ji(c,d,r,i,a,u,this.nonce,f);default:o=new rn(c,d,i,p,a,u,f);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(T(bc),T(Tc),T(bi),T(_d),T(B),T(ae),T(j),T(Ti))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),nn=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Gi[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(_c(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(_c(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new U(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Gi[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Gi[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Bt.DashCase|Bt.Important)?e.style.setProperty(n,r,i&Bt.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Bt.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Ni().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function _c(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Ji=class extends nn{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=Cc(i.id,i.styles);for(let d of c){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=d,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},rn=class extends nn{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?Cc(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},lr=class extends rn{constructor(e,n,r,i,s,o,a,u){let c=i+"-"+r.id;super(e,n,r,s,o,a,u,c),this.contentAttr=Ed(c),this.hostAttr=bd(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},Td=(()=>{let e=class e extends cr{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(T(B))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),Ec=["alt","control","meta","shift"],Sd={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Cd={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Ad=(()=>{let e=class e extends cr{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ni().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),Ec.forEach(d=>{let p=i.indexOf(d);p>-1&&(i.splice(p,1),a+=d+".")}),a+=o,i.length!=0||o.length===0)return null;let c={};return c.domEventName=s,c.fullKey=a,c}static matchEventFullKeyCode(r,i){let s=Sd[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),Ec.forEach(a=>{if(a!==s){let u=Cd[a];u(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(T(B))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})();function Ac(t,e){return La(m({rootComponent:t},Rd(e)))}function Rd(t){return{appProviders:[...Nd,...t?.providers??[]],platformProviders:Dd}}function Od(){Ki.makeCurrent()}function Pd(){return new Ai}function kd(){return va(document),document}var Dd=[{provide:ae,useValue:Fa},{provide:ya,useValue:Od,multi:!0},{provide:B,useFactory:kd,deps:[]}];var Nd=[{provide:ga,useValue:"root"},{provide:Ai,useFactory:Pd,deps:[]},{provide:Yi,useClass:Td,multi:!0,deps:[B,j,ae]},{provide:Yi,useClass:Ad,multi:!0,deps:[B]},ur,Tc,bc,{provide:jn,useExisting:ur},{provide:Qn,useClass:vd,deps:[]},[]];function Md(){return new Zi(T(B))}var Zi=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(T(B))},e.\u0275prov=E({token:e,factory:function(i){let s=null;return i?s=new i:s=Md(),s},providedIn:"root"});let t=e;return t})();var b="primary",In=Symbol("RouteTitle"),rs=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Rt(t){return new rs(t)}function xd(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Ud(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ve(t[n],e[n]))return!1;return!0}function ve(t,e){let n=t?is(t):void 0,r=e?is(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Mc(t[i],e[i]))return!1;return!0}function is(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Mc(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function Lc(t){return t.length>0?t[t.length-1]:null}function ze(t){return ta(t)?t:Ca(t)?q(Promise.resolve(t)):g(t)}var Fd={exact:Uc,subset:Fc},xc={exact:jd,subset:$d,ignored:()=>!0};function Rc(t,e,n){return Fd[n.paths](t.root,e.root,n.matrixParams)&&xc[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function jd(t,e){return ve(t,e)}function Uc(t,e,n){if(!et(t.segments,e.segments)||!pr(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!Uc(t.children[r],e.children[r],n))return!1;return!0}function $d(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Mc(t[n],e[n]))}function Fc(t,e,n){return jc(t,e,e.segments,n)}function jc(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!et(i,n)||e.hasChildren()||!pr(i,n,r))}else if(t.segments.length===n.length){if(!et(t.segments,n)||!pr(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!Fc(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!et(t.segments,i)||!pr(t.segments,i,r)||!t.children[b]?!1:jc(t.children[b],e,s,r)}}function pr(t,e,n){return e.every((r,i)=>xc[n](t[i].parameters,r.parameters))}var He=class{constructor(e=new P([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Rt(this.queryParams)),this._queryParamMap}toString(){return Wd.serialize(this)}},P=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return fr(this)}},Qe=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Rt(this.parameters)),this._parameterMap}toString(){return Vc(this)}};function Vd(t,e){return et(t,e)&&t.every((n,r)=>ve(n.parameters,e[r].parameters))}function et(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function Hd(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===b&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==b&&(n=n.concat(e(i,r)))}),n}var Os=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>(()=>new gr)(),providedIn:"root"});let t=e;return t})(),gr=class{parse(e){let n=new os(e);return new He(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${sn(e.root,!0)}`,r=Gd(e.queryParams),i=typeof e.fragment=="string"?`#${zd(e.fragment)}`:"";return`${n}${r}${i}`}},Wd=new gr;function fr(t){return t.segments.map(e=>Vc(e)).join("/")}function sn(t,e){if(!t.hasChildren())return fr(t);if(e){let n=t.children[b]?sn(t.children[b],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==b&&r.push(`${i}:${sn(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=Hd(t,(r,i)=>i===b?[sn(t.children[b],!1)]:[`${i}:${sn(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[b]!=null?`${fr(t)}/${n[0]}`:`${fr(t)}/(${n.join("//")})`}}function $c(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function dr(t){return $c(t).replace(/%3B/gi,";")}function zd(t){return encodeURI(t)}function ss(t){return $c(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function mr(t){return decodeURIComponent(t)}function Oc(t){return mr(t.replace(/\+/g,"%20"))}function Vc(t){return`${ss(t.path)}${Bd(t.parameters)}`}function Bd(t){return Object.keys(t).map(e=>`;${ss(e)}=${ss(t[e])}`).join("")}function Gd(t){let e=Object.keys(t).map(n=>{let r=t[n];return Array.isArray(r)?r.map(i=>`${dr(n)}=${dr(i)}`).join("&"):`${dr(n)}=${dr(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}var qd=/^[^\/()?;#]+/;function Qi(t){let e=t.match(qd);return e?e[0]:""}var Kd=/^[^\/()?;=#]+/;function Yd(t){let e=t.match(Kd);return e?e[0]:""}var Jd=/^[^=?&#]+/;function Xd(t){let e=t.match(Jd);return e?e[0]:""}var Zd=/^[^&#]+/;function Qd(t){let e=t.match(Zd);return e?e[0]:""}var os=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new P([],{}):new P([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[b]=new P(e,n)),r}parseSegment(){let e=Qi(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new U(4009,!1);return this.capture(e),new Qe(mr(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=Yd(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Qi(this.remaining);i&&(r=i,this.capture(r))}e[mr(n)]=mr(r)}parseQueryParam(e){let n=Xd(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=Qd(this.remaining);o&&(r=o,this.capture(r))}let i=Oc(n),s=Oc(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Qi(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new U(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=b);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[b]:new P([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new U(4011,!1)}};function Hc(t){return t.segments.length>0?new P([],{[b]:t}):t}function Wc(t){let e={};for(let r of Object.keys(t.children)){let i=t.children[r],s=Wc(i);if(r===b&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new P(t.segments,e);return eh(n)}function eh(t){if(t.numberOfChildren===1&&t.children[b]){let e=t.children[b];return new P(t.segments.concat(e.segments),e.children)}return t}function Ot(t){return t instanceof He}function th(t,e,n=null,r=null){let i=zc(t);return Bc(i,e,n,r)}function zc(t){let e;function n(s){let o={};for(let u of s.children){let c=n(u);o[u.outlet]=c}let a=new P(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=Hc(r);return e??i}function Bc(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return es(i,i,i,n,r);let s=nh(e);if(s.toRoot())return es(i,i,new P([],{}),n,r);let o=rh(s,i,t),a=o.processChildren?cn(o.segmentGroup,o.index,s.commands):qc(o.segmentGroup,o.index,s.commands);return es(i,o.segmentGroup,a,n,r)}function vr(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function dn(t){return typeof t=="object"&&t!=null&&t.outlets}function es(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,c])=>{s[u]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let o;t===e?o=n:o=Gc(t,e,n);let a=Hc(Wc(o));return new He(a,s,i)}function Gc(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=Gc(s,e,n)}),new P(t.segments,r)}var yr=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&vr(r[0]))throw new U(4003,!1);let i=r.find(dn);if(i&&i!==Lc(r))throw new U(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function nh(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new yr(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,c])=>{a[u]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new yr(n,e,r)}var Ct=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function rh(t,e,n){if(t.isAbsolute)return new Ct(e,!0,0);if(!n)return new Ct(e,!1,NaN);if(n.parent===null)return new Ct(n,!0,0);let r=vr(t.commands[0])?0:1,i=n.segments.length-1+r;return ih(n,i,t.numberOfDoubleDots)}function ih(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new U(4005,!1);i=r.segments.length}return new Ct(r,!1,i-s)}function sh(t){return dn(t[0])?t[0].outlets:{[b]:t}}function qc(t,e,n){if(t||(t=new P([],{})),t.segments.length===0&&t.hasChildren())return cn(t,e,n);let r=oh(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new P(t.segments.slice(0,r.pathIndex),{});return s.children[b]=new P(t.segments.slice(r.pathIndex),t.children),cn(s,0,i)}else return r.match&&i.length===0?new P(t.segments,{}):r.match&&!t.hasChildren()?as(t,e,n):r.match?cn(t,0,i):as(t,e,n)}function cn(t,e,n){if(n.length===0)return new P(t.segments,{});{let r=sh(n),i={};if(Object.keys(r).some(s=>s!==b)&&t.children[b]&&t.numberOfChildren===1&&t.children[b].segments.length===0){let s=cn(t.children[b],e,n);return new P(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=qc(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new P(t.segments,i)}}function oh(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(dn(a))break;let u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&c&&typeof c=="object"&&c.outlets===void 0){if(!kc(u,c,o))return s;r+=2}else{if(!kc(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function as(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(dn(s)){let u=ah(s.outlets);return new P(r,u)}if(i===0&&vr(n[0])){let u=t.segments[e];r.push(new Qe(u.path,Pc(n[0]))),i++;continue}let o=dn(s)?s.outlets[b]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&vr(a)?(r.push(new Qe(o,Pc(a))),i+=2):(r.push(new Qe(o,{})),i++)}return new P(r,{})}function ah(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=as(new P([],{}),0,r))}),e}function Pc(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function kc(t,e,n){return t==n.path&&ve(e,n.parameters)}var un="imperative",ce=class{constructor(e,n){this.id=e,this.url=n}},hn=class extends ce{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},De=class extends ce{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},We=class extends ce{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},tt=class extends ce{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}},pn=class extends ce{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ir=class extends ce{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cs=class extends ce{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},us=class extends ce{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ls=class extends ce{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ds=class extends ce{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hs=class{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ps=class{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},fs=class{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ms=class{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gs=class{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vs=class{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var fn=class{},mn=class{constructor(e){this.url=e}};var ys=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Sr,this.attachRef=null}},Sr=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new ys,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),wr=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Is(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Is(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=ws(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return ws(e,this._root).map(n=>n.value)}};function Is(t,e){if(t===e.value)return e;for(let n of e.children){let r=Is(t,n);if(r)return r}return null}function ws(t,e){if(t===e.value)return[e];for(let n of e.children){let r=ws(t,n);if(r.length)return r.unshift(e),r}return[]}var ie=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function St(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var _r=class extends wr{constructor(e,n){super(e),this.snapshot=n,ks(this,e)}toString(){return this.snapshot.toString()}};function Kc(t,e){let n=ch(t,e),r=new se([new Qe("",{})]),i=new se({}),s=new se({}),o=new se({}),a=new se(""),u=new nt(r,i,o,a,s,b,e,n.root);return u.snapshot=n.root,new _r(new ie(u,[]),n)}function ch(t,e){let n={},r={},i={},s="",o=new gn([],n,i,s,r,b,e,null,{});return new Er("",new ie(o,[]))}var nt=class{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(w(c=>c[In]))??g(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(w(e=>Rt(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(w(e=>Rt(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ps(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:m(m({},e.params),t.params),data:m(m({},e.data),t.data),resolve:m(m(m(m({},t.data),e.data),i?.data),t._resolvedData)}:r={params:t.params,data:t.data,resolve:m(m({},t.data),t._resolvedData??{})},i&&Jc(i)&&(r.resolve[In]=i.title),r}var gn=class{get title(){return this.data?.[In]}constructor(e,n,r,i,s,o,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Rt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Rt(this.queryParams)),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Er=class extends wr{constructor(e,n){super(n),this.url=e,ks(this,n)}toString(){return Yc(this._root)}};function ks(t,e){e.value._routerState=t,e.children.forEach(n=>ks(t,n))}function Yc(t){let e=t.children.length>0?` { ${t.children.map(Yc).join(", ")} } `:"";return`${t.value}${e}`}function ts(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ve(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),ve(e.params,n.params)||t.paramsSubject.next(n.params),Ud(e.url,n.url)||t.urlSubject.next(n.url),ve(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function _s(t,e){let n=ve(t.params,e.params)&&Vd(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||_s(t.parent,e.parent))}function Jc(t){return typeof t.title=="string"||t.title===null}var Ds=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=b,this.activateEvents=new Pe,this.deactivateEvents=new Pe,this.attachEvents=new Pe,this.detachEvents=new Pe,this.parentContexts=h(Sr),this.location=h(Ta),this.changeDetector=h(Vn),this.environmentInjector=h(vt),this.inputBinder=h(Ns,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new U(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new U(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new U(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new U(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,c=new Es(r,u,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Un({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Fn]});let t=e;return t})(),Es=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===nt?this.route:e===Sr?this.childContexts:this.parent.get(e,n)}},Ns=new N("");function uh(t,e,n){let r=vn(t,e._root,n?n._root:void 0);return new _r(r,e)}function vn(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=lh(t,e,n);return new ie(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>vn(t,a)),o}}let r=dh(e.value),i=e.children.map(s=>vn(t,s));return new ie(r,i)}}function lh(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return vn(t,r,i);return vn(t,r)})}function dh(t){return new nt(new se(t.url),new se(t.params),new se(t.queryParams),new se(t.fragment),new se(t.data),t.outlet,t.component,t)}var Xc="ngNavigationCancelingError";function Zc(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Ot(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Qc(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function Qc(t,e,n){let r=new Error("NavigationCancelingError: "+(t||""));return r[Xc]=!0,r.cancellationCode=e,n&&(r.url=n),r}function hh(t){return eu(t)&&Ot(t.url)}function eu(t){return t&&t[Xc]}var ph=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=fe({type:e,selectors:[["ng-component"]],standalone:!0,features:[ge],decls:1,vars:0,template:function(i,s){i&1&&Y(0,"router-outlet")},dependencies:[Ds],encapsulation:2});let t=e;return t})();function fh(t,e){return t.providers&&!t._injector&&(t._injector=Pa(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Ms(t){let e=t.children&&t.children.map(Ms),n=e?x(m({},t),{children:e}):m({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==b&&(n.component=ph),n}function ye(t){return t.outlet||b}function mh(t,e){let n=t.filter(r=>ye(r)===e);return n.push(...t.filter(r=>ye(r)!==e)),n}function wn(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var gh=(t,e,n,r)=>w(i=>(new bs(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),bs=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),ts(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=St(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=St(e);for(let o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=St(e);for(let o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=St(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new vs(s.value.snapshot))}),e.children.length&&this.forwardEvent(new ms(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(ts(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),ts(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=wn(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},br=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},At=class{constructor(e,n){this.component=e,this.route=n}};function vh(t,e,n){let r=t._root,i=e?e._root:null;return on(r,i,n,[r.value])}function yh(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Dt(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!fa(t)?t:e.get(t):r}function on(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=St(e);return t.children.forEach(o=>{Ih(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>ln(a,n.getContext(o),i)),i}function Ih(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=wh(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new br(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?on(t,e,a?a.children:null,r,i):on(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new At(a.outlet.component,o))}else o&&ln(e,a,i),i.canActivateChecks.push(new br(r)),s.component?on(t,null,a?a.children:null,r,i):on(t,null,n,r,i);return i}function wh(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!et(t.url,e.url);case"pathParamsOrQueryParamsChange":return!et(t.url,e.url)||!ve(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_s(t,e)||!ve(t.queryParams,e.queryParams);case"paramsChange":default:return!_s(t,e)}}function ln(t,e,n){let r=St(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?ln(o,e.children.getContext(s),n):ln(o,null,n):ln(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new At(e.outlet.component,i)):n.canDeactivateChecks.push(new At(null,i)):n.canDeactivateChecks.push(new At(null,i))}function _n(t){return typeof t=="function"}function _h(t){return typeof t=="boolean"}function Eh(t){return t&&_n(t.canLoad)}function bh(t){return t&&_n(t.canActivate)}function Th(t){return t&&_n(t.canActivateChild)}function Sh(t){return t&&_n(t.canDeactivate)}function Ch(t){return t&&_n(t.canMatch)}function tu(t){return t instanceof na||t?.name==="EmptyError"}var hr=Symbol("INITIAL_VALUE");function Pt(){return $(t=>fi(t.map(e=>e.pipe(ee(1),ha(hr)))).pipe(w(e=>{for(let n of e)if(n!==!0){if(n===hr)return hr;if(n===!1||n instanceof He)return n}return!0}),X(e=>e!==hr),ee(1)))}function Ah(t,e){return oe(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?g(x(m({},n),{guardsResult:!0})):Rh(o,r,i,t).pipe(oe(a=>a&&_h(a)?Oh(r,s,t,e):g(a)),w(a=>x(m({},n),{guardsResult:a})))})}function Rh(t,e,n,r){return q(t).pipe(oe(i=>Mh(i.component,i.route,n,e,r)),Fe(i=>i!==!0,!0))}function Oh(t,e,n,r){return q(e).pipe(Ce(i=>xn(kh(i.route.parent,r),Ph(i.route,r),Nh(t,i.path,n),Dh(t,i.route,n))),Fe(i=>i!==!0,!0))}function Ph(t,e){return t!==null&&e&&e(new gs(t)),g(!0)}function kh(t,e){return t!==null&&e&&e(new fs(t)),g(!0)}function Dh(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return g(!0);let i=r.map(s=>ht(()=>{let o=wn(e)??n,a=Dt(s,o),u=bh(a)?a.canActivate(e,t):Oe(o,()=>a(e,t));return ze(u).pipe(Fe())}));return g(i).pipe(Pt())}function Nh(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>yh(o)).filter(o=>o!==null).map(o=>ht(()=>{let a=o.guards.map(u=>{let c=wn(o.node)??n,d=Dt(u,c),p=Th(d)?d.canActivateChild(r,t):Oe(c,()=>d(r,t));return ze(p).pipe(Fe())});return g(a).pipe(Pt())}));return g(s).pipe(Pt())}function Mh(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return g(!0);let o=s.map(a=>{let u=wn(e)??i,c=Dt(a,u),d=Sh(c)?c.canDeactivate(t,e,n,r):Oe(u,()=>c(t,e,n,r));return ze(d).pipe(Fe())});return g(o).pipe(Pt())}function Lh(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return g(!0);let s=i.map(o=>{let a=Dt(o,t),u=Eh(a)?a.canLoad(e,n):Oe(t,()=>a(e,n));return ze(u)});return g(s).pipe(Pt(),nu(r))}function nu(t){return Zo(D(e=>{if(Ot(e))throw Zc(t,e)}),w(e=>e===!0))}function xh(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return g(!0);let s=i.map(o=>{let a=Dt(o,t),u=Ch(a)?a.canMatch(e,n):Oe(t,()=>a(e,n));return ze(u)});return g(s).pipe(Pt(),nu(r))}var yn=class{constructor(e){this.segmentGroup=e||null}},Tr=class extends Error{constructor(e){super(),this.urlTree=e}};function Tt(t){return Ye(new yn(t))}function Uh(t){return Ye(new U(4e3,!1))}function Fh(t){return Ye(Qc(!1,3))}var Ts=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new U(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return g(r);if(i.numberOfChildren>1||!i.children[b])return Uh(e.redirectTo);i=i.children[b]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Tr(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new He(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new P(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new U(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Ss={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function jh(t,e,n,r,i){let s=Ls(t,e,n);return s.matched?(r=fh(e,r),xh(r,e,n,i).pipe(w(o=>o===!0?s:m({},Ss)))):g(s)}function Ls(t,e,n){if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?m({},Ss):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||xd)(n,t,e);if(!i)return m({},Ss);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?m(m({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Dc(t,e,n,r){return n.length>0&&Hh(t,n,r)?{segmentGroup:new P(e,Vh(r,new P(n,t.children))),slicedSegments:[]}:n.length===0&&Wh(t,n,r)?{segmentGroup:new P(t.segments,$h(t,e,n,r,t.children)),slicedSegments:n}:{segmentGroup:new P(t.segments,t.children),slicedSegments:n}}function $h(t,e,n,r,i){let s={};for(let o of r)if(Cr(t,n,o)&&!i[ye(o)]){let a=new P([],{});s[ye(o)]=a}return m(m({},i),s)}function Vh(t,e){let n={};n[b]=e;for(let r of t)if(r.path===""&&ye(r)!==b){let i=new P([],{});n[ye(r)]=i}return n}function Hh(t,e,n){return n.some(r=>Cr(t,e,r)&&ye(r)!==b)}function Wh(t,e,n){return n.some(r=>Cr(t,e,r))}function Cr(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function zh(t,e,n,r){return ye(t)!==r&&(r===b||!Cr(e,n,t))?!1:t.path==="**"?!0:Ls(e,t,n).matched}function Bh(t,e,n){return e.length===0&&!t.children[n]}var Cs=class{};function Gh(t,e,n,r,i,s,o="emptyOnly"){return new As(t,e,n,r,i,o,s).recognize()}var qh=31,As=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Ts(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new U(4002,!1)}recognize(){let e=Dc(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(w(n=>{let r=new gn([],Object.freeze({}),Object.freeze(m({},this.urlTree.queryParams)),this.urlTree.fragment,{},b,this.rootComponentType,null,{}),i=new ie(r,n),s=new Er("",i),o=th(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,b).pipe(mt(r=>{if(r instanceof Tr)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof yn?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Ps(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(w(s=>s instanceof ie?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return q(i).pipe(Ce(s=>{let o=r.children[s],a=mh(n,s);return this.processSegmentGroup(e,a,o,s)}),da((s,o)=>(s.push(...o),s)),vi(null),ca(),oe(s=>{if(s===null)return Tt(r);let o=ru(s);return Kh(o),g(o)}))}processSegment(e,n,r,i,s,o){return q(n).pipe(Ce(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(mt(u=>{if(u instanceof yn)return g(null);throw u}))),Fe(a=>!!a),mt(a=>{if(tu(a))return Bh(r,i,s)?g(new Cs):Tt(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return zh(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Tt(i):Tt(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:u,positionalParamSegments:c,remainingSegments:d}=i.path==="**"?Nc(s):Ls(n,i,s);if(!a)return Tt(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>qh&&(this.allowRedirects=!1));let p=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,c);return this.applyRedirects.lineralizeSegments(i,p).pipe(oe(f=>this.processSegment(e,r,n,f.concat(d),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o;return r.path==="**"?(o=g(Nc(i)),n.children={}):o=jh(n,r,i,e,this.urlSerializer),o.pipe($(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe($(({routes:u})=>{let c=r._loadedInjector??e,{consumedSegments:d,remainingSegments:p,parameters:f}=a,S=new gn(d,f,Object.freeze(m({},this.urlTree.queryParams)),this.urlTree.fragment,Jh(r),ye(r),r.component??r._loadedComponent??null,r,Xh(r)),{segmentGroup:K,slicedSegments:ue}=Dc(n,d,p,u);if(ue.length===0&&K.hasChildren())return this.processChildren(c,u,K).pipe(w(A=>A===null?null:new ie(S,A)));if(u.length===0&&ue.length===0)return g(new ie(S,[]));let R=ye(r)===s;return this.processSegment(c,u,K,ue,R?b:s,!0).pipe(w(A=>new ie(S,A instanceof ie?[A]:[])))}))):Tt(n)))}getChildConfig(e,n,r){return n.children?g({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?g({routes:n._loadedRoutes,injector:n._loadedInjector}):Lh(e,n,r,this.urlSerializer).pipe(oe(i=>i?this.configLoader.loadChildren(e,n).pipe(D(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):Fh(n))):g({routes:[],injector:e})}};function Kh(t){t.sort((e,n)=>e.value.outlet===b?-1:n.value.outlet===b?1:e.value.outlet.localeCompare(n.value.outlet))}function Yh(t){let e=t.value.routeConfig;return e&&e.path===""}function ru(t){let e=[],n=new Set;for(let r of t){if(!Yh(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=ru(r.children);e.push(new ie(r.value,i))}return e.filter(r=>!n.has(r))}function Jh(t){return t.data||{}}function Xh(t){return t.resolve||{}}function Nc(t){return{matched:!0,parameters:t.length>0?Lc(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Zh(t,e,n,r,i,s){return oe(o=>Gh(t,e,n,r,o.extractedUrl,i,s).pipe(w(({state:a,tree:u})=>x(m({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function Qh(t,e){return oe(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return g(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let c of iu(u))o.add(c);let a=0;return q(o).pipe(Ce(u=>s.has(u)?ep(u,r,t,e):(u.data=Ps(u,u.parent,t).resolve,g(void 0))),D(()=>a++),Ii(1),oe(u=>a===o.size?g(n):Se))})}function iu(t){let e=t.children.map(n=>iu(n)).flat();return[t,...e]}function ep(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!Jc(i)&&(s[In]=i.title),tp(s,t,e,r).pipe(w(o=>(t._resolvedData=o,t.data=Ps(t,t.parent,n).resolve,null)))}function tp(t,e,n,r){let i=is(t);if(i.length===0)return g({});let s={};return q(i).pipe(oe(o=>np(t[o],e,n,r).pipe(Fe(),D(a=>{s[o]=a}))),Ii(1),oa(s),mt(o=>tu(o)?Se:Ye(o)))}function np(t,e,n,r){let i=wn(e)??r,s=Dt(t,i),o=s.resolve?s.resolve(e,n):Oe(i,()=>s(e,n));return ze(o)}function ns(t){return $(e=>{let n=t(e);return n?q(n).pipe(w(()=>e)):g(e)})}var su=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===b);return i}getResolvedTitleForRoute(r){return r.data[In]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>(()=>h(rp))(),providedIn:"root"});let t=e;return t})(),rp=(()=>{let e=class e extends su{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(T(Zi))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xs=new N("",{providedIn:"root",factory:()=>({})}),Us=new N("ROUTES"),ip=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=h(ki)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return g(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=ze(r.loadComponent()).pipe(w(ou),D(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),gt(()=>{this.componentLoaders.delete(r)})),s=new di(i,()=>new Q).pipe(li());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return g({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=sp(i,this.compiler,r,this.onLoadEndListener).pipe(gt(()=>{this.childrenLoaders.delete(i)})),a=new di(o,()=>new Q).pipe(li());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function sp(t,e,n,r){return ze(t.loadChildren()).pipe(w(ou),oe(i=>i instanceof Oa||Array.isArray(i)?g(i):q(e.compileModuleAsync(i))),w(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Us,[],{optional:!0,self:!0}).flat()),{routes:o.map(Ms),injector:s}}))}function op(t){return t&&typeof t=="object"&&"default"in t}function ou(t){return op(t)?t.default:t}var Fs=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>(()=>h(ap))(),providedIn:"root"});let t=e;return t})(),ap=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),cp=new N("");var up=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Q,this.transitionAbortSubject=new Q,this.configLoader=h(ip),this.environmentInjector=h(vt),this.urlSerializer=h(Os),this.rootContexts=h(Sr),this.location=h(Yn),this.inputBindingEnabled=h(Ns,{optional:!0})!==null,this.titleStrategy=h(su),this.options=h(xs,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=h(Fs),this.createViewTransition=h(cp,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>g(void 0),this.rootComponentType=null;let r=s=>this.events.next(new hs(s)),i=s=>this.events.next(new ps(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(x(m(m({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new se({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:un,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(X(o=>o.id!==0),w(o=>x(m({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),$(o=>{this.currentTransition=o;let a=!1,u=!1;return g(o).pipe(D(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?x(m({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),$(c=>{let d=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=c.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!d&&p!=="reload"){let f="";return this.events.next(new tt(c.id,this.urlSerializer.serialize(c.rawUrl),f,0)),c.resolve(null),Se}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return g(c).pipe($(f=>{let S=this.transitions?.getValue();return this.events.next(new hn(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),S!==this.transitions?.getValue()?Se:Promise.resolve(f)}),Zh(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),D(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=x(m({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let S=new Ir(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(S)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:f,extractedUrl:S,source:K,restoredState:ue,extras:R}=c,A=new hn(f,this.urlSerializer.serialize(S),K,ue);this.events.next(A);let le=Kc(S,this.rootComponentType).snapshot;return this.currentTransition=o=x(m({},c),{targetSnapshot:le,urlAfterRedirects:S,extras:x(m({},R),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=S,g(o)}else{let f="";return this.events.next(new tt(c.id,this.urlSerializer.serialize(c.extractedUrl),f,1)),c.resolve(null),Se}}),D(c=>{let d=new cs(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),w(c=>(this.currentTransition=o=x(m({},c),{guards:vh(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),Ah(this.environmentInjector,c=>this.events.next(c)),D(c=>{if(o.guardsResult=c.guardsResult,Ot(c.guardsResult))throw Zc(this.urlSerializer,c.guardsResult);let d=new us(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(d)}),X(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",3),!1)),ns(c=>{if(c.guards.canActivateChecks.length)return g(c).pipe(D(d=>{let p=new ls(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}),$(d=>{let p=!1;return g(d).pipe(Qh(this.paramsInheritanceStrategy,this.environmentInjector),D({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(d,"",2)}}))}),D(d=>{let p=new ds(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}))}),ns(c=>{let d=p=>{let f=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(p.routeConfig).pipe(D(S=>{p.component=S}),w(()=>{})));for(let S of p.children)f.push(...d(S));return f};return fi(d(c.targetSnapshot.root)).pipe(vi(),ee(1))}),ns(()=>this.afterPreactivation()),$(()=>{let{currentSnapshot:c,targetSnapshot:d}=o,p=this.createViewTransition?.(this.environmentInjector,c.root,d.root);return p?q(p).pipe(w(()=>o)):g(o)}),w(c=>{let d=uh(r.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=x(m({},c),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),D(()=>{this.events.next(new fn)}),gh(this.rootContexts,r.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),ee(1),D({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new De(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),pa(this.transitionAbortSubject.pipe(D(c=>{throw c}))),gt(()=>{if(!a&&!u){let c="";this.cancelNavigationTransition(o,c,1)}this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),mt(c=>{if(u=!0,eu(c))this.events.next(new We(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),hh(c)?this.events.next(new mn(c.url)):o.resolve(!1);else{this.events.next(new pn(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(c))}catch(d){o.reject(d)}}return Se}))}))}cancelNavigationTransition(r,i,s){let o=new We(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function lp(t){return t!==un}var dp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>(()=>h(hp))(),providedIn:"root"});let t=e;return t})(),Rs=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},hp=(()=>{let e=class e extends Rs{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=_i(e)))(s||e)}})(),e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),au=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>(()=>h(pp))(),providedIn:"root"});let t=e;return t})(),pp=(()=>{let e=class e extends au{constructor(){super(...arguments),this.location=h(Yn),this.urlSerializer=h(Os),this.options=h(xs,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=h(Fs),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new He,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Kc(this.currentUrlTree,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof hn)this.stateMemento=this.createStateMemento();else if(r instanceof tt)this.rawUrlTree=i.initialUrl;else if(r instanceof Ir){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof fn?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof We&&(r.code===3||r.code===2)?this.restoreHistory(i):r instanceof pn?this.restoreHistory(i,!0):r instanceof De&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=m(m({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=m(m({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=_i(e)))(s||e)}})(),e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),an=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(an||{});function fp(t,e){t.events.pipe(X(n=>n instanceof De||n instanceof We||n instanceof pn||n instanceof tt),w(n=>n instanceof De||n instanceof tt?an.COMPLETE:(n instanceof We?n.code===0||n.code===1:!1)?an.REDIRECTING:an.FAILED),X(n=>n!==an.REDIRECTING),ee(1)).subscribe(()=>{e()})}function mp(t){throw t}var gp={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},vp={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ar=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=h(Bn),this.stateManager=h(au),this.options=h(xs,{optional:!0})||{},this.pendingTasks=h(Gn),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=h(up),this.urlSerializer=h(Os),this.location=h(Yn),this.urlHandlingStrategy=h(Fs),this._events=new Q,this.errorHandler=this.options.errorHandler||mp,this.navigated=!1,this.routeReuseStrategy=h(dp),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=h(Us,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!h(Ns,{optional:!0}),this.eventsSubscription=new Xo,this.isNgZoneEnabled=h(j)instanceof j&&j.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof We&&i.code!==0&&i.code!==1)this.navigated=!0;else if(i instanceof De)this.navigated=!0;else if(i instanceof mn){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),u={skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||lp(s.source)};this.scheduleNavigation(a,un,null,u,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}Ip(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),un,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)}))}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let c=m({},s);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Ms),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:u,preserveFragment:c}=i,d=c?this.currentUrlTree.fragment:a,p=null;switch(u){case"merge":p=m(m({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}p!==null&&(p=this.removeEmptyProps(p));let f;try{let S=s?s.snapshot:this.routerState.snapshot.root;f=zc(S)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),f=this.currentUrlTree.root}return Bc(f,r,p,d??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=Ot(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,un,null,i)}navigate(r,i={skipLocationChange:!1}){return yp(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=m({},gp):i===!1?s=m({},vp):s=i,Ot(r))return Rc(this.currentUrlTree,r,s);let o=this.parseUrl(r);return Rc(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.keys(r).reduce((i,s)=>{let o=r[s];return o!=null&&(i[s]=o),i},{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let u,c,d;a?(u=a.resolve,c=a.reject,d=a.promise):d=new Promise((f,S)=>{u=f,c=S});let p=this.pendingTasks.add();return fp(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:u,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(f=>Promise.reject(f))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function yp(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new U(4008,!1)}function Ip(t){return!(t instanceof fn)&&!(t instanceof mn)}var kt=(()=>{let e=class e{constructor(r,i,s,o,a,u){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=u,this.href=null,this.commands=null,this.onChanges=new Q,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=r.events.subscribe(d=>{d instanceof De&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){if(this.urlTree===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state};return this.router.navigateByUrl(this.urlTree,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=this.urlTree!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;let r=this.href===null?null:wa(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(he(Ar),he(nt),ma("tabindex"),he(Ci),he(Si),he(Mi))},e.\u0275dir=Un({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&M("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&ba("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Kn],skipLocationChange:["skipLocationChange","skipLocationChange",Kn],replaceUrl:["replaceUrl","replaceUrl",Kn],routerLink:"routerLink"},standalone:!0,features:[Ea,Fn]});let t=e;return t})(),cu=(()=>{let e=class e{get isActive(){return this._isActive}constructor(r,i,s,o,a){this.router=r,this.element=i,this.renderer=s,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Pe,this.routerEventsSubscription=r.events.subscribe(u=>{u instanceof De&&this.update()})}ngAfterContentInit(){g(this.links.changes,g(null)).pipe(mi()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=q(r).pipe(mi()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(s=>!!s)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(r))})}isLinkActive(r){let i=wp(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>s.urlTree?r.isActive(s.urlTree,i):!1}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};e.\u0275fac=function(i){return new(i||e)(he(Ar),he(Si),he(Ci),he(Vn),he(kt,8))},e.\u0275dir=Un({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,s,o){if(i&1&&Na(o,kt,5),i&2){let a;qt(a=Kt())&&(s.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Fn]});let t=e;return t})();function wp(t){return!!t.paths}var _p=new N("");function uu(t,...e){return Re([{provide:Us,multi:!0,useValue:t},[],{provide:nt,useFactory:Ep,deps:[Ar]},{provide:Di,multi:!0,useFactory:bp},e.map(n=>n.\u0275providers)])}function Ep(t){return t.routerState.root}function bp(){let t=h(de);return e=>{let n=t.get(wt);if(e!==n.components[0])return;let r=t.get(Ar),i=t.get(Tp);t.get(Sp)===1&&r.initialNavigation(),t.get(Cp,null,wi.Optional)?.setUpPreloading(),t.get(_p,null,wi.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Tp=new N("",{factory:()=>new Q}),Sp=new N("",{providedIn:"root",factory:()=>1});var Cp=new N("");var lu=(()=>{let e=class e{constructor(){this.http=h(Ze),this.netApiUrl=h(rt)}getExerciseLogsv2(){return this.http.get(`${this.netApiUrl}/logs`).pipe(w(r=>r.data))}createExerciseLog(r){return this.http.post(`${this.netApiUrl}/logs`,r)}updateExerciseLog(r){return this.http.put(`${this.netApiUrl}/logs/${r.id}`,r)}deleteExerciseLog(r){return this.http.delete(`${this.netApiUrl}/logs/${r}`)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var du=(()=>{let e=class e{constructor(){this.http=h(Ze),this.netApiUrl=h(rt)}getExercises(){return this.http.get(`${this.netApiUrl}/exercises`).pipe(w(r=>r.data))}createExercise(r){return this.http.post(`${this.netApiUrl}/exercises`,r)}updateExercise(r){return this.http.put(`${this.netApiUrl}/exercises/${r.id}`,r)}deleteExercise(r){return this.http.delete(`${this.netApiUrl}/exercises/${r}`)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ap=["usernameTypeaheadInput"],Rp=["exerciseTypeaheadInput"];function Op(t,e){if(t&1&&(I(0,"div",17),O(1),y()),t&2){let n=C();v(1),me(n.createOrUpdateLogFormGroup.errors.userRequired)}}function Pp(t,e){if(t&1&&(I(0,"div",17),O(1),y()),t&2){let n=C();v(1),me(n.createOrUpdateLogFormGroup.errors.userInvalidPeron)}}function kp(t,e){if(t&1&&(I(0,"div",17),O(1),y()),t&2){let n=C();v(1),me(n.createOrUpdateLogFormGroup.errors.exerciseRequired)}}function Dp(t,e){if(t&1&&(I(0,"div",17),O(1),y()),t&2){let n=C();v(1),me(n.createOrUpdateLogFormGroup.errors.exerciseInvalidPeron)}}function Np(t,e){if(t&1&&(I(0,"div",17),O(1),y()),t&2){let n=C();v(1),me(n.createOrUpdateLogFormGroup.errors.exerciseDoesNotExist)}}function Mp(t,e){if(t&1&&(I(0,"div",18)(1,"span",19),O(2),y(),Y(3,"input",20)(4,"input",21),y()),t&2){let n=e.$implicit,r=e.$index;v(2),ke("Serie ",r+1,""),v(1),F("formControl",n.controls.reps),v(1),F("formControl",n.controls.weightInKg)}}function Lp(t,e){if(t&1&&(I(0,"div",17),O(1),y()),t&2){let n=C();v(1),me(n.createOrUpdateLogFormGroup.errors.seriesAllSeriesAreEmpty)}}function xp(t,e){if(t&1&&(I(0,"div",17),O(1),y()),t&2){let n=C();v(1),me(n.createOrUpdateLogFormGroup.errors.seriesRepsMustBeInteger)}}function Up(t,e){if(t&1){let n=ne();I(0,"button",22),M("click",function(){V(n);let i=C();return i.exerciseLogService.deleteLog$.next(i.originalValue),H(i.modal.dismiss())}),O(1," Delete "),y()}}var Fp=t=>({"justify-content-between":t}),jp=(t,e)=>({"btn-primary":t,"btn-secondary":e}),pu=(()=>{let e=class e{constructor(){this.modal=h(tc),this.exerciseLogService=h(Je),this.mode=null,this.createOrUpdateLogFormGroup=null,this.originalValue=null,this.usernameTypeaheadInput=null,this.usernameFocus$=new Q,this.usernameSearch=r=>{let i=r.pipe(yi());return pt(i,this.usernameFocus$).pipe(w(()=>{let s=this.exerciseLogService.usernames().map(o=>o);return this.createOrUpdateLogFormGroup.value.user===""?s:s.filter(o=>!!o).filter(o=>o.toLowerCase().includes(this.createOrUpdateLogFormGroup.value.user?.toLowerCase()??""))}))},this.exerciseTypeaheadInput=null,this.exerciseFocus$=new Q,this.exerciseSearch=r=>{let i=r.pipe(yi());return pt(i,this.exerciseFocus$).pipe(w(s=>{let o=this.exerciseLogService.exercises().map(a=>a);return s?o.filter(a=>!!a).filter(a=>a.name.toLowerCase().includes(s.toLowerCase())):o}))},this.exerciseFormatter=r=>r.name}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=fe({type:e,selectors:[["app-exercise-row-body"]],viewQuery:function(i,s){if(i&1&&(Oi(Ap,7),Oi(Rp,7)),i&2){let o;qt(o=Kt())&&(s.usernameTypeaheadInput=o.first),qt(o=Kt())&&(s.exerciseTypeaheadInput=o.first)}},inputs:{mode:"mode",createOrUpdateLogFormGroup:"createOrUpdateLogFormGroup",originalValue:"originalValue"},standalone:!0,features:[ge],decls:33,vars:27,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3"],[1,"input-group"],["type","text","placeholder","Username",1,"form-control",3,"formControl","ngbTypeahead","popupClass","selectItem","focus"],["usernameTypeaheadInput",""],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"fa","fa-times"],["class","d-block invalid-feedback"],["type","date","placeholder","DD-MM-YYYY","placeholder","Reps",1,"form-control",3,"formControl"],["type","text","placeholder","Exercise",1,"form-control",3,"selectOnExact","formControl","ngbTypeahead","inputFormatter","resultFormatter","popupClass","selectItem","focus"],["exerciseTypeaheadInput",""],[1,"modal-footer",3,"ngClass"],["type","button","class","btn btn-danger"],["type","button",1,"btn",3,"ngClass","disabled","click"],[1,"d-block","invalid-feedback"],[1,"input-group","mb-3","align-items-center"],[1,"input-group-text"],["type","number","placeholder","Reps",1,"form-control",3,"formControl"],["type","number","placeholder","Kg",1,"form-control",3,"formControl"],["type","button",1,"btn","btn-danger",3,"click"],["class","input-group mb-3 align-items-center"]],template:function(i,s){i&1&&(I(0,"div",0)(1,"h4",1),O(2),y(),I(3,"button",2),M("click",function(){return s.modal.dismiss()}),y()(),I(4,"div",3)(5,"form")(6,"div",4)(7,"div",5)(8,"input",6,7),M("selectItem",function(a){return s.createOrUpdateLogFormGroup.controls.user.patchValue(a.item)})("focus",function(){return s.usernameFocus$.next(s.createOrUpdateLogFormGroup.value.user||"")}),y(),I(10,"button",8),M("click",function(){return s.createOrUpdateLogFormGroup.controls.user.patchValue("")}),Y(11,"i",9),y()(),te(12,Op,2,1,"div",10)(13,Pp,2,1,"div",10),y(),I(14,"div",4),Y(15,"input",11),y(),I(16,"div",4)(17,"div",5)(18,"input",12,13),M("selectItem",function(a){return s.createOrUpdateLogFormGroup.controls.exercise.patchValue(a.item)})("focus",function(){return s.exerciseFocus$.next((s.createOrUpdateLogFormGroup.value.exercise==null?null:s.createOrUpdateLogFormGroup.value.exercise.name)||"")}),y(),I(20,"button",8),M("click",function(){return s.createOrUpdateLogFormGroup.controls.exercise.patchValue(null)}),Y(21,"i",9),y()(),te(22,kp,2,1,"div",10)(23,Dp,2,1,"div",10)(24,Np,2,1,"div",10),y(),yt(25,Mp,5,3,"div",23,Sa),te(27,Lp,2,1,"div",10)(28,xp,2,1,"div",10),y()(),I(29,"div",14),te(30,Up,2,0,"button",15),I(31,"button",16),M("click",function(){return s.modal.close()}),O(32," Save "),y()()),i&2&&(v(2),ke("",s.mode==="update"?"Edit":"Create"," Log"),v(6),F("formControl",s.createOrUpdateLogFormGroup.controls.user)("ngbTypeahead",s.usernameSearch)("popupClass","typeahead"),v(4),z(12,!s.createOrUpdateLogFormGroup.controls.user.pristine&&s.createOrUpdateLogFormGroup.errors&&s.createOrUpdateLogFormGroup.errors.userRequired?12:-1),v(1),z(13,!s.createOrUpdateLogFormGroup.controls.user.pristine&&s.createOrUpdateLogFormGroup.errors&&s.createOrUpdateLogFormGroup.errors.userInvalidPeron?13:-1),v(2),F("formControl",s.createOrUpdateLogFormGroup.controls.date),v(3),F("selectOnExact",!0)("formControl",s.createOrUpdateLogFormGroup.controls.exercise)("ngbTypeahead",s.exerciseSearch)("inputFormatter",s.exerciseFormatter)("resultFormatter",s.exerciseFormatter)("popupClass","typeahead"),v(4),z(22,!s.createOrUpdateLogFormGroup.controls.exercise.pristine&&s.createOrUpdateLogFormGroup.errors&&s.createOrUpdateLogFormGroup.errors.exerciseRequired?22:-1),v(1),z(23,!s.createOrUpdateLogFormGroup.controls.exercise.pristine&&s.createOrUpdateLogFormGroup.errors&&s.createOrUpdateLogFormGroup.errors.exerciseInvalidPeron?23:-1),v(1),z(24,!s.createOrUpdateLogFormGroup.controls.exercise.pristine&&s.createOrUpdateLogFormGroup.errors&&s.createOrUpdateLogFormGroup.errors.exerciseDoesNotExist?24:-1),v(1),It(s.createOrUpdateLogFormGroup.controls.series.controls),v(2),z(27,!s.createOrUpdateLogFormGroup.controls.series.pristine&&s.createOrUpdateLogFormGroup.errors&&s.createOrUpdateLogFormGroup.errors.seriesAllSeriesAreEmpty?27:-1),v(1),z(28,!s.createOrUpdateLogFormGroup.controls.series.pristine&&s.createOrUpdateLogFormGroup.errors&&s.createOrUpdateLogFormGroup.errors.seriesRepsMustBeInteger?28:-1),v(1),F("ngClass",Gt(22,Fp,s.mode==="update")),v(1),z(30,s.mode==="update"?30:-1),v(1),F("ngClass",Da(24,jp,s.createOrUpdateLogFormGroup.valid,s.createOrUpdateLogFormGroup.invalid))("disabled",s.createOrUpdateLogFormGroup.invalid))},dependencies:[Ka,za,$a,Ba,Va,Ha,Ga,qa,Wa,sc,ic,Xn],changeDetection:0});let t=e;return t})();var Rr=(()=>{let e=class e{constructor(){this.toasts=[]}show(r){this.toasts.push(r)}ok(r){this.show({text:r,type:"success"})}error(r){this.show({text:r??"An error ocurred",type:"danger"})}remove(r){this.toasts=this.toasts.filter(i=>i!==r)}clear(){this.toasts=[]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var mu=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},$p=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},gu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,d=s>>2,p=(s&3)<<4|a>>4,f=(a&15)<<2|c>>6,S=c&63;u||(S=64,o||(f=64)),r.push(n[d],n[p],n[f],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(mu(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):$p(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let c=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||p==null)throw new $s;let f=s<<2|a>>4;if(r.push(f),c!==64){let S=a<<4&240|c>>2;if(r.push(S),p!==64){let K=c<<6&192|p;r.push(K)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},$s=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Vp=function(t){let e=mu(t);return gu.encodeByteArray(e,!0)},Hs=function(t){return Vp(t).replace(/\./g,"")},Ws=function(t){try{return gu.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Hp(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Wp=()=>Hp().__FIREBASE_DEFAULTS__,zp=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Bp=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Ws(t[1]);return e&&JSON.parse(e)},zs=()=>{try{return Wp()||zp()||Bp()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},vu=t=>{var e,n;return(n=(e=zs())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]};var Bs=()=>{var t;return(t=zs())===null||t===void 0?void 0:t.config},Gs=t=>{var e;return(e=zs())===null||e===void 0?void 0:e[`_${t}`]};var Or=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function G(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yu(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(G())}function Iu(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function wu(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _u(){let t=G();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Eu(){try{return typeof indexedDB=="object"}catch{return!1}}function bu(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var Gp="FirebaseError",pe=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Gp,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ne.prototype.create)}},Ne=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?qp(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new pe(i,a,r)}};function qp(t,e){return t.replace(Kp,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Kp=/\{\$([^}]+)}/g;function Tu(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Nt(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(fu(s)&&fu(o)){if(!Nt(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function fu(t){return t!==null&&typeof t=="object"}function Mt(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Su(t,e){let n=new Vs(t,e);return n.subscribe.bind(n)}var Vs=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Yp(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=js),i.error===void 0&&(i.error=js),i.complete===void 0&&(i.complete=js);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Yp(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function js(){}var nw=4*60*60*1e3;function Be(t){return t&&t._delegate?t._delegate:t}var Ie=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var it="[DEFAULT]";var qs=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Or;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Xp(e))try{this.getOrInitializeService({instanceIdentifier:it})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=it){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return l(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=it){return this.instances.has(e)}getOptions(e=it){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Jp(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=it){return this.component?this.component.multipleInstances?e:it:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Jp(t){return t===it?void 0:t}function Xp(t){return t.instantiationMode==="EAGER"}var Pr=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new qs(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var Zp=[],L=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(L||{}),Qp={debug:L.DEBUG,verbose:L.VERBOSE,info:L.INFO,warn:L.WARN,error:L.ERROR,silent:L.SILENT},ef=L.INFO,tf={[L.DEBUG]:"log",[L.VERBOSE]:"log",[L.INFO]:"info",[L.WARN]:"warn",[L.ERROR]:"error"},nf=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=tf[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Lt=class{constructor(e){this.name=e,this._logLevel=ef,this._logHandler=nf,this._userLogHandler=null,Zp.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in L))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Qp[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,L.DEBUG,...e),this._logHandler(this,L.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,L.VERBOSE,...e),this._logHandler(this,L.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,L.INFO,...e),this._logHandler(this,L.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,L.WARN,...e),this._logHandler(this,L.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,L.ERROR,...e),this._logHandler(this,L.ERROR,...e)}};var rf=(t,e)=>e.some(n=>t instanceof n),Cu,Au;function sf(){return Cu||(Cu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function of(){return Au||(Au=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Ru=new WeakMap,Ys=new WeakMap,Ou=new WeakMap,Ks=new WeakMap,Xs=new WeakMap;function af(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(we(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Ru.set(n,t)}).catch(()=>{}),Xs.set(e,t),e}function cf(t){if(Ys.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Ys.set(t,e)}var Js={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ys.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ou.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return we(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Pu(t){Js=t(Js)}function uf(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(kr(this),e,...n);return Ou.set(r,e.sort?e.sort():[e]),we(r)}:of().includes(t)?function(...e){return t.apply(kr(this),e),we(Ru.get(this))}:function(...e){return we(t.apply(kr(this),e))}}function lf(t){return typeof t=="function"?uf(t):(t instanceof IDBTransaction&&cf(t),rf(t,sf())?new Proxy(t,Js):t)}function we(t){if(t instanceof IDBRequest)return af(t);if(Ks.has(t))return Ks.get(t);let e=lf(t);return e!==t&&(Ks.set(t,e),Xs.set(e,t)),e}var kr=t=>Xs.get(t);function Du(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=we(o);return r&&o.addEventListener("upgradeneeded",u=>{r(we(o.result),u.oldVersion,u.newVersion,we(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}var df=["get","getKey","getAll","getAllKeys","count"],hf=["put","add","delete","clear"],Zs=new Map;function ku(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Zs.get(e))return Zs.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=hf.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||df.includes(n)))return;let s=function(o,...a){return l(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),c=u.store;return r&&(c=c.index(a.shift())),(yield Promise.all([c[n](...a),i&&u.done]))[0]})};return Zs.set(e,s),s}Pu(t=>x(m({},t),{get:(e,n,r)=>ku(e,n)||t.get(e,n,r),has:(e,n)=>!!ku(e,n)||t.has(e,n)}));var eo=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(pf(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function pf(t){let e=t.getComponent();return e?.type==="VERSION"}var to="@firebase/app",Nu="0.9.28";var st=new Lt("@firebase/app"),ff="@firebase/app-compat",mf="@firebase/analytics-compat",gf="@firebase/analytics",vf="@firebase/app-check-compat",yf="@firebase/app-check",If="@firebase/auth",wf="@firebase/auth-compat",_f="@firebase/database",Ef="@firebase/database-compat",bf="@firebase/functions",Tf="@firebase/functions-compat",Sf="@firebase/installations",Cf="@firebase/installations-compat",Af="@firebase/messaging",Rf="@firebase/messaging-compat",Of="@firebase/performance",Pf="@firebase/performance-compat",kf="@firebase/remote-config",Df="@firebase/remote-config-compat",Nf="@firebase/storage",Mf="@firebase/storage-compat",Lf="@firebase/firestore",xf="@firebase/firestore-compat",Uf="firebase",Ff="10.8.1";var no="[DEFAULT]",jf={[to]:"fire-core",[ff]:"fire-core-compat",[gf]:"fire-analytics",[mf]:"fire-analytics-compat",[yf]:"fire-app-check",[vf]:"fire-app-check-compat",[If]:"fire-auth",[wf]:"fire-auth-compat",[_f]:"fire-rtdb",[Ef]:"fire-rtdb-compat",[bf]:"fire-fn",[Tf]:"fire-fn-compat",[Sf]:"fire-iid",[Cf]:"fire-iid-compat",[Af]:"fire-fcm",[Rf]:"fire-fcm-compat",[Of]:"fire-perf",[Pf]:"fire-perf-compat",[kf]:"fire-rc",[Df]:"fire-rc-compat",[Nf]:"fire-gcs",[Mf]:"fire-gcs-compat",[Lf]:"fire-fst",[xf]:"fire-fst-compat","fire-js":"fire-js",[Uf]:"fire-js-all"};var En=new Map,ro=new Map;function $f(t,e){try{t.container.addComponent(e)}catch(n){st.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function xt(t){let e=t.name;if(ro.has(e))return st.debug(`There were multiple attempts to register component ${e}.`),!1;ro.set(e,t);for(let n of En.values())$f(n,t);return!0}function ao(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var Vf={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ge=new Ne("app","Firebase",Vf);var io=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ie("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ge.create("app-deleted",{appName:this._name})}};var Ut=Ff;function co(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:no,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ge.create("bad-app-name",{appName:String(i)});if(n||(n=Bs()),!n)throw Ge.create("no-options");let s=En.get(i);if(s){if(Nt(n,s.options)&&Nt(r,s.config))return s;throw Ge.create("duplicate-app",{appName:i})}let o=new Pr(i);for(let u of ro.values())o.addComponent(u);let a=new io(n,r,o);return En.set(i,a),a}function Dr(t=no){let e=En.get(t);if(!e&&t===no&&Bs())return co();if(!e)throw Ge.create("no-app",{appName:t});return e}function Nr(){return Array.from(En.values())}function Z(t,e,n){var r;let i=(r=jf[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),st.warn(a.join(" "));return}xt(new Ie(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Hf="firebase-heartbeat-database",Wf=1,bn="firebase-heartbeat-store",Qs=null;function Uu(){return Qs||(Qs=Du(Hf,Wf,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(bn)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ge.create("idb-open",{originalErrorMessage:t.message})})),Qs}function zf(t){return l(this,null,function*(){try{let n=(yield Uu()).transaction(bn),r=yield n.objectStore(bn).get(Fu(t));return yield n.done,r}catch(e){if(e instanceof pe)st.warn(e.message);else{let n=Ge.create("idb-get",{originalErrorMessage:e?.message});st.warn(n.message)}}})}function Mu(t,e){return l(this,null,function*(){try{let r=(yield Uu()).transaction(bn,"readwrite");yield r.objectStore(bn).put(e,Fu(t)),yield r.done}catch(n){if(n instanceof pe)st.warn(n.message);else{let r=Ge.create("idb-set",{originalErrorMessage:n?.message});st.warn(r.message)}}})}function Fu(t){return`${t.name}!${t.options.appId}`}var Bf=1024,Gf=30*24*60*60*1e3,so=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new oo(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return l(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Lu();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=Gf}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return l(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=Lu(),{heartbeatsToSend:r,unsentEntries:i}=qf(this._heartbeatsCache.heartbeats),s=Hs(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function Lu(){return new Date().toISOString().substring(0,10)}function qf(t,e=Bf){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),xu(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),xu(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var oo=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return l(this,null,function*(){return Eu()?bu().then(()=>!0).catch(()=>!1):!1})}read(){return l(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield zf(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return l(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Mu(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return l(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Mu(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function xu(t){return Hs(JSON.stringify({version:2,heartbeats:t})).length}function Kf(t){xt(new Ie("platform-logger",e=>new eo(e),"PRIVATE")),xt(new Ie("heartbeat",e=>new so(e),"PRIVATE")),Z(to,Nu,t),Z(to,Nu,"esm2017"),Z("fire-js","")}Kf("");var Yf="firebase",Jf="10.8.1";Z(Yf,Jf,"app");var Tn=new $n("ANGULARFIRE2_VERSION");function ju(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var lo=(t,e)=>{let n=e?[e]:Nr(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Mr=class{constructor(){return lo(Xf)}},Xf="app-check";function Ft(){}var Lr=class{zone;delegate;constructor(e,n=ea){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},uo=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ft,{},Ft,Ft)),n.pipe(D({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},xr=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Lr(Zone.current)),this.insideAngular=n.run(()=>new Lr(Zone.current,Qo)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(T(j))};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ur(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Zf(t){return Ur().ngZone.runOutsideAngular(()=>t())}function ot(t){return Ur().ngZone.run(()=>t())}function Qf(t){return em(Ur())(t)}function em(t){return function(n){return n=n.lift(new uo(t.ngZone)),n.pipe(pi(t.outsideAngular),hi(t.insideAngular))}}var tm=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),ot(()=>t.apply(void 0,r))},Sn=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=ot(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ft,{},Ft,Ft))),r[s]=tm(r[s],n));let i=Zf(()=>t.apply(this,r));if(!e)if(i instanceof Wt){let s=Ur();return i.pipe(pi(s.outsideAngular),hi(s.insideAngular))}else return ot(()=>i);return i instanceof Wt?i.pipe(Qf):i instanceof Promise?ot(()=>new Promise((s,o)=>i.then(a=>ot(()=>s(a)),a=>ot(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:ot(()=>i)};var at=class{constructor(e){return e}},Cn=class{constructor(){return Nr()}};function nm(t){return t&&t.length===1?t[0]:new at(Dr())}var ho=new N("angularfire2._apps"),rm={provide:at,useFactory:nm,deps:[[new Ae,ho]]},im={provide:Cn,deps:[[new Ae,ho]]};function sm(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new at(r)}}var om=(()=>{class t{constructor(n){Z("angularfire",Tn.full,"core"),Z("angularfire",Tn.full,"app"),Z("angular",_a.full,n.toString())}static \u0275fac=function(r){return new(r||t)(T(ae))};static \u0275mod=$e({type:t});static \u0275inj=je({providers:[rm,im]})}return t})();function $u(t,...e){return{ngModule:om,providers:[{provide:ho,useFactory:sm(t),multi:!0,deps:[j,de,xr,...e]}]}}var Vu=Sn(co,!0);function tl(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var nl=tl,rl=new Ne("auth","Firebase",tl());var Wr=new Lt("@firebase/auth");function am(t,...e){Wr.logLevel<=L.WARN&&Wr.warn(`Auth (${Ut}): ${t}`,...e)}function jr(t,...e){Wr.logLevel<=L.ERROR&&Wr.error(`Auth (${Ut}): ${t}`,...e)}function be(t,...e){throw Oo(t,...e)}function _e(t,...e){return Oo(t,...e)}function il(t,e,n){let r=Object.assign(Object.assign({},nl()),{[e]:n});return new Ne("auth","Firebase",r).create(e,{appName:t.name})}function cm(t,e,n){let r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&be(t,"argument-error"),il(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Oo(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return rl.create(t,...e)}function _(t,e,...n){if(!t)throw Oo(e,...n)}function Me(t){let e="INTERNAL ASSERTION FAILED: "+t;throw jr(e),new Error(e)}function xe(t,e){t||Me(e)}function mo(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function um(){return Hu()==="http:"||Hu()==="https:"}function Hu(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function lm(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(um()||Iu()||"connection"in navigator)?navigator.onLine:!0}function dm(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var ct=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,xe(n>e,"Short delay should be less than long delay!"),this.isMobile=yu()||wu()}get(){return lm()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Po(t,e){xe(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var zr=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Me("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Me("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Me("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var hm={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var pm=new ct(3e4,6e4);function ko(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function $t(s,o,a,u){return l(this,arguments,function*(t,e,n,r,i={}){return sl(t,i,()=>l(this,null,function*(){let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});let p=Mt(Object.assign({key:t.config.apiKey},d)).slice(1),f=yield t._getAdditionalHeaders();return f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode),zr.fetch()(ol(t,t.config.apiHost,n,p),Object.assign({method:e,headers:f,referrerPolicy:"no-referrer"},c))}))})}function sl(t,e,n){return l(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},hm),e);try{let i=new go(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Fr(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fr(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Fr(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Fr(t,"user-disabled",o);let d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw il(t,d,c);be(t,d)}}catch(i){if(i instanceof pe)throw i;be(t,"network-request-failed",{message:String(i)})}})}function fm(s,o,a,u){return l(this,arguments,function*(t,e,n,r,i={}){let c=yield $t(t,e,n,r,i);return"mfaPendingCredential"in c&&be(t,"multi-factor-auth-required",{_serverResponse:c}),c})}function ol(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Po(t.config,i):`${t.config.apiScheme}://${i}`}var go=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(_e(this.auth,"network-request-failed")),pm.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Fr(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=_e(t,e,r);return i.customData._tokenResponse=n,i}function mm(t,e){return l(this,null,function*(){return $t(t,"POST","/v1/accounts:delete",e)})}function gm(t,e){return l(this,null,function*(){return $t(t,"POST","/v1/accounts:lookup",e)})}function An(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Do(t,e=!1){return l(this,null,function*(){let n=Be(t),r=yield n.getIdToken(e),i=No(r);_(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:An(po(i.auth_time)),issuedAtTime:An(po(i.iat)),expirationTime:An(po(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function po(t){return Number(t)*1e3}function No(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return jr("JWT malformed, contained fewer than 3 sections"),null;try{let i=Ws(n);return i?JSON.parse(i):(jr("Failed to decode base64 JWT payload"),null)}catch(i){return jr("Caught error parsing JWT payload as JSON",i?.toString()),null}}function vm(t){let e=No(t);return _(e,"internal-error"),_(typeof e.exp<"u","internal-error"),_(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Rn(t,e,n=!1){return l(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof pe&&ym(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function ym({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var vo=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>l(this,null,function*(){yield this.iteration()}),n)}iteration(){return l(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Br=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=An(this.lastLoginAt),this.creationTime=An(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Gr(t){return l(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Rn(t,gm(n,{idToken:r}));_(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?wm(s.providerUserInfo):[],a=Im(t.providerData,o),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!a?.length,d=u?c:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Br(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,p)})}function Mo(t){return l(this,null,function*(){let e=Be(t);yield Gr(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Im(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function wm(t){return t.map(e=>{var{providerId:n}=e,r=Ln(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function _m(t,e){return l(this,null,function*(){let n=yield sl(t,{},()=>l(this,null,function*(){let r=Mt({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=ol(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",zr.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function Em(t,e){return l(this,null,function*(){return $t(t,"POST","/v2/accounts:revokeToken",ko(t,e))})}var qr=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_(e.idToken,"internal-error"),_(typeof e.idToken<"u","internal-error"),_(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vm(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return l(this,null,function*(){return _(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return l(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield _m(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(_(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(_(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(_(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Me("not implemented")}};function qe(t,e){_(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var On=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Ln(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Br(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return l(this,null,function*(){let n=yield Rn(this,this.stsTokenManager.getToken(this.auth,e));return _(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Do(this,e)}reload(){return Mo(this)}_assign(e){this!==e&&(_(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){_(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return l(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Gr(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return l(this,null,function*(){let e=yield this.getIdToken();return yield Rn(this,mm(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,d;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,S=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,K=(o=n.photoURL)!==null&&o!==void 0?o:void 0,ue=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,A=(c=n.createdAt)!==null&&c!==void 0?c:void 0,le=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:lt,emailVerified:W,isAnonymous:dt,providerData:Ht,stsTokenManager:Mn}=n;_(lt&&Mn,e,"internal-error");let $l=qr.fromJSON(this.name,Mn);_(typeof lt=="string",e,"internal-error"),qe(p,e.name),qe(f,e.name),_(typeof W=="boolean",e,"internal-error"),_(typeof dt=="boolean",e,"internal-error"),qe(S,e.name),qe(K,e.name),qe(ue,e.name),qe(R,e.name),qe(A,e.name),qe(le,e.name);let ui=new t({uid:lt,auth:e,email:f,emailVerified:W,displayName:p,isAnonymous:dt,photoURL:K,phoneNumber:S,tenantId:ue,stsTokenManager:$l,createdAt:A,lastLoginAt:le});return Ht&&Array.isArray(Ht)&&(ui.providerData=Ht.map(Vl=>Object.assign({},Vl))),R&&(ui._redirectEventId=R),ui}static _fromIdTokenResponse(e,n,r=!1){return l(this,null,function*(){let i=new qr;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Gr(s),s})}};var Wu=new Map;function Le(t){xe(t instanceof Function,"Expected a class definition");let e=Wu.get(t);return e?(xe(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Wu.set(t,e),e)}var bm=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return l(this,null,function*(){return!0})}_set(n,r){return l(this,null,function*(){this.storage[n]=r})}_get(n){return l(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return l(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),yo=bm;function $r(t,e,n){return`firebase:${t}:${e}:${n}`}var Kr=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=$r(this.userKey,i.apiKey,s),this.fullPersistenceKey=$r("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return l(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?On._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return l(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return l(this,null,function*(){if(!n.length)return new t(Le(yo),e,r);let i=(yield Promise.all(n.map(c=>l(this,null,function*(){if(yield c._isAvailable())return c})))).filter(c=>c),s=i[0]||Le(yo),o=$r(r,e.config.apiKey,e.name),a=null;for(let c of n)try{let d=yield c._get(o);if(d){let p=On._fromJSON(e,d);c!==s&&(a=p),s=c;break}}catch{}let u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(c=>l(this,null,function*(){if(c!==s)try{yield c._remove(o)}catch{}}))),new t(s,e,r))})}};function zu(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ul(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(al(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(dl(e))return"Blackberry";if(hl(e))return"Webos";if(Lo(e))return"Safari";if((e.includes("chrome/")||cl(e))&&!e.includes("edge/"))return"Chrome";if(ll(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function al(t=G()){return/firefox\//i.test(t)}function Lo(t=G()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cl(t=G()){return/crios\//i.test(t)}function ul(t=G()){return/iemobile/i.test(t)}function ll(t=G()){return/android/i.test(t)}function dl(t=G()){return/blackberry/i.test(t)}function hl(t=G()){return/webos/i.test(t)}function ri(t=G()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Tm(t=G()){var e;return ri(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Sm(){return _u()&&document.documentMode===10}function pl(t=G()){return ri(t)||ll(t)||hl(t)||dl(t)||/windows phone/i.test(t)||ul(t)}function Cm(){try{return!!(window&&window!==window.top)}catch{return!1}}function fl(t,e=[]){let n;switch(t){case"Browser":n=zu(G());break;case"Worker":n=`${zu(G())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ut}/${r}`}var Io=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return l(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Am(n){return l(this,arguments,function*(t,e={}){return $t(t,"GET","/v2/passwordPolicy",ko(t,e))})}var Rm=6,wo=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Rm,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var _o=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yr(this),this.idTokenSubscription=new Yr(this),this.beforeStateQueue=new Io(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rl,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Le(n)),this._initializationPromise=this.queue(()=>l(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Kr.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return l(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return l(this,null,function*(){var n;let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return _(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return l(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return l(this,null,function*(){try{yield Gr(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=dm()}_delete(){return l(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return l(this,null,function*(){let n=e?Be(e):null;return n&&_(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return l(this,null,function*(){if(!this._deleted)return e&&_(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>l(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return l(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>l(this,null,function*(){yield this.assertedPersistence.setPersistence(Le(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return l(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return l(this,null,function*(){let e=yield Am(this),n=new wo(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ne("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return l(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Em(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return l(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return l(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Le(e)||this._popupRedirectResolver;_(n,this,"argument-error"),this.redirectPersistenceManager=yield Kr.create(this,[Le(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return l(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>l(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return l(this,null,function*(){if(e===this.currentUser)return this.queue(()=>l(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(_(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return l(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fl(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return l(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return l(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&am(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function ii(t){return Be(t)}var Yr=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Su(n=>this.observer=n)}get next(){return _(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var xo={loadJS(){return l(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Om(t){xo=t}function Pm(t){return xo.loadJS(t)}function km(){return xo.gapiScript}function ml(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function Uo(t,e){let n=ao(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(Nt(s,e??{}))return i;be(i,"already-initialized")}return n.initialize({options:e})}function Dm(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Le);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Fo(t,e,n){let r=ii(t);_(r._canInitEmulator,r,"emulator-config-failed"),_(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=gl(e),{host:o,port:a}=Nm(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Mm()}function gl(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Nm(t){let e=gl(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:Bu(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:Bu(o)}}}function Bu(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function Mm(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Pn=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Me("not implemented")}_getIdTokenResponse(e){return Me("not implemented")}_linkToIdToken(e,n){return Me("not implemented")}_getReauthenticationResolver(e){return Me("not implemented")}};function jt(t,e){return l(this,null,function*(){return fm(t,"POST","/v1/accounts:signInWithIdp",ko(t,e))})}var Lm="http://localhost",Jr=class t extends Pn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):be("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Ln(n,["providerId","signInMethod"]);if(!r||!i)return null;let o=new t(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){let n=this.buildRequest();return jt(e,n)}_linkToIdToken(e,n){let r=this.buildRequest();return r.idToken=n,jt(e,r)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,jt(e,n)}buildRequest(){let e={requestUri:Lm,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Mt(n)}return e}};var kn=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Xr=class extends kn{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var si=(()=>{class t extends Xr{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return Jr._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})();var Dn=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return l(this,null,function*(){let s=yield On._fromIdTokenResponse(e,r,i),o=Gu(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return l(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=Gu(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function Gu(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Eo=class t extends pe{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function vl(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Eo._fromErrorAndOperation(t,s,e,r):s})}function xm(t,e,n=!1){return l(this,null,function*(){let r=yield Rn(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Dn._forOperation(t,"link",r)})}function Um(t,e,n=!1){return l(this,null,function*(){let{auth:r}=t,i="reauthenticate";try{let s=yield Rn(t,vl(r,i,e,t),n);_(s.idToken,r,"internal-error");let o=No(s.idToken);_(o,r,"internal-error");let{sub:a}=o;return _(t.uid===a,r,"user-mismatch"),Dn._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&be(r,"user-mismatch"),s}})}function Fm(t,e,n=!1){return l(this,null,function*(){let r="signIn",i=yield vl(t,r,e),s=yield Dn._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function jo(t,e,n,r){return Be(t).onIdTokenChanged(e,n,r)}function $o(t,e,n){return Be(t).beforeAuthStateChanged(e,n)}function Vo(t){return Be(t).signOut()}var Zr="__sak";var Qr=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zr,"1"),this.storage.removeItem(Zr),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function jm(){let t=G();return Lo(t)||ri(t)}var $m=1e3,Vm=10,Hm=(()=>{class t extends Qr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=jm()&&Cm(),this.fallbackToPolling=pl(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);Sm()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,Vm):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},$m)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return l(this,null,function*(){yield Ke(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return l(this,null,function*(){let r=yield Ke(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return l(this,null,function*(){yield Ke(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),yl=Hm;var Wm=(()=>{class t extends Qr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Ho=Wm;function zm(t){return Promise.all(t.map(e=>l(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var Bm=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return l(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(a).map(d=>l(this,null,function*(){return d(r.origin,o)})),c=yield zm(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:c})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function Wo(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var bo=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return l(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{let c=Wo("",20);i.port1.start();let d=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){let f=p;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function Ee(){return window}function Gm(t){Ee().location.href=t}function Il(){return typeof Ee().WorkerGlobalScope<"u"&&typeof Ee().importScripts=="function"}function qm(){return l(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function Km(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Ym(){return Il()?self:null}var wl="firebaseLocalStorageDb",Jm=1,ei="firebaseLocalStorage",_l="fbase_key",ut=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function oi(t,e){return t.transaction([ei],e?"readwrite":"readonly").objectStore(ei)}function Xm(){let t=indexedDB.deleteDatabase(wl);return new ut(t).toPromise()}function To(){let t=indexedDB.open(wl,Jm);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(ei,{keyPath:_l})}catch(i){n(i)}}),t.addEventListener("success",()=>l(this,null,function*(){let r=t.result;r.objectStoreNames.contains(ei)?e(r):(r.close(),yield Xm(),e(yield To()))}))})}function qu(t,e,n){return l(this,null,function*(){let r=oi(t,!0).put({[_l]:e,value:n});return new ut(r).toPromise()})}function Zm(t,e){return l(this,null,function*(){let n=oi(t,!1).get(e),r=yield new ut(n).toPromise();return r===void 0?null:r.value})}function Ku(t,e){let n=oi(t,!0).delete(e);return new ut(n).toPromise()}var Qm=800,eg=3,tg=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return l(this,null,function*(){return this.db?this.db:(this.db=yield To(),this.db)})}_withRetries(n){return l(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>eg)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return l(this,null,function*(){return Il()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return l(this,null,function*(){this.receiver=Bm._getInstance(Ym()),this.receiver._subscribe("keyChanged",(n,r)=>l(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>l(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return l(this,null,function*(){var n,r;if(this.activeServiceWorker=yield qm(),!this.activeServiceWorker)return;this.sender=new bo(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return l(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||Km()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return l(this,null,function*(){try{if(!indexedDB)return!1;let n=yield To();return yield qu(n,Zr,"1"),yield Ku(n,Zr),!0}catch{}return!1})}_withPendingWrite(n){return l(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return l(this,null,function*(){return this._withPendingWrite(()=>l(this,null,function*(){return yield this._withRetries(i=>qu(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return l(this,null,function*(){let r=yield this._withRetries(i=>Zm(i,n));return this.localCache[n]=r,r})}_remove(n){return l(this,null,function*(){return this._withPendingWrite(()=>l(this,null,function*(){return yield this._withRetries(r=>Ku(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return l(this,null,function*(){let n=yield this._withRetries(s=>{let o=oi(s,!1).getAll();return new ut(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>l(this,null,function*(){return this._poll()}),Qm)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),El=tg;var Kw=ml("rcb"),Yw=new ct(3e4,6e4);function bl(t,e){return e?Le(e):(_(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Nn=class extends Pn{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jt(e,this._buildIdpRequest())}_linkToIdToken(e,n){return jt(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return jt(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function ng(t){return Fm(t.auth,new Nn(t),t.bypassAuthState)}function rg(t){let{auth:e,user:n}=t;return _(n,e,"internal-error"),Um(n,new Nn(t),t.bypassAuthState)}function ig(t){return l(this,null,function*(){let{auth:e,user:n}=t;return _(n,e,"internal-error"),xm(n,new Nn(t),t.bypassAuthState)})}var ti=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>l(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return l(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(c){this.reject(c)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ng;case"linkViaPopup":case"linkViaRedirect":return ig;case"reauthViaPopup":case"reauthViaRedirect":return rg;default:be(this.auth,"internal-error")}}resolve(e){xe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var sg=new ct(2e3,1e4);function ai(t,e,n){return l(this,null,function*(){let r=ii(t);cm(t,e,kn);let i=bl(r,n);return new og(r,"signInViaPopup",e,i).executeNotNull()})}var og=(()=>{class t extends ti{constructor(n,r,i,s,o){super(n,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){return l(this,null,function*(){let n=yield this.execute();return _(n,this.auth,"internal-error"),n})}onExecution(){return l(this,null,function*(){xe(this.filter.length===1,"Popup operations only handle one event");let n=Wo();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(_e(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var n;return((n=this.authWindow)===null||n===void 0?void 0:n.associatedEvent)||null}cancel(){this.reject(_e(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let n=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_e(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,sg.get())};n()}}t.currentPopupAction=null;return t})(),ag="pendingRedirect",Vr=new Map,So=class t extends ti{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return l(this,null,function*(){let e=Vr.get(this.auth._key());if(!e){try{let r=(yield cg(this.resolver,this.auth))?yield Ke(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Vr.set(this.auth._key(),e)}return this.bypassAuthState||Vr.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return l(this,null,function*(){if(e.type==="signInViaRedirect")return Ke(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Ke(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return l(this,null,function*(){})}cleanUp(){}};function cg(t,e){return l(this,null,function*(){let n=dg(e),r=lg(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function ug(t,e){Vr.set(t._key(),e)}function lg(t){return Le(t._redirectPersistence)}function dg(t){return $r(ag,t.config.apiKey,t.name)}function hg(t,e,n=!1){return l(this,null,function*(){let r=ii(t),i=bl(r,e),o=yield new So(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var pg=10*60*1e3,Co=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fg(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Tl(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(_e(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=pg&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yu(e))}saveEventToCache(e){this.cachedEventUids.add(Yu(e)),this.lastProcessedEventTime=Date.now()}};function Yu(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Tl({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function fg(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Tl(t);default:return!1}}function mg(n){return l(this,arguments,function*(t,e={}){return $t(t,"GET","/v1/projects",e)})}var gg=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vg=/^https?/;function yg(t){return l(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield mg(t);for(let n of e)try{if(Ig(n))return}catch{}be(t,"unauthorized-domain")})}function Ig(t){let e=mo(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!vg.test(n))return!1;if(gg.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var wg=new ct(3e4,6e4);function Ju(){let t=Ee().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function _g(t){return new Promise((e,n)=>{var r,i,s;function o(){Ju(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ju(),n(_e(t,"network-request-failed"))},timeout:wg.get()})}if(!((i=(r=Ee().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Ee().gapi)===null||s===void 0)&&s.load)o();else{let a=ml("iframefcb");return Ee()[a]=()=>{gapi.load?o():n(_e(t,"network-request-failed"))},Pm(`${km()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Hr=null,e})}var Hr=null;function Eg(t){return Hr=Hr||_g(t),Hr}var bg=new ct(5e3,15e3),Tg="__/auth/iframe",Sg="emulator/auth/iframe",Cg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ag=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Rg(t){let e=t.config;_(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Po(e,Sg):`https://${t.config.authDomain}/${Tg}`,r={apiKey:e.apiKey,appName:t.name,v:Ut},i=Ag.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Mt(r).slice(1)}`}function Og(t){return l(this,null,function*(){let e=yield Eg(t),n=Ee().gapi;return _(n,t,"internal-error"),e.open({where:document.body,url:Rg(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Cg,dontclear:!0},r=>new Promise((i,s)=>l(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=_e(t,"network-request-failed"),a=Ee().setTimeout(()=>{s(o)},bg.get());function u(){Ee().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var Pg={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kg=500,Dg=600,Ng="_blank",Mg="http://localhost",ni=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Lg(t,e,n,r=kg,i=Dg){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},Pg),{width:r.toString(),height:i.toString(),top:s,left:o}),c=G().toLowerCase();n&&(a=cl(c)?Ng:n),al(c)&&(e=e||Mg,u.scrollbars="yes");let d=Object.entries(u).reduce((f,[S,K])=>`${f}${S}=${K},`,"");if(Tm(c)&&a!=="_self")return xg(e||"",a),new ni(null);let p=window.open(e||"",a,d);_(p,t,"popup-blocked");try{p.focus()}catch{}return new ni(p)}function xg(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Ug="__/auth/handler",Fg="emulator/auth/handler",jg=encodeURIComponent("fac");function Xu(t,e,n,r,i,s){return l(this,null,function*(){_(t.config.authDomain,t,"auth-domain-config-required"),_(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ut,eventId:i};if(e instanceof kn){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Tu(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,p]of Object.entries(s||{}))o[d]=p}if(e instanceof Xr){let d=e.getScopes().filter(p=>p!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let u=yield t._getAppCheckToken(),c=u?`#${jg}=${encodeURIComponent(u)}`:"";return`${$g(t)}?${Mt(a).slice(1)}${c}`})}function $g({config:t}){return t.emulator?Po(t,Fg):`https://${t.authDomain}/${Ug}`}var fo="webStorageSupport",Ao=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ho,this._completeRedirectFn=hg,this._overrideRedirectResult=ug}_openPopup(e,n,r,i){return l(this,null,function*(){var s;xe((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield Xu(e,n,r,mo(),i);return Lg(e,o,Wo())})}_openRedirect(e,n,r,i){return l(this,null,function*(){yield this._originValidation(e);let s=yield Xu(e,n,r,mo(),i);return Gm(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(xe(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return l(this,null,function*(){let n=yield Og(e),r=new Co(e);return n.register("authEvent",i=>(_(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(fo,{type:fo},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[fo];o!==void 0&&n(!!o),be(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=yg(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return pl()||Lo()||ri()}},Sl=Ao;var Zu="@firebase/auth",Qu="1.6.1";var Ro=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return l(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Vg(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Hg(t){xt(new Ie("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;_(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fl(t)},c=new _o(r,i,s,u);return Dm(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),xt(new Ie("auth-internal",e=>{let n=ii(e.getProvider("auth").getImmediate());return(r=>new Ro(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Z(Zu,Qu,Vg(t)),Z(Zu,Qu,"esm2017")}var Wg=5*60,zg=Gs("authIdTokenMaxAge")||Wg,el=null,Bg=t=>e=>l(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>zg)return;let i=n?.token;el!==i&&(el=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function zo(t=Dr()){let e=ao(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Uo(t,{popupRedirectResolver:Sl,persistence:[El,yl,Ho]}),r=Gs("authTokenSyncURL");if(r){let s=Bg(r);$o(n,s,()=>s(n.currentUser)),jo(n,o=>s(o))}let i=vu("auth");return i&&Fo(n,`http://${i}`),n}function Gg(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Om({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=_e("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Gg().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Hg("Browser");var Cl="auth",Ue=class{constructor(e){return e}},Bo=class{constructor(){return lo(Cl)}};var Go=new N("angularfire2.auth-instances");function Fv(t,e){let n=ju(Cl,t,e);return n&&new Ue(n)}function jv(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ue(r)}}var $v={provide:Bo,deps:[[new Ae,Go]]},Vv={provide:Ue,useFactory:Fv,deps:[[new Ae,Go],at]},Hv=(()=>{class t{constructor(){Z("angularfire",Tn.full,"auth")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=$e({type:t});static \u0275inj=je({providers:[Vv,$v]})}return t})();function Al(t,...e){return{ngModule:Hv,providers:[{provide:Go,useFactory:jv(t),multi:!0,deps:[j,de,xr,Cn,[new Ae,Mr],...e]}]}}var Rl=Sn(zo,!0);var Ol=Sn(Vo,!0);var Vt="robertly-idtoken",ci=(()=>{let e=class e{constructor(){this.http=h(Ze),this.apiUrl=h(rt),this.auth=h(Ue),this.toastService=h(Rr)}signIn(r){return this.auth.currentUser?.getIdToken(!0),this.http.post(`${this.apiUrl}/auth/signin`,r,{responseType:"text"}).pipe(D(i=>{localStorage.setItem(Vt,i)}))}signInWithGoogle(){return l(this,null,function*(){let r=new si;r.addScope("https://www.googleapis.com/auth/userinfo.email"),r.setCustomParameters({prompt:"select_account"}),this.auth.useDeviceLanguage();let i=yield ai(this.auth,r),s=si.credentialFromResult(i);if(s){let o=yield ra(this.http.post(`${this.apiUrl}/auth/signup/google`,{accessToken:s.accessToken},{responseType:"text"}));localStorage.setItem(Vt,o),this.toastService.ok("Successfully signed in with Google")}})}signOut(){return l(this,null,function*(){try{yield Ol(this.auth),this.toastService.ok("Successfully signed out")}catch(r){this.toastService.error(JSON.stringify(r))}})}tryRefreshToken(){return l(this,null,function*(){let r=yield this.auth.currentUser?.getIdToken(!0);r?localStorage.setItem(Vt,r):localStorage.removeItem(Vt)})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Wv=t=>({active:t});function zv(t,e){if(t&1){let n=ne();I(0,"button",11),M("click",function(){let s=V(n).$implicit,o=C(2);return H(o.exerciseLogService.selectedUsername$.next(s))}),O(1),Wn(2,"titlecase"),y()}if(t&2){let n=e.$implicit,r=C(2);F("ngClass",Gt(4,Wv,n===r.exerciseLogService.selectedUsername())),v(1),ke(" ",zn(2,2,n)," ")}}function Bv(t,e){if(t&1){let n=ne();I(0,"div",7)(1,"button",8),O(2),Wn(3,"titlecase"),y(),I(4,"div",9)(5,"button",10),M("click",function(){V(n);let i=C();return H(i.exerciseLogService.selectedUsername$.next(null))}),O(6,"All Users"),y(),yt(7,zv,3,6,"button",12,Hn),y()()}if(t&2){let n=C();v(2),ke(" ",zn(3,1,n.exerciseLogService.selectedUsernameLabel())," "),v(5),It(n.exerciseLogService.usernames())}}function Gv(t,e){if(t&1&&(I(0,"div",13)(1,"button",14),O(2),Wn(3,"titlecase"),y()()),t&2){let n=C();v(2),ke(" ",zn(3,1,n.exerciseLogService.usernames()[0])," ")}}var qv=t=>({spin:t}),Pl=(()=>{let e=class e{constructor(){this.exerciseLogService=h(Je),this.logsRefreshClicked=new Pe,this.menuSidebarClicked=new Pe,this.isSpinning=!1}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=fe({type:e,selectors:[["app-header"]],outputs:{logsRefreshClicked:"logsRefreshClicked",menuSidebarClicked:"menuSidebarClicked"},standalone:!0,features:[ge],decls:8,vars:4,consts:[[1,"navbar","navbar-dark","bg-primary","bg-gradient","fw-bold","px-1"],[1,"container-fluid","d-flex","justify-content-end","align-items-center"],["ngbDropdown","","display","dynamic","class","d-flex justify-content-end"],["type","button",1,"btn","me-3",2,"outline","none","border","none","padding","0"],[1,"fa","fa-refresh",2,"font-size","22px","color","white",3,"ngClass","click","animationend"],["type","button",1,"btn",2,"outline","none","border","none","padding","0"],[1,"fa","fa-bars",2,"font-size","22px","color","white",3,"click"],["ngbDropdown","","display","dynamic",1,"d-flex","justify-content-end"],["type","button","ngbDropdownToggle","",1,"btn","d-flex","justify-content-between","align-items-center","me-3",2,"outline","none","border","none","color","white","font-weight","500"],["ngbDropdownMenu",""],["ngbDropdownItem","",3,"click"],["ngbDropdownItem","",3,"ngClass","click"],["ngbDropdownItem","",3,"ngClass"],["display","dynamic",1,"d-flex","justify-content-end"],["type","button",1,"btn","d-flex","justify-content-between","align-items-center","me-3",2,"outline","none","border","none","color","white","font-weight","500"]],template:function(i,s){i&1&&(I(0,"nav",0)(1,"div",1),te(2,Bv,9,3,"div",2)(3,Gv,4,3),I(4,"button",3)(5,"i",4),M("click",function(){return s.isSpinning=!0,s.logsRefreshClicked.emit()})("animationend",function(){return s.isSpinning=!1}),y()(),I(6,"button",5)(7,"i",6),M("click",function(){return s.menuSidebarClicked.emit()}),y()()()()),i&2&&(v(2),z(2,s.exerciseLogService.usernames().length>1?2:3),v(3),F("ngClass",Gt(2,qv,s.isSpinning)))},dependencies:[Xn,Zn,tr,ec,Qa,Za,Ja,Xa,rr,nr,er],styles:["button[_ngcontent-%COMP%]:focus   i.fa.fa-refresh.spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate 1s ease-in-out 0s}@keyframes _ngcontent-%COMP%_rotate{0%{transform:rotate(0)}to{transform:rotate(720deg)}}@-webkit-keyframes _ngcontent-%COMP%_rotate{0%{-webkit-transform:rotate(0deg)}12%{-webkit-transform:rotate(90deg)}25%{-webkit-transform:rotate(180deg)}37%{-webkit-transform:rotate(270deg)}50%{-webkit-transform:rotate(360deg)}62%{-webkit-transform:rotate(450deg)}75%{-webkit-transform:rotate(540deg)}87%{-webkit-transform:rotate(630deg)}to{-webkit-transform:rotate(720deg)}}"],changeDetection:0});let t=e;return t})();var Kv=()=>({exact:!0}),kl=(()=>{let e=class e{constructor(){this.Paths=Te}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=fe({type:e,selectors:[["app-footer"]],standalone:!0,features:[ge],decls:11,vars:4,consts:[[1,"navbar","navbar-dark","bg-primary","bg-gradient","fixed-bottom","fw-bold"],[1,"container-fluid"],[1,"navbar-nav","flex-row","gap-3","justify-content-center","w-100"],[1,"nav-item","w-100"],["routerLinkActive","active",1,"nav-link","text-center","d-flex","justify-content-center","align-items-center","gap-2",3,"routerLink","routerLinkActiveOptions"],[1,"fa","fa-history"],["routerLinkActive","active",1,"nav-link","text-center","d-flex","justify-content-center","align-items-center","gap-2",3,"routerLink"],[1,"fa","fa-bar-chart"]],template:function(i,s){i&1&&(I(0,"nav",0)(1,"div",1)(2,"ul",2)(3,"li",3)(4,"a",4),O(5," Logs "),Y(6,"i",5),y()(),I(7,"li",3)(8,"a",6),O(9," Stats "),Y(10,"i",7),y()()()()()),i&2&&(v(4),F("routerLink",s.Paths.LOGS)("routerLinkActiveOptions",ka(3,Kv)),v(4),F("routerLink",s.Paths.STATS))},dependencies:[kt,cu],styles:["nav.navbar.fixed-bottom[_ngcontent-%COMP%]{padding-bottom:max(env(safe-area-inset-bottom),.8rem);border-top-left-radius:10px;border-top-right-radius:10px}"],changeDetection:0});let t=e;return t})();var Dl=(()=>{let e=class e{constructor(){this.auth=h(Ue)}get user(){return this.auth.currentUser}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Yv(t,e){if(t&1){let n=ne();I(0,"a",6),M("click",function(){V(n);let i=C().$implicit;return H(i.dismiss())}),O(1,"Sign In"),y(),I(2,"a",6),M("click",function(){V(n);let i=C().$implicit;return H(i.dismiss())}),O(3,"Sign Up"),y()}if(t&2){let n=C(2);F("routerLink",n.Paths.SIGN_IN),v(2),F("routerLink",n.Paths.SIGN_UP)}}function Jv(t,e){if(t&1){let n=ne();I(0,"a",7),M("click",function(){V(n);let i=C().$implicit;return C().authApiService.signOut(),H(i.dismiss())}),O(1,"Sign Out"),y()}}function Xv(t,e){if(t&1){let n=ne();I(0,"a",6),M("click",function(){V(n);let i=C().$implicit;return H(i.dismiss())}),O(1,"Food Tracker"),y(),I(2,"a",6),M("click",function(){V(n);let i=C().$implicit;return H(i.dismiss())}),O(3,"Developer"),y()}if(t&2){let n=C(2);F("routerLink",n.Paths.FOODS),v(2),F("routerLink",n.Paths.DEVELOPER)}}function Zv(t,e){if(t&1){let n=ne();I(0,"div",2)(1,"button",3),M("click",function(){let s=V(n).$implicit;return H(s.dismiss("Cross click"))}),y()(),I(2,"div",4),te(3,Yv,4,2)(4,Jv,2,0,"a",5),I(5,"a",6),M("click",function(){let s=V(n).$implicit;return H(s.dismiss())}),O(6,"Exercises"),y(),te(7,Xv,4,2),y()}if(t&2){let n=C();v(3),z(3,n.authService.user?-1:3),v(1),z(4,n.authService.user?4:-1),v(1),F("routerLink",n.Paths.EXERCISES),v(2),z(7,n.authService.user?7:-1)}}function Qv(t,e){if(t&1){let n=ne();I(0,"ngb-toast",8),M("hidden",function(){let s=V(n).$implicit,o=C();return H(o.toastService.remove(s))}),I(1,"ngb-alert",9),M("closed",function(){let s=V(n).$implicit,o=C();return H(o.toastService.remove(s))}),O(2),y()()}if(t&2){let n=e.$implicit;F("autohide",!0)("delay",n.delay||3e3),v(1),F("type",n.type),v(1),me(n.text)}}function ey(t,e){if(t&1){let n=ne();I(0,"button",12),M("click",function(){V(n);let i=C(2);return H(i.open("create"))}),Y(1,"i",13),y()}}function ty(t,e){if(t&1){let n=ne();I(0,"app-header",10),M("logsRefreshClicked",function(){V(n);let i=C();return H(i.fetchData(!0,!0))})("menuSidebarClicked",function(){V(n);let i=C(),s=Aa(1);return H(i.openSidebar(s))}),y(),I(1,"div"),Y(2,"router-outlet"),y(),te(3,ey,2,0,"button",11),Y(4,"app-footer")}if(t&2){let n=C();v(1),Ri("margin-bottom",8,"rem"),v(2),z(3,n.exerciseLogService.loaded()?3:-1)}}function ny(t,e){if(t&1&&(I(0,"div",14)(1,"div",15)(2,"div",16),O(3,"ROBERTLY"),y(),I(4,"div",17),Y(5,"div",18),y(),I(6,"div",19),O(7),y()()()),t&2){let n=C();v(5),Ri("width",n.preloaderProgress,"%"),v(2),ke(" ",n.preloaderMessage," ")}}var qo="robertly-get-data-cache",Nl="robertly-exercise-logs",Ml="robertly-exercises",Ko="robertly-create-log-value",ry=5*60,Ll=t=>{let e=t,n=null;return Ui.required(e.controls.user)&&(n=x(m({},n??{}),{userRequired:"Username is required"})),e.value.user==="peron"&&(n=x(m({},n??{}),{userInvalidPeron:"Peron is not allowed"})),Ui.required(e.controls.exercise)&&(n=x(m({},n??{}),{exerciseRequired:"Exercise is required"})),e.value.exercise?.name?.toLowerCase()==="peron"&&(n=x(m({},n??{}),{exerciseInvalidPeron:"Peron is not allowed"})),e.controls.series.value.map(s=>(s.reps??0)>0&&(s.weightInKg??0)>0).every(s=>!s)&&(n=x(m({},n??{}),{seriesAllSeriesAreEmpty:"Needs at least one serie"})),e.controls.series.value.some(s=>!Number.isInteger(s.reps??0))&&(n=x(m({},n??{}),{seriesRepsMustBeInteger:"Reps needs to be whole numbers"})),n},xl=(()=>{let e=class e{constructor(){this.exerciseLogService=h(Je),this.toastService=h(Rr),this.authApiService=h(ci),this.authService=h(Dl),this.exerciseLogApiService=h(lu),this.exerciseApiService=h(du),this.serviceWorkerUpdates=h(ji),this.modalService=h(nc),this.document=h(B),this.dayjsService=h(ja),this.dayjs=this.dayjsService.instance,this.injector=h(de),this.offcanvasService=h(oc),this.createLogFormGroup=new re({user:new k(""),userId:new k(""),exercise:new k(null),date:new k(""),series:new Fi([new re({reps:new k,weightInKg:new k}),new re({reps:new k,weightInKg:new k}),new re({reps:new k,weightInKg:new k}),new re({reps:new k,weightInKg:new k}),new re({reps:new k,weightInKg:new k})])},[Ll]),this.updateLogFormGroup=new re({user:new k(""),userId:new k(""),exercise:new k(null),date:new k(""),series:new Fi([new re({reps:new k,weightInKg:new k}),new re({reps:new k,weightInKg:new k}),new re({reps:new k,weightInKg:new k}),new re({reps:new k,weightInKg:new k}),new re({reps:new k,weightInKg:new k})])},[Ll]),this.Paths=Te,this.hasAppLoaded=qn(),this.preloaderMessage="Searching for updates...",this.preloaderProgress=10;let r=localStorage.getItem(qo),i=!1;if(!r)localStorage.setItem(qo,this.dayjs().unix().toString()),i=!0;else{let s=this.dayjs.unix(+r);this.dayjs().diff(s,"seconds")>ry&&(i=!0,localStorage.setItem(qo,this.dayjs().unix().toString()))}this.fetchData(i,i),this.serviceWorkerUpdates.unrecoverable.pipe(Yt()).subscribe(s=>console.error(s)),this.serviceWorkerUpdates.versionUpdates.subscribe(s=>{if(s.type==="VERSION_DETECTED")this.preloaderMessage="New version found. Preparing to install...",this.preloaderProgress=60;else if(s.type==="NO_NEW_VERSION_DETECTED")this.preloaderMessage="Everything up to date",this.preloaderProgress=100,setTimeout(()=>{this.hasAppLoaded=!0},500);else if(s.type==="VERSION_READY")this.document.location.reload();else if(s.type==="VERSION_INSTALLATION_FAILED")this.preloaderMessage="Failed to install new version",this.preloaderProgress=100,setTimeout(()=>{this.hasAppLoaded=!0},500);else throw new Error("Impossible state")}),this.createLogFormGroup.valueChanges.pipe(Yt(),sa(1e3)).subscribe(s=>localStorage.setItem(Ko,JSON.stringify(s))),this.exerciseLogService.logClicked$.pipe(Yt()).subscribe(s=>{this.updateLogFormGroup.reset(),this.updateLogFormGroup.patchValue({exercise:s.exercise,date:this.dayjsService.parseDate(s.date).format("YYYY-MM-DD"),user:s.username,series:s.series.map(o=>({reps:o.reps,weightInKg:o.weightInKg}))}),this.open("update",s)}),this.exerciseLogService.deleteLog$.pipe($(s=>this.exerciseLogApiService.deleteExerciseLog(s.id).pipe(D(()=>{this.fetchData(),this.toastService.ok("Log deleted successfully!")}))),Yt()).subscribe()}ngOnInit(){let r=JSON.parse(localStorage.getItem(Ko)??"null");r&&this.createLogFormGroup.patchValue(r)}open(r,i){let s=this.modalService.open(pu,{centered:!0,injector:this.injector}),o=s.componentInstance;o.createOrUpdateLogFormGroup=r==="update"?this.updateLogFormGroup:this.createLogFormGroup,o.mode=r,r==="create"&&!this.createLogFormGroup.value.date&&this.createLogFormGroup.controls.date.patchValue(this.dayjs().format("YYYY-MM-DD")),i&&(o.originalValue=i),s.result.then(()=>{if(r==="create"){if(this.createLogFormGroup.invalid)return;let a=this.exerciseLogService.logs().find(c=>c.user.toLowerCase()===this.createLogFormGroup.value.user?.toLowerCase()&&!!c.userId)??null,u={date:this.dayjsService.parseDate(this.createLogFormGroup.value.date).format("YYYY-MM-DD"),exerciseId:this.createLogFormGroup.value.exercise.id,user:a?.user??this.createLogFormGroup.value.user.toLowerCase(),userId:a?.userId??null,series:(this.createLogFormGroup.value.series??[]).filter(c=>!!c.reps&&!!c.weightInKg).map(c=>({reps:+c.reps,weightInKg:+c.weightInKg.toFixed(1)}))};this.exerciseLogApiService.createExerciseLog(u).subscribe({next:()=>{this.createLogFormGroup.reset(),localStorage.removeItem(Ko),this.fetchData(),this.toastService.ok("Log created successfully!")},error:()=>{this.fetchData(),this.toastService.error()}})}else{if(this.updateLogFormGroup.invalid)return;let a=this.exerciseLogService.logs().find(c=>c.user.toLowerCase()===this.updateLogFormGroup.value.user?.toLowerCase()&&!!c.userId)??null,u={id:i.id,date:this.dayjsService.parseDate(this.updateLogFormGroup.value.date).format("YYYY-MM-DD"),exerciseId:this.updateLogFormGroup.value.exercise.id,user:a?.user??this.updateLogFormGroup.value.user.toLowerCase(),userId:a?.userId??null,series:(this.updateLogFormGroup.value.series??[]).filter(c=>!!c.reps&&!!c.weightInKg).map(c=>({reps:+c.reps,weightInKg:+c.weightInKg.toFixed(1)}))};this.exerciseLogApiService.updateExerciseLog(u).subscribe({next:()=>{this.updateLogFormGroup.reset(),this.fetchData(),this.toastService.ok("Log updated successfully!")},error:()=>{this.fetchData(),this.toastService.error()}})}},()=>{this.createLogFormGroup.markAsPristine(),this.updateLogFormGroup.markAsPristine()})}fetchData(r=!1,i=!0){let s=JSON.parse(localStorage.getItem(Ml)??"[]"),o=JSON.parse(localStorage.getItem(Nl)??"[]"),a=this.exerciseApiService.getExercises(),u=this.exerciseLogApiService.getExerciseLogsv2();!r&&s.length&&(a=g(s)),!i&&o.length&&(u=g(o)),this.exerciseLogService.withLoading(ia([u,a]).pipe(D(([c,d])=>{localStorage.setItem(Nl,JSON.stringify(c)),localStorage.setItem(Ml,JSON.stringify(d)),this.exerciseLogService.updateLogs$.next(c),this.exerciseLogService.updateExercises$.next(d)})))}openSidebar(r){this.offcanvasService.open(r,{position:"end"})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=fe({type:e,selectors:[["app-root"]],standalone:!0,features:[Ra([Je]),ge],decls:7,vars:1,consts:[["content",""],[1,"toast-container"],[1,"offcanvas-header"],["tabindex","-1","type","button","aria-label","Close",1,"btn-close",2,"margin-left","auto",3,"click"],[1,"offcanvas-body"],["class","link-primary","style","cursor: pointer"],[3,"routerLink","click"],[1,"link-primary",2,"cursor","pointer",3,"click"],[3,"autohide","delay","hidden"],[3,"type","closed"],[3,"logsRefreshClicked","menuSidebarClicked"],["class","btn btn-lg btn-primary"],[1,"btn","btn-lg","btn-primary",3,"click"],[1,"fa","fa-plus"],[1,"preloader"],[1,"preloader-content"],[1,"preloader-title"],[1,"progress"],[1,"progress-bar"],[1,"preloader-message"],[3,"autohide","delay"]],template:function(i,s){i&1&&(te(0,Zv,8,4,"ng-template",null,0,Ma),I(2,"div",1),yt(3,Qv,3,4,"ngb-toast",20,Hn),y(),te(5,ty,5,3)(6,ny,8,3)),i&2&&(v(3),It(s.toastService.toasts),v(2),z(5,s.hasAppLoaded?5:6))},dependencies:[Pl,kl,kt,Ds,tr,rr,nr,rc,er,Ya],styles:["button[_ngcontent-%COMP%]:has(.fa.fa-plus){border-radius:100%;position:fixed;right:25px;bottom:75px;z-index:4}@supports (-webkit-hyphens: none){button[_ngcontent-%COMP%]:has(.fa.fa-plus){bottom:100px}}.offcanvas-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{box-shadow:none}.toast-container[_ngcontent-%COMP%]{position:fixed;top:15px;left:50%;transform:translate(-50%);z-index:1200}.toast-container[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:last-child){--bs-toast-spacing: .5rem}.offcanvas-body[_ngcontent-%COMP%]{display:flex;flex-direction:column}.preloader[_ngcontent-%COMP%]{background-color:var(--bs-primary);height:100vh;width:100vw}.preloader[_ngcontent-%COMP%]   .preloader-content[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;padding-top:80%;color:#fff}.preloader[_ngcontent-%COMP%]   .preloader-content[_ngcontent-%COMP%]   .preloader-title[_ngcontent-%COMP%]{font-weight:700;font-size:36px}.preloader[_ngcontent-%COMP%]   .preloader-content[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{width:180px;height:5px;border-radius:0;background-color:#ffffff4d}.preloader[_ngcontent-%COMP%]   .preloader-content[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{background-color:#fff}.preloader[_ngcontent-%COMP%]   .preloader-content[_ngcontent-%COMP%]   .preloader-message[_ngcontent-%COMP%]{padding-top:.3rem;font-size:14px}"]});let t=e;return t})();var iy="@",Yo=class{constructor(e,n,r,i,s){this.doc=e,this.delegate=n,this.zone=r,this.animationType=i,this.moduleImpl=s,this._rendererFactoryPromise=null}loadImpl(){return(this.moduleImpl??import("./chunk-7H43QNNW.js")).catch(n=>{throw new U(5300,!1)}).then(({\u0275createEngine:n,\u0275AnimationRendererFactory:r})=>{let i=n(this.animationType,this.doc),s=new r(this.delegate,i,this.zone);return this.delegate=s,s})}createRenderer(e,n){let r=this.delegate.createRenderer(e,n);if(r.\u0275type===0)return r;typeof r.throwOnSyntheticProps=="boolean"&&(r.throwOnSyntheticProps=!1);let i=new Jo(r);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(s=>{let o=s.createRenderer(e,n);i.use(o)}).catch(s=>{i.use(r)}),i}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}},Jo=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let n of this.replay)n(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,n){this.delegate.appendChild(e,n)}insertBefore(e,n,r,i){this.delegate.insertBefore(e,n,r,i)}removeChild(e,n,r){this.delegate.removeChild(e,n,r)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){this.shouldReplay(n)&&this.replay.push(i=>i.setProperty(e,n,r)),this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.shouldReplay(n)&&this.replay.push(i=>i.listen(e,n,r)),this.delegate.listen(e,n,r)}shouldReplay(e){return this.replay!==null&&e.startsWith(iy)}};function Ul(t="animations"){return Re([{provide:jn,useFactory:(e,n,r)=>new Yo(e,n,r,t),deps:[B,ur,j]},{provide:Ia,useValue:t==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Fl={apiUrl:"https://robertly.azurewebsites.net/api"};function jl(t,e){let n=h(ci),r=localStorage.getItem(Vt);return r&&(t=t.clone({setHeaders:{Authorization:`Bearer ${r}`}})),e(t).pipe(la({delay:(i,s)=>i instanceof bt&&i.status===401&&s<2?q(n.tryRefreshToken()).pipe(Ce(()=>g(null))):Se}))}var Te={LOGS:"",STATS:"stats",EXERCISES:"exercises",SIGN_IN:"signin",SIGN_UP:"signup",DEVELOPER:"developer",FOODS:"foods"},sy=[{path:Te.EXERCISES,loadComponent:()=>import("./chunk-XU5SMBT7.js").then(t=>t.ExercisesPageComponent)},{path:Te.STATS,loadComponent:()=>import("./chunk-OJOWZ7VU.js").then(t=>t.StatsPageComponent)},{path:Te.SIGN_IN,loadComponent:()=>import("./chunk-PEKVQL2N.js").then(t=>t.SignInComponent)},{path:Te.LOGS,pathMatch:"full",loadComponent:()=>import("./chunk-GVQPMDLY.js").then(t=>t.ExerciseLogsPageComponent)},{path:Te.DEVELOPER,pathMatch:"full",loadComponent:()=>import("./chunk-73FHOEWU.js").then(t=>t.DeveloperPageComponent)},{path:Te.FOODS,pathMatch:"full",loadComponent:()=>import("./chunk-VX3KZXXA.js").then(t=>t.FoodsPageComponent)}],rt=new N("API_URL");Ac(xl,{providers:[Zn,Ul(),Ic(wc([jl])),uu(sy),lc("ngsw-worker.js",{enabled:!qn()}),Ei($u(()=>Vu({projectId:"gymtracker-b0b72",appId:"1:1063566206093:web:a3154a1ae143b91f05eec4",storageBucket:"gymtracker-b0b72.appspot.com",apiKey:"AIzaSyCA0ExS-7mRUULdk7CYFORL5zwYXd4lJ-E",authDomain:"auth.robertly.ar",messagingSenderId:"1063566206093"}))),Ei(Al(()=>Rl())),{provide:rt,useValue:Fl.apiUrl}]}).catch(t=>console.error(t));export{Ar as a,du as b,Rr as c,Vt as d,ci as e,Te as f,rt as g};
