import{A as rc,M as ic,N as nr,O as sc,P as oc,Q as rr,R as ac,a as _t,b as $a,c as Pe,d as Va,e as xi,f as Ha,g as za,h as te,i as Wa,j as O,l as Ba,m as Ga,n as qa,o as Ui,p as Ka,q as Ya,r as Ja,s as er,t as Xa,u as Za,v as Qa,w as ec,x as tc,y as tr,z as nc}from"./chunk-OK3EMDMU.js";import{a as Di,b as La,c as xa,d as z,e as Ni,f as Yn,g as Jn,h as Xn,j as Zn,k as Ua,l as Fa,m as ja,n as Mi,o as Li,p as Qn}from"./chunk-FE5KJT64.js";import{$ as ca,$a as Ai,$b as ka,A as fi,Aa as Se,B as se,Ba as _i,Bb as me,C as mi,Ca as pa,D as Ln,Da as It,Db as Ta,E as gt,Ea as Ce,Eb as F,F as na,Fb as D,G as gi,Ga as le,Ha as fa,I as vi,Ia as bi,Ib as Sa,J as vt,Ja as ma,Jb as M,K as J,Ka as oe,Kb as wt,La as ga,Lb as tt,Ma as Ti,N as je,Nb as Ca,O as et,Ob as Aa,P as ra,Pa as Gt,Pb as Ra,Q as yi,Qb as ge,R as Q,Ra as va,Rb as Ri,S as ia,Sa as Si,Sb as Hn,T as sa,Ta as Fn,Tb as Oa,Ua as Ci,Va as jn,Vb as zn,W as yt,Wa as ya,Wb as Wn,X as $e,Y as Ii,Ya as Ia,Z as oa,Zb as Pa,_ as aa,a as m,ab as b,ac as Da,b as L,ba as ua,bb as de,bc as Na,ca as V,cb as $n,cc as Oi,da as la,dc as Bn,e as Xe,ea as P,ec as Gn,f as l,fc as Pi,g as Jo,gb as Ae,gc as ki,h as Xo,ha as x,hb as j,hc as Ma,i as Wt,ia as I,ic as Et,j as li,ja as Ve,jb as wa,jc as qn,k as di,ka as da,kb as Ea,kc as Kn,l as pe,la as wi,lb as U,m as ie,ma as k,mb as _a,n as Zo,na as T,o as Qo,oa as h,p as Ze,pa as Bt,pb as ba,q as Nn,qa as fe,qb as ee,r as hi,ra as He,rb as X,s as pi,sa as xn,sb as qt,t as Y,tb as Vn,u as g,ua as Un,ub as Re,v as Qe,va as q,vb as Oe,w as ea,wa as K,wb as y,x as ta,xa as Ei,xb as v,y as Mn,ya as ha,yb as $,z as E,za as Te}from"./chunk-UBKAMZXI.js";var Yt="Service workers are disabled or not supported by this browser";function Vl(t){return gt(()=>Qe(new Error(t)))}var bt=class{constructor(e){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=Vl(Yt);else{let r=gi(e,"controllerchange").pipe(E(()=>e.controller)),i=gt(()=>g(e.controller)),s=Ln(i,r);this.worker=s.pipe(J(d=>!!d)),this.registration=this.worker.pipe(V(()=>e.getRegistration()));let c=gi(e,"message").pipe(E(d=>d.data)).pipe(J(d=>d&&d.type)).pipe(aa());c.connect(),this.events=c}}postMessage(e,n){return this.worker.pipe(Q(1),P(r=>{r.postMessage(m({action:e},n))})).toPromise().then(()=>{})}postMessageWithOperation(e,n,r){let i=this.waitForOperationCompleted(r),s=this.postMessage(e,n);return Promise.all([s,i]).then(([,o])=>o)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(e){let n;return typeof e=="string"?n=r=>r.type===e:n=r=>e.includes(r.type),this.events.pipe(J(n))}nextEventOfType(e){return this.eventsOfType(e).pipe(Q(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(J(n=>n.nonce===e),Q(1),E(n=>{if(n.result!==void 0)return n.result;throw new Error(n.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},Hl=(()=>{let e=class e{get isEnabled(){return this.sw.isEnabled}constructor(r){if(this.sw=r,this.pushManager=null,this.subscriptionChanges=new pe,!r.isEnabled){this.messages=vt,this.notificationClicks=vt,this.subscription=vt;return}this.messages=this.sw.eventsOfType("PUSH").pipe(E(s=>s.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(E(s=>s.data)),this.pushManager=this.sw.registration.pipe(E(s=>s.pushManager));let i=this.pushManager.pipe(V(s=>s.getSubscription()));this.subscription=vi(i,this.subscriptionChanges)}requestSubscription(r){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(Yt));let i={userVisibleOnly:!0},s=this.decodeBase64(r.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(s.length));for(let a=0;a<s.length;a++)o[a]=s.charCodeAt(a);return i.applicationServerKey=o,this.pushManager.pipe(V(a=>a.subscribe(i)),Q(1)).toPromise().then(a=>(this.subscriptionChanges.next(a),a))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(Yt));let r=i=>{if(i===null)throw new Error("Not subscribed to push notifications.");return i.unsubscribe().then(s=>{if(!s)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(Q(1),V(r)).toPromise()}decodeBase64(r){return atob(r)}};e.\u0275fac=function(i){return new(i||e)(T(bt))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),Fi=(()=>{let e=class e{get isEnabled(){return this.sw.isEnabled}constructor(r){if(this.sw=r,!r.isEnabled){this.versionUpdates=vt,this.unrecoverable=vt;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Yt));let r=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:r},r)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Yt));let r=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:r},r)}};e.\u0275fac=function(i){return new(i||e)(T(bt))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})();var cc=new k("NGSW_REGISTER_SCRIPT");function zl(t,e,n,r){return()=>{if(!(Mi(r)&&"serviceWorker"in navigator&&n.enabled!==!1))return;navigator.serviceWorker.addEventListener("controllerchange",()=>{navigator.serviceWorker.controller!==null&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})});let i;if(typeof n.registrationStrategy=="function")i=n.registrationStrategy();else{let[o,...a]=(n.registrationStrategy||"registerWhenStable:30000").split(":");switch(o){case"registerImmediately":i=g(null);break;case"registerWithDelay":i=uc(+a[0]||0);break;case"registerWhenStable":i=a[0]?vi(lc(t),uc(+a[0])):lc(t);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${n.registrationStrategy}`)}}t.get(j).runOutsideAngular(()=>i.pipe(Q(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:n.scope}).catch(o=>console.error("Service worker registration failed with:",o))))}}function uc(t){return g(null).pipe(sa(t))}function lc(t){return t.get(Et).isStable.pipe(J(n=>n))}function Wl(t,e){return new bt(Mi(e)&&t.enabled!==!1?navigator.serviceWorker:void 0)}var Kt=class{};function dc(t,e={}){return Se([Hl,Fi,{provide:cc,useValue:t},{provide:Kt,useValue:e},{provide:bt,useFactory:Wl,deps:[Kt,oe]},{provide:Oi,useFactory:zl,deps:[le,cc,Kt,oe],multi:!0}])}var Xt=class{},sr=class{},nt=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var $i=class{encodeKey(e){return hc(e)}encodeValue(e){return hc(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function Yl(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=n.get(o)||[];u.push(a),n.set(o,u)}),n}var Jl=/%(\d[a-f0-9])/gi,Xl={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function hc(t){return encodeURIComponent(t).replace(Jl,(e,n)=>Xl[n]??e)}function ir(t){return`${t}`}var ze=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new $i,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Yl(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(ir):[ir(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(ir(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(ir(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Vi=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function Zl(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function pc(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function fc(t){return typeof Blob<"u"&&t instanceof Blob}function mc(t){return typeof FormData<"u"&&t instanceof FormData}function Ql(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Jt=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(Zl(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers||(this.headers=new nt),this.context||(this.context=new Vi),!this.params)this.params=new ze,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),u=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+u+o}}}serializeBody(){return this.body===null?null:pc(this.body)||fc(this.body)||mc(this.body)||Ql(this.body)||typeof this.body=="string"?this.body:this.body instanceof ze?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||mc(this.body)?null:fc(this.body)?this.body.type||null:pc(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof ze?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.body!==void 0?e.body:this.body,o=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,a=e.reportProgress!==void 0?e.reportProgress:this.reportProgress,u=e.headers||this.headers,c=e.params||this.params,d=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((p,f)=>p.set(f,e.setHeaders[f]),u)),e.setParams&&(c=Object.keys(e.setParams).reduce((p,f)=>p.set(f,e.setParams[f]),c)),new t(n,r,s,{params:c,headers:u,context:d,reportProgress:a,responseType:i,withCredentials:o})}},Tt=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Tt||{}),Zt=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new nt,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Hi=class t extends Zt{constructor(e={}){super(e),this.type=Tt.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},or=class t extends Zt{constructor(e={}){super(e),this.type=Tt.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},St=class extends Zt{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}};function ji(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var ke=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,s={}){let o;if(r instanceof Jt)o=r;else{let c;s.headers instanceof nt?c=s.headers:c=new nt(s.headers);let d;s.params&&(s.params instanceof ze?d=s.params:d=new ze({fromObject:s.params})),o=new Jt(r,i,s.body!==void 0?s.body:null,{headers:c,context:s.context,params:d,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=g(o).pipe(et(c=>this.handler.handle(c)));if(r instanceof Jt||s.observe==="events")return a;let u=a.pipe(J(c=>c instanceof or));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return u.pipe(E(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return u.pipe(E(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return u.pipe(E(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return u.pipe(E(c=>c.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new ze().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,ji(s,i))}post(r,i,s={}){return this.request("POST",r,ji(s,i))}put(r,i,s={}){return this.request("PUT",r,ji(s,i))}};e.\u0275fac=function(i){return new(i||e)(T(Xt))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})();function ed(t,e){return e(t)}function td(t,e,n){return(r,i)=>Ce(n,()=>e(r,s=>t(s,i)))}var zi=new k(""),nd=new k(""),rd=new k("");var gc=(()=>{let e=class e extends Xt{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=h(Gn);let s=h(rd,{optional:!0});this.backend=s??r}handle(r){if(this.chain===null){let s=Array.from(new Set([...this.injector.get(zi),...this.injector.get(nd,[])]));this.chain=s.reduceRight((o,a)=>td(o,a,this.injector),ed)}let i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(yt(()=>this.pendingTasks.remove(i)))}};e.\u0275fac=function(i){return new(i||e)(T(sr),T(It))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})();var id=/^\)\]\}',?\n/;function sd(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var vc=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new x(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Y(i.\u0275loadImpl()):g(null)).pipe(V(()=>new Wt(o=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((A,C)=>a.setRequestHeader(A,C.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let A=r.detectContentTypeHeader();A!==null&&a.setRequestHeader("Content-Type",A)}if(r.responseType){let A=r.responseType.toLowerCase();a.responseType=A!=="json"?A:"text"}let u=r.serializeBody(),c=null,d=()=>{if(c!==null)return c;let A=a.statusText||"OK",C=new nt(a.getAllResponseHeaders()),ue=sd(a)||r.url;return c=new Hi({headers:C,status:a.status,statusText:A,url:ue}),c},p=()=>{let{headers:A,status:C,statusText:ue,url:ft}=d(),H=null;C!==204&&(H=typeof a.response>"u"?a.responseText:a.response),C===0&&(C=H?200:0);let mt=C>=200&&C<300;if(r.responseType==="json"&&typeof H=="string"){let zt=H;H=H.replace(id,"");try{H=H!==""?JSON.parse(H):null}catch(Dn){H=zt,mt&&(mt=!1,H={error:Dn,text:H})}}mt?(o.next(new or({body:H,headers:A,status:C,statusText:ue,url:ft||void 0})),o.complete()):o.error(new St({error:H,headers:A,status:C,statusText:ue,url:ft||void 0}))},f=A=>{let{url:C}=d(),ue=new St({error:A,status:a.status||0,statusText:a.statusText||"Unknown Error",url:C||void 0});o.error(ue)},S=!1,G=A=>{S||(o.next(d()),S=!0);let C={type:Tt.DownloadProgress,loaded:A.loaded};A.lengthComputable&&(C.total=A.total),r.responseType==="text"&&a.responseText&&(C.partialText=a.responseText),o.next(C)},ce=A=>{let C={type:Tt.UploadProgress,loaded:A.loaded};A.lengthComputable&&(C.total=A.total),o.next(C)};return a.addEventListener("load",p),a.addEventListener("error",f),a.addEventListener("timeout",f),a.addEventListener("abort",f),r.reportProgress&&(a.addEventListener("progress",G),u!==null&&a.upload&&a.upload.addEventListener("progress",ce)),a.send(u),o.next({type:Tt.Sent}),()=>{a.removeEventListener("error",f),a.removeEventListener("abort",f),a.removeEventListener("load",p),a.removeEventListener("timeout",f),r.reportProgress&&(a.removeEventListener("progress",G),u!==null&&a.upload&&a.upload.removeEventListener("progress",ce)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(T(Qn))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),yc=new k("XSRF_ENABLED"),od="XSRF-TOKEN",ad=new k("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>od}),cd="X-XSRF-TOKEN",ud=new k("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>cd}),ar=class{},ld=(()=>{let e=class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=Jn(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(T(z),T(oe),T(ad))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})();function dd(t,e){let n=t.url.toLowerCase();if(!h(yc)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=h(ar).getToken(),i=h(ud);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var Ic=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(Ic||{});function hd(t,e){return{\u0275kind:t,\u0275providers:e}}function wc(...t){let e=[ke,vc,gc,{provide:Xt,useExisting:gc},{provide:sr,useExisting:vc},{provide:zi,useValue:dd,multi:!0},{provide:yc,useValue:!0},{provide:ar,useClass:ld}];for(let n of t)e.push(...n.\u0275providers);return Se(e)}function Ec(t){return hd(Ic.Interceptors,t.map(e=>({provide:zi,useValue:e,multi:!0})))}var Gi=class extends xa{constructor(){super(...arguments),this.supportsDOMEvents=!0}},qi=class t extends Gi{static makeCurrent(){La(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=fd();return n==null?null:md(n)}resetBaseElement(){Qt=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Jn(document.cookie,e)}},Qt=null;function fd(){return Qt=Qt||document.querySelector("base"),Qt?Qt.getAttribute("href"):null}function md(t){return new URL(t,"http://a").pathname}var gd=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),Ki=new k("EventManagerPlugins"),Tc=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new x(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(T(Ki),T(j))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),cr=class{constructor(e){this._doc=e}},Wi="ng-app-id",Sc=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Li(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Wi}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Wi),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Wi,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(T(z),T(bi),T(Ti,8),T(oe))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),Bi={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ji=/%COMP%/g,Cc="%COMP%",vd=`_nghost-${Cc}`,yd=`_ngcontent-${Cc}`,Id=!0,wd=new k("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>Id});function Ed(t){return yd.replace(Ji,t)}function _d(t){return vd.replace(Ji,t)}function Ac(t,e){return e.map(n=>n.replace(Ji,t))}var ur=(()=>{let e=class e{constructor(r,i,s,o,a,u,c,d=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=u,this.ngZone=c,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=Li(u),this.defaultRenderer=new en(r,a,c,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Bt.ShadowDom&&(i=L(m({},i),{encapsulation:Bt.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof lr?s.applyToHost(r):s instanceof tn&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,u=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case Bt.Emulated:o=new lr(c,d,i,this.appId,p,a,u,f);break;case Bt.ShadowDom:return new Yi(c,d,r,i,a,u,this.nonce,f);default:o=new tn(c,d,i,p,a,u,f);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(T(Tc),T(Sc),T(bi),T(wd),T(z),T(oe),T(j),T(Ti))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),en=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Bi[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(_c(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(_c(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new x(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Bi[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Bi[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Gt.DashCase|Gt.Important)?e.style.setProperty(n,r,i&Gt.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Gt.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Di().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function _c(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Yi=class extends en{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=Ac(i.id,i.styles);for(let d of c){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=d,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},tn=class extends en{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?Ac(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},lr=class extends tn{constructor(e,n,r,i,s,o,a,u){let c=i+"-"+r.id;super(e,n,r,s,o,a,u,c),this.contentAttr=Ed(c),this.hostAttr=_d(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},bd=(()=>{let e=class e extends cr{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(T(z))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),bc=["alt","control","meta","shift"],Td={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Sd={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Cd=(()=>{let e=class e extends cr{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Di().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),bc.forEach(d=>{let p=i.indexOf(d);p>-1&&(i.splice(p,1),a+=d+".")}),a+=o,i.length!=0||o.length===0)return null;let c={};return c.domEventName=s,c.fullKey=a,c}static matchEventFullKeyCode(r,i){let s=Td[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),bc.forEach(a=>{if(a!==s){let u=Sd[a];u(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(T(z))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})();function Rc(t,e){return Ma(m({rootComponent:t},Ad(e)))}function Ad(t){return{appProviders:[...Dd,...t?.providers??[]],platformProviders:kd}}function Rd(){qi.makeCurrent()}function Od(){return new Ai}function Pd(){return fa(document),document}var kd=[{provide:oe,useValue:ja},{provide:ma,useValue:Rd,multi:!0},{provide:z,useFactory:Pd,deps:[]}];var Dd=[{provide:pa,useValue:"root"},{provide:Ai,useFactory:Od,deps:[]},{provide:Ki,useClass:bd,multi:!0,deps:[z,j,oe]},{provide:Ki,useClass:Cd,multi:!0,deps:[z]},ur,Sc,Tc,{provide:Fn,useExisting:ur},{provide:Qn,useClass:gd,deps:[]},[]];function Nd(){return new Xi(T(z))}var Xi=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(T(z))},e.\u0275prov=I({token:e,factory:function(i){let s=null;return i?s=new i:s=Nd(),s},providedIn:"root"});let t=e;return t})();var _="primary",vn=Symbol("RouteTitle"),ns=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Pt(t){return new ns(t)}function Ld(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function xd(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ve(t[n],e[n]))return!1;return!0}function ve(t,e){let n=t?rs(t):void 0,r=e?rs(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Lc(t[i],e[i]))return!1;return!0}function rs(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Lc(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function xc(t){return t.length>0?t[t.length-1]:null}function Ge(t){return ea(t)?t:Ta(t)?Y(Promise.resolve(t)):g(t)}var Ud={exact:Fc,subset:jc},Uc={exact:Fd,subset:jd,ignored:()=>!0};function Oc(t,e,n){return Ud[n.paths](t.root,e.root,n.matrixParams)&&Uc[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function Fd(t,e){return ve(t,e)}function Fc(t,e,n){if(!it(t.segments,e.segments)||!pr(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!Fc(t.children[r],e.children[r],n))return!1;return!0}function jd(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Lc(t[n],e[n]))}function jc(t,e,n){return $c(t,e,e.segments,n)}function $c(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!it(i,n)||e.hasChildren()||!pr(i,n,r))}else if(t.segments.length===n.length){if(!it(t.segments,n)||!pr(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!jc(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!it(t.segments,i)||!pr(t.segments,i,r)||!t.children[_]?!1:$c(t.children[_],e,s,r)}}function pr(t,e,n){return e.every((r,i)=>Uc[n](t[i].parameters,r.parameters))}var We=class{constructor(e=new R([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pt(this.queryParams)),this._queryParamMap}toString(){return Hd.serialize(this)}},R=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return fr(this)}},rt=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Pt(this.parameters)),this._parameterMap}toString(){return Hc(this)}};function $d(t,e){return it(t,e)&&t.every((n,r)=>ve(n.parameters,e[r].parameters))}function it(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function Vd(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===_&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==_&&(n=n.concat(e(i,r)))}),n}var Rs=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:()=>(()=>new gr)(),providedIn:"root"});let t=e;return t})(),gr=class{parse(e){let n=new ss(e);return new We(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${nn(e.root,!0)}`,r=Bd(e.queryParams),i=typeof e.fragment=="string"?`#${zd(e.fragment)}`:"";return`${n}${r}${i}`}},Hd=new gr;function fr(t){return t.segments.map(e=>Hc(e)).join("/")}function nn(t,e){if(!t.hasChildren())return fr(t);if(e){let n=t.children[_]?nn(t.children[_],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==_&&r.push(`${i}:${nn(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=Vd(t,(r,i)=>i===_?[nn(t.children[_],!1)]:[`${i}:${nn(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[_]!=null?`${fr(t)}/${n[0]}`:`${fr(t)}/(${n.join("//")})`}}function Vc(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function dr(t){return Vc(t).replace(/%3B/gi,";")}function zd(t){return encodeURI(t)}function is(t){return Vc(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function mr(t){return decodeURIComponent(t)}function Pc(t){return mr(t.replace(/\+/g,"%20"))}function Hc(t){return`${is(t.path)}${Wd(t.parameters)}`}function Wd(t){return Object.keys(t).map(e=>`;${is(e)}=${is(t[e])}`).join("")}function Bd(t){let e=Object.keys(t).map(n=>{let r=t[n];return Array.isArray(r)?r.map(i=>`${dr(n)}=${dr(i)}`).join("&"):`${dr(n)}=${dr(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}var Gd=/^[^\/()?;#]+/;function Zi(t){let e=t.match(Gd);return e?e[0]:""}var qd=/^[^\/()?;=#]+/;function Kd(t){let e=t.match(qd);return e?e[0]:""}var Yd=/^[^=?&#]+/;function Jd(t){let e=t.match(Yd);return e?e[0]:""}var Xd=/^[^&#]+/;function Zd(t){let e=t.match(Xd);return e?e[0]:""}var ss=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new R([],{}):new R([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[_]=new R(e,n)),r}parseSegment(){let e=Zi(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new x(4009,!1);return this.capture(e),new rt(mr(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=Kd(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Zi(this.remaining);i&&(r=i,this.capture(r))}e[mr(n)]=mr(r)}parseQueryParam(e){let n=Jd(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=Zd(this.remaining);o&&(r=o,this.capture(r))}let i=Pc(n),s=Pc(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Zi(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new x(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=_);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[_]:new R([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new x(4011,!1)}};function zc(t){return t.segments.length>0?new R([],{[_]:t}):t}function Wc(t){let e={};for(let r of Object.keys(t.children)){let i=t.children[r],s=Wc(i);if(r===_&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new R(t.segments,e);return Qd(n)}function Qd(t){if(t.numberOfChildren===1&&t.children[_]){let e=t.children[_];return new R(t.segments.concat(e.segments),e.children)}return t}function kt(t){return t instanceof We}function eh(t,e,n=null,r=null){let i=Bc(t);return Gc(i,e,n,r)}function Bc(t){let e;function n(s){let o={};for(let u of s.children){let c=n(u);o[u.outlet]=c}let a=new R(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=zc(r);return e??i}function Gc(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Qi(i,i,i,n,r);let s=th(e);if(s.toRoot())return Qi(i,i,new R([],{}),n,r);let o=nh(s,i,t),a=o.processChildren?on(o.segmentGroup,o.index,s.commands):Kc(o.segmentGroup,o.index,s.commands);return Qi(i,o.segmentGroup,a,n,r)}function vr(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function un(t){return typeof t=="object"&&t!=null&&t.outlets}function Qi(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,c])=>{s[u]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let o;t===e?o=n:o=qc(t,e,n);let a=zc(Wc(o));return new We(a,s,i)}function qc(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=qc(s,e,n)}),new R(t.segments,r)}var yr=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&vr(r[0]))throw new x(4003,!1);let i=r.find(un);if(i&&i!==xc(r))throw new x(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function th(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new yr(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,c])=>{a[u]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new yr(n,e,r)}var Rt=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function nh(t,e,n){if(t.isAbsolute)return new Rt(e,!0,0);if(!n)return new Rt(e,!1,NaN);if(n.parent===null)return new Rt(n,!0,0);let r=vr(t.commands[0])?0:1,i=n.segments.length-1+r;return rh(n,i,t.numberOfDoubleDots)}function rh(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new x(4005,!1);i=r.segments.length}return new Rt(r,!1,i-s)}function ih(t){return un(t[0])?t[0].outlets:{[_]:t}}function Kc(t,e,n){if(t||(t=new R([],{})),t.segments.length===0&&t.hasChildren())return on(t,e,n);let r=sh(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new R(t.segments.slice(0,r.pathIndex),{});return s.children[_]=new R(t.segments.slice(r.pathIndex),t.children),on(s,0,i)}else return r.match&&i.length===0?new R(t.segments,{}):r.match&&!t.hasChildren()?os(t,e,n):r.match?on(t,0,i):os(t,e,n)}function on(t,e,n){if(n.length===0)return new R(t.segments,{});{let r=ih(n),i={};if(Object.keys(r).some(s=>s!==_)&&t.children[_]&&t.numberOfChildren===1&&t.children[_].segments.length===0){let s=on(t.children[_],e,n);return new R(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=Kc(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new R(t.segments,i)}}function sh(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(un(a))break;let u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&c&&typeof c=="object"&&c.outlets===void 0){if(!Dc(u,c,o))return s;r+=2}else{if(!Dc(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function os(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(un(s)){let u=oh(s.outlets);return new R(r,u)}if(i===0&&vr(n[0])){let u=t.segments[e];r.push(new rt(u.path,kc(n[0]))),i++;continue}let o=un(s)?s.outlets[_]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&vr(a)?(r.push(new rt(o,kc(a))),i+=2):(r.push(new rt(o,{})),i++)}return new R(r,{})}function oh(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=os(new R([],{}),0,r))}),e}function kc(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function Dc(t,e,n){return t==n.path&&ve(e,n.parameters)}var an="imperative",ae=class{constructor(e,n){this.id=e,this.url=n}},ln=class extends ae{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},De=class extends ae{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Be=class extends ae{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},st=class extends ae{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}},dn=class extends ae{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ir=class extends ae{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},as=class extends ae{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cs=class extends ae{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},us=class extends ae{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ls=class extends ae{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ds=class{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},hs=class{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ps=class{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fs=class{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ms=class{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gs=class{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var hn=class{},pn=class{constructor(e){this.url=e}};var vs=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Sr,this.attachRef=null}},Sr=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new vs,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),wr=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=ys(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=ys(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Is(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Is(e,this._root).map(n=>n.value)}};function ys(t,e){if(t===e.value)return e;for(let n of e.children){let r=ys(t,n);if(r)return r}return null}function Is(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Is(t,n);if(r.length)return r.unshift(e),r}return[]}var ne=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function At(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Er=class extends wr{constructor(e,n){super(e),this.snapshot=n,Ps(this,e)}toString(){return this.snapshot.toString()}};function Yc(t,e){let n=ah(t,e),r=new ie([new rt("",{})]),i=new ie({}),s=new ie({}),o=new ie({}),a=new ie(""),u=new ot(r,i,o,a,s,_,e,n.root);return u.snapshot=n.root,new Er(new ne(u,[]),n)}function ah(t,e){let n={},r={},i={},s="",o=new fn([],n,i,s,r,_,e,null,{});return new _r("",new ne(o,[]))}var ot=class{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(E(c=>c[vn]))??g(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(E(e=>Pt(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(E(e=>Pt(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Os(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:m(m({},e.params),t.params),data:m(m({},e.data),t.data),resolve:m(m(m(m({},t.data),e.data),i?.data),t._resolvedData)}:r={params:t.params,data:t.data,resolve:m(m({},t.data),t._resolvedData??{})},i&&Xc(i)&&(r.resolve[vn]=i.title),r}var fn=class{get title(){return this.data?.[vn]}constructor(e,n,r,i,s,o,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Pt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pt(this.queryParams)),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},_r=class extends wr{constructor(e,n){super(n),this.url=e,Ps(this,n)}toString(){return Jc(this._root)}};function Ps(t,e){e.value._routerState=t,e.children.forEach(n=>Ps(t,n))}function Jc(t){let e=t.children.length>0?` { ${t.children.map(Jc).join(", ")} } `:"";return`${t.value}${e}`}function es(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ve(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),ve(e.params,n.params)||t.paramsSubject.next(n.params),xd(e.url,n.url)||t.urlSubject.next(n.url),ve(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function ws(t,e){let n=ve(t.params,e.params)&&$d(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||ws(t.parent,e.parent))}function Xc(t){return typeof t.title=="string"||t.title===null}var ks=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=_,this.activateEvents=new Ae,this.deactivateEvents=new Ae,this.attachEvents=new Ae,this.detachEvents=new Ae,this.parentContexts=h(Sr),this.location=h(ba),this.changeDetector=h($n),this.environmentInjector=h(It),this.inputBinder=h(Ds,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new x(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new x(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new x(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new x(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,c=new Es(r,u,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=xn({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Un]});let t=e;return t})(),Es=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ot?this.route:e===Sr?this.childContexts:this.parent.get(e,n)}},Ds=new k("");function ch(t,e,n){let r=mn(t,e._root,n?n._root:void 0);return new Er(r,e)}function mn(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=uh(t,e,n);return new ne(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>mn(t,a)),o}}let r=lh(e.value),i=e.children.map(s=>mn(t,s));return new ne(r,i)}}function uh(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return mn(t,r,i);return mn(t,r)})}function lh(t){return new ot(new ie(t.url),new ie(t.params),new ie(t.queryParams),new ie(t.fragment),new ie(t.data),t.outlet,t.component,t)}var Zc="ngNavigationCancelingError";function Qc(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=kt(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=eu(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function eu(t,e,n){let r=new Error("NavigationCancelingError: "+(t||""));return r[Zc]=!0,r.cancellationCode=e,n&&(r.url=n),r}function dh(t){return tu(t)&&kt(t.url)}function tu(t){return t&&t[Zc]}var hh=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=fe({type:e,selectors:[["ng-component"]],standalone:!0,features:[ge],decls:1,vars:0,template:function(i,s){i&1&&$(0,"router-outlet")},dependencies:[ks],encapsulation:2});let t=e;return t})();function ph(t,e){return t.providers&&!t._injector&&(t._injector=Ra(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Ns(t){let e=t.children&&t.children.map(Ns),n=e?L(m({},t),{children:e}):m({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==_&&(n.component=hh),n}function ye(t){return t.outlet||_}function fh(t,e){let n=t.filter(r=>ye(r)===e);return n.push(...t.filter(r=>ye(r)!==e)),n}function yn(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var mh=(t,e,n,r)=>E(i=>(new _s(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),_s=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),es(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=At(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=At(e);for(let o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=At(e);for(let o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=At(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new gs(s.value.snapshot))}),e.children.length&&this.forwardEvent(new fs(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(es(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),es(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=yn(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},br=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ot=class{constructor(e,n){this.component=e,this.route=n}};function gh(t,e,n){let r=t._root,i=e?e._root:null;return rn(r,i,n,[r.value])}function vh(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Mt(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!da(t)?t:e.get(t):r}function rn(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=At(e);return t.children.forEach(o=>{yh(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>cn(a,n.getContext(o),i)),i}function yh(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=Ih(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new br(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?rn(t,e,a?a.children:null,r,i):rn(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ot(a.outlet.component,o))}else o&&cn(e,a,i),i.canActivateChecks.push(new br(r)),s.component?rn(t,null,a?a.children:null,r,i):rn(t,null,n,r,i);return i}function Ih(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!it(t.url,e.url);case"pathParamsOrQueryParamsChange":return!it(t.url,e.url)||!ve(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ws(t,e)||!ve(t.queryParams,e.queryParams);case"paramsChange":default:return!ws(t,e)}}function cn(t,e,n){let r=At(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?cn(o,e.children.getContext(s),n):cn(o,null,n):cn(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ot(e.outlet.component,i)):n.canDeactivateChecks.push(new Ot(null,i)):n.canDeactivateChecks.push(new Ot(null,i))}function In(t){return typeof t=="function"}function wh(t){return typeof t=="boolean"}function Eh(t){return t&&In(t.canLoad)}function _h(t){return t&&In(t.canActivate)}function bh(t){return t&&In(t.canActivateChild)}function Th(t){return t&&In(t.canDeactivate)}function Sh(t){return t&&In(t.canMatch)}function nu(t){return t instanceof ta||t?.name==="EmptyError"}var hr=Symbol("INITIAL_VALUE");function Dt(){return V(t=>fi(t.map(e=>e.pipe(Q(1),ua(hr)))).pipe(E(e=>{for(let n of e)if(n!==!0){if(n===hr)return hr;if(n===!1||n instanceof We)return n}return!0}),J(e=>e!==hr),Q(1)))}function Ch(t,e){return se(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?g(L(m({},n),{guardsResult:!0})):Ah(o,r,i,t).pipe(se(a=>a&&wh(a)?Rh(r,s,t,e):g(a)),E(a=>L(m({},n),{guardsResult:a})))})}function Ah(t,e,n,r){return Y(t).pipe(se(i=>Nh(i.component,i.route,n,e,r)),$e(i=>i!==!0,!0))}function Rh(t,e,n,r){return Y(e).pipe(et(i=>Ln(Ph(i.route.parent,r),Oh(i.route,r),Dh(t,i.path,n),kh(t,i.route,n))),$e(i=>i!==!0,!0))}function Oh(t,e){return t!==null&&e&&e(new ms(t)),g(!0)}function Ph(t,e){return t!==null&&e&&e(new ps(t)),g(!0)}function kh(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return g(!0);let i=r.map(s=>gt(()=>{let o=yn(e)??n,a=Mt(s,o),u=_h(a)?a.canActivate(e,t):Ce(o,()=>a(e,t));return Ge(u).pipe($e())}));return g(i).pipe(Dt())}function Dh(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>vh(o)).filter(o=>o!==null).map(o=>gt(()=>{let a=o.guards.map(u=>{let c=yn(o.node)??n,d=Mt(u,c),p=bh(d)?d.canActivateChild(r,t):Ce(c,()=>d(r,t));return Ge(p).pipe($e())});return g(a).pipe(Dt())}));return g(s).pipe(Dt())}function Nh(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return g(!0);let o=s.map(a=>{let u=yn(e)??i,c=Mt(a,u),d=Th(c)?c.canDeactivate(t,e,n,r):Ce(u,()=>c(t,e,n,r));return Ge(d).pipe($e())});return g(o).pipe(Dt())}function Mh(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return g(!0);let s=i.map(o=>{let a=Mt(o,t),u=Eh(a)?a.canLoad(e,n):Ce(t,()=>a(e,n));return Ge(u)});return g(s).pipe(Dt(),ru(r))}function ru(t){return Xo(P(e=>{if(kt(e))throw Qc(t,e)}),E(e=>e===!0))}function Lh(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return g(!0);let s=i.map(o=>{let a=Mt(o,t),u=Sh(a)?a.canMatch(e,n):Ce(t,()=>a(e,n));return Ge(u)});return g(s).pipe(Dt(),ru(r))}var gn=class{constructor(e){this.segmentGroup=e||null}},Tr=class extends Error{constructor(e){super(),this.urlTree=e}};function Ct(t){return Qe(new gn(t))}function xh(t){return Qe(new x(4e3,!1))}function Uh(t){return Qe(eu(!1,3))}var bs=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new x(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return g(r);if(i.numberOfChildren>1||!i.children[_])return xh(e.redirectTo);i=i.children[_]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Tr(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new We(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new R(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new x(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Ts={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Fh(t,e,n,r,i){let s=Ms(t,e,n);return s.matched?(r=ph(e,r),Lh(r,e,n,i).pipe(E(o=>o===!0?s:m({},Ts)))):g(s)}function Ms(t,e,n){if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?m({},Ts):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Ld)(n,t,e);if(!i)return m({},Ts);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?m(m({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Nc(t,e,n,r){return n.length>0&&Vh(t,n,r)?{segmentGroup:new R(e,$h(r,new R(n,t.children))),slicedSegments:[]}:n.length===0&&Hh(t,n,r)?{segmentGroup:new R(t.segments,jh(t,e,n,r,t.children)),slicedSegments:n}:{segmentGroup:new R(t.segments,t.children),slicedSegments:n}}function jh(t,e,n,r,i){let s={};for(let o of r)if(Cr(t,n,o)&&!i[ye(o)]){let a=new R([],{});s[ye(o)]=a}return m(m({},i),s)}function $h(t,e){let n={};n[_]=e;for(let r of t)if(r.path===""&&ye(r)!==_){let i=new R([],{});n[ye(r)]=i}return n}function Vh(t,e,n){return n.some(r=>Cr(t,e,r)&&ye(r)!==_)}function Hh(t,e,n){return n.some(r=>Cr(t,e,r))}function Cr(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function zh(t,e,n,r){return ye(t)!==r&&(r===_||!Cr(e,n,t))?!1:t.path==="**"?!0:Ms(e,t,n).matched}function Wh(t,e,n){return e.length===0&&!t.children[n]}var Ss=class{};function Bh(t,e,n,r,i,s,o="emptyOnly"){return new Cs(t,e,n,r,i,o,s).recognize()}var Gh=31,Cs=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new bs(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new x(4002,!1)}recognize(){let e=Nc(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(E(n=>{let r=new fn([],Object.freeze({}),Object.freeze(m({},this.urlTree.queryParams)),this.urlTree.fragment,{},_,this.rootComponentType,null,{}),i=new ne(r,n),s=new _r("",i),o=eh(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,_).pipe(je(r=>{if(r instanceof Tr)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof gn?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Os(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(E(s=>s instanceof ne?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return Y(i).pipe(et(s=>{let o=r.children[s],a=fh(n,s);return this.processSegmentGroup(e,a,o,s)}),ca((s,o)=>(s.push(...o),s)),yi(null),oa(),se(s=>{if(s===null)return Ct(r);let o=iu(s);return qh(o),g(o)}))}processSegment(e,n,r,i,s,o){return Y(n).pipe(et(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(je(u=>{if(u instanceof gn)return g(null);throw u}))),$e(a=>!!a),je(a=>{if(nu(a))return Wh(r,i,s)?g(new Ss):Ct(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return zh(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Ct(i):Ct(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:u,positionalParamSegments:c,remainingSegments:d}=i.path==="**"?Mc(s):Ms(n,i,s);if(!a)return Ct(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Gh&&(this.allowRedirects=!1));let p=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,c);return this.applyRedirects.lineralizeSegments(i,p).pipe(se(f=>this.processSegment(e,r,n,f.concat(d),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o;return r.path==="**"?(o=g(Mc(i)),n.children={}):o=Fh(n,r,i,e,this.urlSerializer),o.pipe(V(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(V(({routes:u})=>{let c=r._loadedInjector??e,{consumedSegments:d,remainingSegments:p,parameters:f}=a,S=new fn(d,f,Object.freeze(m({},this.urlTree.queryParams)),this.urlTree.fragment,Yh(r),ye(r),r.component??r._loadedComponent??null,r,Jh(r)),{segmentGroup:G,slicedSegments:ce}=Nc(n,d,p,u);if(ce.length===0&&G.hasChildren())return this.processChildren(c,u,G).pipe(E(C=>C===null?null:new ne(S,C)));if(u.length===0&&ce.length===0)return g(new ne(S,[]));let A=ye(r)===s;return this.processSegment(c,u,G,ce,A?_:s,!0).pipe(E(C=>new ne(S,C instanceof ne?[C]:[])))}))):Ct(n)))}getChildConfig(e,n,r){return n.children?g({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?g({routes:n._loadedRoutes,injector:n._loadedInjector}):Mh(e,n,r,this.urlSerializer).pipe(se(i=>i?this.configLoader.loadChildren(e,n).pipe(P(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):Uh(n))):g({routes:[],injector:e})}};function qh(t){t.sort((e,n)=>e.value.outlet===_?-1:n.value.outlet===_?1:e.value.outlet.localeCompare(n.value.outlet))}function Kh(t){let e=t.value.routeConfig;return e&&e.path===""}function iu(t){let e=[],n=new Set;for(let r of t){if(!Kh(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=iu(r.children);e.push(new ne(r.value,i))}return e.filter(r=>!n.has(r))}function Yh(t){return t.data||{}}function Jh(t){return t.resolve||{}}function Mc(t){return{matched:!0,parameters:t.length>0?xc(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Xh(t,e,n,r,i,s){return se(o=>Bh(t,e,n,r,o.extractedUrl,i,s).pipe(E(({state:a,tree:u})=>L(m({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function Zh(t,e){return se(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return g(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let c of su(u))o.add(c);let a=0;return Y(o).pipe(et(u=>s.has(u)?Qh(u,r,t,e):(u.data=Os(u,u.parent,t).resolve,g(void 0))),P(()=>a++),Ii(1),se(u=>a===o.size?g(n):Ze))})}function su(t){let e=t.children.map(n=>su(n)).flat();return[t,...e]}function Qh(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!Xc(i)&&(s[vn]=i.title),ep(s,t,e,r).pipe(E(o=>(t._resolvedData=o,t.data=Os(t,t.parent,n).resolve,null)))}function ep(t,e,n,r){let i=rs(t);if(i.length===0)return g({});let s={};return Y(i).pipe(se(o=>tp(t[o],e,n,r).pipe($e(),P(a=>{s[o]=a}))),Ii(1),ia(s),je(o=>nu(o)?Ze:Qe(o)))}function tp(t,e,n,r){let i=yn(e)??r,s=Mt(t,i),o=s.resolve?s.resolve(e,n):Ce(i,()=>s(e,n));return Ge(o)}function ts(t){return V(e=>{let n=t(e);return n?Y(n).pipe(E(()=>e)):g(e)})}var ou=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===_);return i}getResolvedTitleForRoute(r){return r.data[vn]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:()=>(()=>h(np))(),providedIn:"root"});let t=e;return t})(),np=(()=>{let e=class e extends ou{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(T(Xi))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ls=new k("",{providedIn:"root",factory:()=>({})}),xs=new k("ROUTES"),rp=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=h(Pi)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return g(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Ge(r.loadComponent()).pipe(E(au),P(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),yt(()=>{this.componentLoaders.delete(r)})),s=new di(i,()=>new pe).pipe(li());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return g({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=ip(i,this.compiler,r,this.onLoadEndListener).pipe(yt(()=>{this.childrenLoaders.delete(i)})),a=new di(o,()=>new pe).pipe(li());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ip(t,e,n,r){return Ge(t.loadChildren()).pipe(E(au),se(i=>i instanceof Aa||Array.isArray(i)?g(i):Y(e.compileModuleAsync(i))),E(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(xs,[],{optional:!0,self:!0}).flat()),{routes:o.map(Ns),injector:s}}))}function sp(t){return t&&typeof t=="object"&&"default"in t}function au(t){return sp(t)?t.default:t}var Us=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:()=>(()=>h(op))(),providedIn:"root"});let t=e;return t})(),op=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ap=new k("");var cp=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new pe,this.transitionAbortSubject=new pe,this.configLoader=h(rp),this.environmentInjector=h(It),this.urlSerializer=h(Rs),this.rootContexts=h(Sr),this.location=h(Yn),this.inputBindingEnabled=h(Ds,{optional:!0})!==null,this.titleStrategy=h(ou),this.options=h(Ls,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=h(Us),this.createViewTransition=h(ap,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>g(void 0),this.rootComponentType=null;let r=s=>this.events.next(new ds(s)),i=s=>this.events.next(new hs(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(L(m(m({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new ie({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:an,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(J(o=>o.id!==0),E(o=>L(m({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),V(o=>{this.currentTransition=o;let a=!1,u=!1;return g(o).pipe(P(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?L(m({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),V(c=>{let d=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=c.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!d&&p!=="reload"){let f="";return this.events.next(new st(c.id,this.urlSerializer.serialize(c.rawUrl),f,0)),c.resolve(null),Ze}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return g(c).pipe(V(f=>{let S=this.transitions?.getValue();return this.events.next(new ln(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),S!==this.transitions?.getValue()?Ze:Promise.resolve(f)}),Xh(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),P(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=L(m({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let S=new Ir(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(S)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:f,extractedUrl:S,source:G,restoredState:ce,extras:A}=c,C=new ln(f,this.urlSerializer.serialize(S),G,ce);this.events.next(C);let ue=Yc(S,this.rootComponentType).snapshot;return this.currentTransition=o=L(m({},c),{targetSnapshot:ue,urlAfterRedirects:S,extras:L(m({},A),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=S,g(o)}else{let f="";return this.events.next(new st(c.id,this.urlSerializer.serialize(c.extractedUrl),f,1)),c.resolve(null),Ze}}),P(c=>{let d=new as(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),E(c=>(this.currentTransition=o=L(m({},c),{guards:gh(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),Ch(this.environmentInjector,c=>this.events.next(c)),P(c=>{if(o.guardsResult=c.guardsResult,kt(c.guardsResult))throw Qc(this.urlSerializer,c.guardsResult);let d=new cs(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(d)}),J(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",3),!1)),ts(c=>{if(c.guards.canActivateChecks.length)return g(c).pipe(P(d=>{let p=new us(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}),V(d=>{let p=!1;return g(d).pipe(Zh(this.paramsInheritanceStrategy,this.environmentInjector),P({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(d,"",2)}}))}),P(d=>{let p=new ls(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}))}),ts(c=>{let d=p=>{let f=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(p.routeConfig).pipe(P(S=>{p.component=S}),E(()=>{})));for(let S of p.children)f.push(...d(S));return f};return fi(d(c.targetSnapshot.root)).pipe(yi(),Q(1))}),ts(()=>this.afterPreactivation()),V(()=>{let{currentSnapshot:c,targetSnapshot:d}=o,p=this.createViewTransition?.(this.environmentInjector,c.root,d.root);return p?Y(p).pipe(E(()=>o)):g(o)}),E(c=>{let d=ch(r.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=L(m({},c),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),P(()=>{this.events.next(new hn)}),mh(this.rootContexts,r.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Q(1),P({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new De(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),la(this.transitionAbortSubject.pipe(P(c=>{throw c}))),yt(()=>{if(!a&&!u){let c="";this.cancelNavigationTransition(o,c,1)}this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),je(c=>{if(u=!0,tu(c))this.events.next(new Be(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),dh(c)?this.events.next(new pn(c.url)):o.resolve(!1);else{this.events.next(new dn(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(c))}catch(d){o.reject(d)}}return Ze}))}))}cancelNavigationTransition(r,i,s){let o=new Be(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function up(t){return t!==an}var lp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:()=>(()=>h(dp))(),providedIn:"root"});let t=e;return t})(),As=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},dp=(()=>{let e=class e extends As{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Ei(e)))(s||e)}})(),e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),cu=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:()=>(()=>h(hp))(),providedIn:"root"});let t=e;return t})(),hp=(()=>{let e=class e extends cu{constructor(){super(...arguments),this.location=h(Yn),this.urlSerializer=h(Rs),this.options=h(Ls,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=h(Us),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new We,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Yc(this.currentUrlTree,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof ln)this.stateMemento=this.createStateMemento();else if(r instanceof st)this.rawUrlTree=i.initialUrl;else if(r instanceof Ir){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof hn?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Be&&(r.code===3||r.code===2)?this.restoreHistory(i):r instanceof dn?this.restoreHistory(i,!0):r instanceof De&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=m(m({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=m(m({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Ei(e)))(s||e)}})(),e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),sn=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(sn||{});function pp(t,e){t.events.pipe(J(n=>n instanceof De||n instanceof Be||n instanceof dn||n instanceof st),E(n=>n instanceof De||n instanceof st?sn.COMPLETE:(n instanceof Be?n.code===0||n.code===1:!1)?sn.REDIRECTING:sn.FAILED),J(n=>n!==sn.REDIRECTING),Q(1)).subscribe(()=>{e()})}function fp(t){throw t}var mp={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},gp={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},qe=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=h(Bn),this.stateManager=h(cu),this.options=h(Ls,{optional:!0})||{},this.pendingTasks=h(Gn),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=h(cp),this.urlSerializer=h(Rs),this.location=h(Yn),this.urlHandlingStrategy=h(Us),this._events=new pe,this.errorHandler=this.options.errorHandler||fp,this.navigated=!1,this.routeReuseStrategy=h(lp),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=h(xs,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!h(Ds,{optional:!0}),this.eventsSubscription=new Jo,this.isNgZoneEnabled=h(j)instanceof j&&j.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Be&&i.code!==0&&i.code!==1)this.navigated=!0;else if(i instanceof De)this.navigated=!0;else if(i instanceof pn){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),u={skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||up(s.source)};this.scheduleNavigation(a,an,null,u,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}yp(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),an,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)}))}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let c=m({},s);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Ns),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:u,preserveFragment:c}=i,d=c?this.currentUrlTree.fragment:a,p=null;switch(u){case"merge":p=m(m({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}p!==null&&(p=this.removeEmptyProps(p));let f;try{let S=s?s.snapshot:this.routerState.snapshot.root;f=Bc(S)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),f=this.currentUrlTree.root}return Gc(f,r,p,d??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=kt(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,an,null,i)}navigate(r,i={skipLocationChange:!1}){return vp(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=m({},mp):i===!1?s=m({},gp):s=i,kt(r))return Oc(this.currentUrlTree,r,s);let o=this.parseUrl(r);return Oc(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.keys(r).reduce((i,s)=>{let o=r[s];return o!=null&&(i[s]=o),i},{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let u,c,d;a?(u=a.resolve,c=a.reject,d=a.promise):d=new Promise((f,S)=>{u=f,c=S});let p=this.pendingTasks.add();return pp(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:u,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(f=>Promise.reject(f))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function vp(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new x(4008,!1)}function yp(t){return!(t instanceof hn)&&!(t instanceof pn)}var Nt=(()=>{let e=class e{constructor(r,i,s,o,a,u){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=u,this.href=null,this.commands=null,this.onChanges=new pe,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=r.events.subscribe(d=>{d instanceof De&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){if(this.urlTree===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state};return this.router.navigateByUrl(this.urlTree,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=this.urlTree!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;let r=this.href===null?null:va(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(de(qe),de(ot),ha("tabindex"),de(Ci),de(Si),de(Ni))},e.\u0275dir=xn({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&F("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&Ea("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Kn],skipLocationChange:["skipLocationChange","skipLocationChange",Kn],replaceUrl:["replaceUrl","replaceUrl",Kn],routerLink:"routerLink"},standalone:!0,features:[wa,Un]});let t=e;return t})(),uu=(()=>{let e=class e{get isActive(){return this._isActive}constructor(r,i,s,o,a){this.router=r,this.element=i,this.renderer=s,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Ae,this.routerEventsSubscription=r.events.subscribe(u=>{u instanceof De&&this.update()})}ngAfterContentInit(){g(this.links.changes,g(null)).pipe(mi()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Y(r).pipe(mi()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(s=>!!s)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(r))})}isLinkActive(r){let i=Ip(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>s.urlTree?r.isActive(s.urlTree,i):!1}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};e.\u0275fac=function(i){return new(i||e)(de(qe),de(Si),de(Ci),de($n),de(Nt,8))},e.\u0275dir=xn({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,s,o){if(i&1&&ka(o,Nt,5),i&2){let a;Pa(a=Da())&&(s.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Un]});let t=e;return t})();function Ip(t){return!!t.paths}var wp=new k("");function lu(t,...e){return Se([{provide:xs,multi:!0,useValue:t},[],{provide:ot,useFactory:Ep,deps:[qe]},{provide:ki,multi:!0,useFactory:_p},e.map(n=>n.\u0275providers)])}function Ep(t){return t.routerState.root}function _p(){let t=h(le);return e=>{let n=t.get(Et);if(e!==n.components[0])return;let r=t.get(qe),i=t.get(bp);t.get(Tp)===1&&r.initialNavigation(),t.get(Sp,null,wi.Optional)?.setUpPreloading(),t.get(wp,null,wi.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var bp=new k("",{factory:()=>new pe}),Tp=new k("",{providedIn:"root",factory:()=>1});var Sp=new k("");var du=(()=>{let e=class e{constructor(){this.http=h(ke),this.netApiUrl=h(Ne)}getExerciseLogsv2(){return this.http.get(`${this.netApiUrl}/logs?page=0&count=5`).pipe(E(r=>r.data))}createExerciseLog(r){return this.http.post(`${this.netApiUrl}/logs`,r)}updateExerciseLog(r){return this.http.put(`${this.netApiUrl}/logs/${r.id}`,r)}deleteExerciseLog(r){return this.http.delete(`${this.netApiUrl}/logs/${r}`)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var hu=(()=>{let e=class e{constructor(){this.http=h(ke),this.netApiUrl=h(Ne)}getExercises(){return this.http.get(`${this.netApiUrl}/exercises`).pipe(E(r=>r.data))}createExercise(r){return this.http.post(`${this.netApiUrl}/exercises`,r)}updateExercise(r){return this.http.put(`${this.netApiUrl}/exercises/${r.id}`,r)}deleteExercise(r){return this.http.delete(`${this.netApiUrl}/exercises/${r}`)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Cp(t,e){if(t&1&&(y(0,"div",11),M(1),v()),t&2){let n=e.$implicit;b(1),wt(n.value)}}function Ap(t,e){if(t&1&&(Re(0,Cp,2,1,"div",12,qt),zn(2,"keyvalue")),t&2){let n=D();Oe(Wn(2,0,n.createOrUpdateLogFormGroup.errors==null?null:n.createOrUpdateLogFormGroup.errors.user))}}function Rp(t,e){if(t&1&&(y(0,"div",11),M(1),v()),t&2){let n=e.$implicit;b(1),wt(n.value)}}function Op(t,e){if(t&1&&(Re(0,Rp,2,1,"div",12,qt),zn(2,"keyvalue")),t&2){let n=D();Oe(Wn(2,0,n.createOrUpdateLogFormGroup.errors==null?null:n.createOrUpdateLogFormGroup.errors.exercise))}}function Pp(t,e){if(t&1&&(y(0,"div",13)(1,"span",14),M(2),v(),$(3,"input",15)(4,"input",16),v()),t&2){let n=e.$implicit,r=e.$index;b(2),tt("Serie ",r+1,""),b(1),U("formControl",n.controls.reps),b(1),U("formControl",n.controls.weightInKg)}}function kp(t,e){if(t&1&&(y(0,"div",11),M(1),v()),t&2){let n=e.$implicit;b(1),wt(n.value)}}function Dp(t,e){if(t&1&&(Re(0,kp,2,1,"div",12,qt),zn(2,"keyvalue")),t&2){let n=D();Oe(Wn(2,0,n.createOrUpdateLogFormGroup.errors==null?null:n.createOrUpdateLogFormGroup.errors.series))}}function Np(t,e){}var Mp=t=>({"justify-content-between":t}),Lp=(t,e)=>({"btn-primary":t,"btn-secondary":e}),pu=(()=>{let e=class e{constructor(){this.modal=h(nc),this.exerciseLogService=h(Pe),this.titleCasePipe=h(Zn),this.mode=null,this.createOrUpdateLogFormGroup=null,this.originalValue=null,this.exerciseSelector=r=>typeof r=="string"?"":this.titleCasePipe.transform(r?.name)??""}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=fe({type:e,selectors:[["app-exercise-row-body"]],inputs:{mode:"mode",createOrUpdateLogFormGroup:"createOrUpdateLogFormGroup",originalValue:"originalValue"},standalone:!0,features:[ge],decls:24,vars:19,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"modal-body"],[1,"mb-3"],[1,"input-group"],["placeholder","Username",3,"items","control"],["type","date","placeholder","DD-MM-YYYY","placeholder","Reps",1,"form-control",3,"formControl"],["placeholder","Exercise",3,"items","control","itemSelector"],[1,"modal-footer",3,"ngClass"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn",3,"ngClass","disabled","click"],[1,"d-block","invalid-feedback"],["class","d-block invalid-feedback"],[1,"input-group","mb-3","align-items-center"],[1,"input-group-text"],["type","number","placeholder","Reps",1,"form-control",3,"formControl"],["type","number","placeholder","Kg",1,"form-control",3,"formControl"],["class","input-group mb-3 align-items-center"]],template:function(i,s){i&1&&(y(0,"div",0)(1,"h4",1),M(2),v()(),y(3,"div",2)(4,"form")(5,"div",3)(6,"div",4),$(7,"app-typeahead",5),v(),ee(8,Ap,3,2),v(),y(9,"div",3),$(10,"input",6),v(),y(11,"div",3)(12,"div",4),$(13,"app-typeahead",7),v(),ee(14,Op,3,2),v(),Re(15,Pp,5,3,"div",17,qt),ee(17,Dp,3,2),v()(),y(18,"div",8),ee(19,Np,0,0),y(20,"button",9),F("click",function(){return s.modal.dismiss()}),M(21," Cancel "),v(),y(22,"button",10),F("click",function(){return s.modal.close()}),M(23," Save "),v()()),i&2&&(b(2),tt("",s.mode==="update"?"Edit":"Create"," Log"),b(5),U("items",s.exerciseLogService.usernames)("control",s.createOrUpdateLogFormGroup.controls.user),b(1),X(8,s.createOrUpdateLogFormGroup.controls.user.pristine?-1:8),b(2),U("formControl",s.createOrUpdateLogFormGroup.controls.date),b(3),U("items",s.exerciseLogService.exercises)("control",s.createOrUpdateLogFormGroup.controls.exercise)("itemSelector",s.exerciseSelector),b(1),X(14,s.createOrUpdateLogFormGroup.controls.exercise.pristine?-1:14),b(1),Oe(s.createOrUpdateLogFormGroup.controls.series.controls),b(2),X(17,s.createOrUpdateLogFormGroup.controls.series.pristine?-1:17),b(1),U("ngClass",Hn(14,Mp,s.mode==="update")),b(1),X(19,s.mode==="update"?19:-1),b(3),U("ngClass",Oa(16,Lp,s.createOrUpdateLogFormGroup.valid,s.createOrUpdateLogFormGroup.invalid))("disabled",s.createOrUpdateLogFormGroup.invalid))},dependencies:[Ya,Ba,Va,Ga,Ha,za,qa,Ka,Wa,sc,Xn,ac,Fa],styles:["[_nghost-%COMP%]{--bs-heading-color: white;--bs-modal-color: white;--bs-body-bg: var(--light-bg);--bs-body-color: var(--font-color);--bs-tertiary-bg: var(--primary);--bs-border-width: 0;--bs-modal-footer-border-width: 0;--bs-modal-header-border-width: 0;--bs-modal-header-padding: .5rem}"],changeDetection:0});let t=e;return t})();var Ar=(()=>{let e=class e{constructor(){this.toasts=[]}show(r){this.toasts.push(r)}ok(r){this.show({text:r,type:"success"})}error(r){this.show({text:r??"An error ocurred",type:"danger"})}remove(r){this.toasts=this.toasts.filter(i=>i!==r)}clear(){this.toasts=[]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var mu=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},xp=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},gu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,d=s>>2,p=(s&3)<<4|a>>4,f=(a&15)<<2|c>>6,S=c&63;u||(S=64,o||(f=64)),r.push(n[d],n[p],n[f],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(mu(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):xp(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let c=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||p==null)throw new js;let f=s<<2|a>>4;if(r.push(f),c!==64){let S=a<<4&240|c>>2;if(r.push(S),p!==64){let G=c<<6&192|p;r.push(G)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},js=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Up=function(t){let e=mu(t);return gu.encodeByteArray(e,!0)},Vs=function(t){return Up(t).replace(/\./g,"")},Hs=function(t){try{return gu.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Fp(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var jp=()=>Fp().__FIREBASE_DEFAULTS__,$p=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Vp=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Hs(t[1]);return e&&JSON.parse(e)},zs=()=>{try{return jp()||$p()||Vp()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},vu=t=>{var e,n;return(n=(e=zs())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]};var Ws=()=>{var t;return(t=zs())===null||t===void 0?void 0:t.config},Bs=t=>{var e;return(e=zs())===null||e===void 0?void 0:e[`_${t}`]};var Rr=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function W(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yu(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(W())}function Iu(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function wu(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Eu(){let t=W();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _u(){try{return typeof indexedDB=="object"}catch{return!1}}function bu(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var Hp="FirebaseError",he=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Hp,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Me.prototype.create)}},Me=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?zp(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new he(i,a,r)}};function zp(t,e){return t.replace(Wp,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Wp=/\{\$([^}]+)}/g;function Tu(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Lt(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(fu(s)&&fu(o)){if(!Lt(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function fu(t){return t!==null&&typeof t=="object"}function xt(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Su(t,e){let n=new $s(t,e);return n.subscribe.bind(n)}var $s=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Bp(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Fs),i.error===void 0&&(i.error=Fs),i.complete===void 0&&(i.complete=Fs);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Bp(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Fs(){}var ZI=4*60*60*1e3;function Ke(t){return t&&t._delegate?t._delegate:t}var Ie=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var at="[DEFAULT]";var Gs=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Rr;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qp(e))try{this.getOrInitializeService({instanceIdentifier:at})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=at){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return l(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=at){return this.instances.has(e)}getOptions(e=at){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Gp(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=at){return this.component?this.component.multipleInstances?e:at:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Gp(t){return t===at?void 0:t}function qp(t){return t.instantiationMode==="EAGER"}var Or=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Gs(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var Kp=[],N=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(N||{}),Yp={debug:N.DEBUG,verbose:N.VERBOSE,info:N.INFO,warn:N.WARN,error:N.ERROR,silent:N.SILENT},Jp=N.INFO,Xp={[N.DEBUG]:"log",[N.VERBOSE]:"log",[N.INFO]:"info",[N.WARN]:"warn",[N.ERROR]:"error"},Zp=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=Xp[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Ut=class{constructor(e){this.name=e,this._logLevel=Jp,this._logHandler=Zp,this._userLogHandler=null,Kp.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in N))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Yp[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,N.DEBUG,...e),this._logHandler(this,N.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,N.VERBOSE,...e),this._logHandler(this,N.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,N.INFO,...e),this._logHandler(this,N.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,N.WARN,...e),this._logHandler(this,N.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,N.ERROR,...e),this._logHandler(this,N.ERROR,...e)}};var Qp=(t,e)=>e.some(n=>t instanceof n),Cu,Au;function ef(){return Cu||(Cu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tf(){return Au||(Au=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Ru=new WeakMap,Ks=new WeakMap,Ou=new WeakMap,qs=new WeakMap,Js=new WeakMap;function nf(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(we(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Ru.set(n,t)}).catch(()=>{}),Js.set(e,t),e}function rf(t){if(Ks.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Ks.set(t,e)}var Ys={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ks.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ou.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return we(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Pu(t){Ys=t(Ys)}function sf(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Pr(this),e,...n);return Ou.set(r,e.sort?e.sort():[e]),we(r)}:tf().includes(t)?function(...e){return t.apply(Pr(this),e),we(Ru.get(this))}:function(...e){return we(t.apply(Pr(this),e))}}function of(t){return typeof t=="function"?sf(t):(t instanceof IDBTransaction&&rf(t),Qp(t,ef())?new Proxy(t,Ys):t)}function we(t){if(t instanceof IDBRequest)return nf(t);if(qs.has(t))return qs.get(t);let e=of(t);return e!==t&&(qs.set(t,e),Js.set(e,t)),e}var Pr=t=>Js.get(t);function Du(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=we(o);return r&&o.addEventListener("upgradeneeded",u=>{r(we(o.result),u.oldVersion,u.newVersion,we(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}var af=["get","getKey","getAll","getAllKeys","count"],cf=["put","add","delete","clear"],Xs=new Map;function ku(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Xs.get(e))return Xs.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=cf.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||af.includes(n)))return;let s=function(o,...a){return l(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),c=u.store;return r&&(c=c.index(a.shift())),(yield Promise.all([c[n](...a),i&&u.done]))[0]})};return Xs.set(e,s),s}Pu(t=>L(m({},t),{get:(e,n,r)=>ku(e,n)||t.get(e,n,r),has:(e,n)=>!!ku(e,n)||t.has(e,n)}));var Qs=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(uf(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function uf(t){let e=t.getComponent();return e?.type==="VERSION"}var eo="@firebase/app",Nu="0.9.28";var ct=new Ut("@firebase/app"),lf="@firebase/app-compat",df="@firebase/analytics-compat",hf="@firebase/analytics",pf="@firebase/app-check-compat",ff="@firebase/app-check",mf="@firebase/auth",gf="@firebase/auth-compat",vf="@firebase/database",yf="@firebase/database-compat",If="@firebase/functions",wf="@firebase/functions-compat",Ef="@firebase/installations",_f="@firebase/installations-compat",bf="@firebase/messaging",Tf="@firebase/messaging-compat",Sf="@firebase/performance",Cf="@firebase/performance-compat",Af="@firebase/remote-config",Rf="@firebase/remote-config-compat",Of="@firebase/storage",Pf="@firebase/storage-compat",kf="@firebase/firestore",Df="@firebase/firestore-compat",Nf="firebase",Mf="10.8.1";var to="[DEFAULT]",Lf={[eo]:"fire-core",[lf]:"fire-core-compat",[hf]:"fire-analytics",[df]:"fire-analytics-compat",[ff]:"fire-app-check",[pf]:"fire-app-check-compat",[mf]:"fire-auth",[gf]:"fire-auth-compat",[vf]:"fire-rtdb",[yf]:"fire-rtdb-compat",[If]:"fire-fn",[wf]:"fire-fn-compat",[Ef]:"fire-iid",[_f]:"fire-iid-compat",[bf]:"fire-fcm",[Tf]:"fire-fcm-compat",[Sf]:"fire-perf",[Cf]:"fire-perf-compat",[Af]:"fire-rc",[Rf]:"fire-rc-compat",[Of]:"fire-gcs",[Pf]:"fire-gcs-compat",[kf]:"fire-fst",[Df]:"fire-fst-compat","fire-js":"fire-js",[Nf]:"fire-js-all"};var wn=new Map,no=new Map;function xf(t,e){try{t.container.addComponent(e)}catch(n){ct.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ft(t){let e=t.name;if(no.has(e))return ct.debug(`There were multiple attempts to register component ${e}.`),!1;no.set(e,t);for(let n of wn.values())xf(n,t);return!0}function oo(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var Uf={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ye=new Me("app","Firebase",Uf);var ro=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ie("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ye.create("app-deleted",{appName:this._name})}};var jt=Mf;function ao(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:to,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ye.create("bad-app-name",{appName:String(i)});if(n||(n=Ws()),!n)throw Ye.create("no-options");let s=wn.get(i);if(s){if(Lt(n,s.options)&&Lt(r,s.config))return s;throw Ye.create("duplicate-app",{appName:i})}let o=new Or(i);for(let u of no.values())o.addComponent(u);let a=new ro(n,r,o);return wn.set(i,a),a}function kr(t=to){let e=wn.get(t);if(!e&&t===to&&Ws())return ao();if(!e)throw Ye.create("no-app",{appName:t});return e}function Dr(){return Array.from(wn.values())}function Z(t,e,n){var r;let i=(r=Lf[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ct.warn(a.join(" "));return}Ft(new Ie(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Ff="firebase-heartbeat-database",jf=1,En="firebase-heartbeat-store",Zs=null;function Uu(){return Zs||(Zs=Du(Ff,jf,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(En)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ye.create("idb-open",{originalErrorMessage:t.message})})),Zs}function $f(t){return l(this,null,function*(){try{let n=(yield Uu()).transaction(En),r=yield n.objectStore(En).get(Fu(t));return yield n.done,r}catch(e){if(e instanceof he)ct.warn(e.message);else{let n=Ye.create("idb-get",{originalErrorMessage:e?.message});ct.warn(n.message)}}})}function Mu(t,e){return l(this,null,function*(){try{let r=(yield Uu()).transaction(En,"readwrite");yield r.objectStore(En).put(e,Fu(t)),yield r.done}catch(n){if(n instanceof he)ct.warn(n.message);else{let r=Ye.create("idb-set",{originalErrorMessage:n?.message});ct.warn(r.message)}}})}function Fu(t){return`${t.name}!${t.options.appId}`}var Vf=1024,Hf=30*24*60*60*1e3,io=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new so(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return l(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Lu();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=Hf}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return l(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=Lu(),{heartbeatsToSend:r,unsentEntries:i}=zf(this._heartbeatsCache.heartbeats),s=Vs(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function Lu(){return new Date().toISOString().substring(0,10)}function zf(t,e=Vf){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),xu(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),xu(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var so=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return l(this,null,function*(){return _u()?bu().then(()=>!0).catch(()=>!1):!1})}read(){return l(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield $f(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return l(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Mu(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return l(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Mu(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function xu(t){return Vs(JSON.stringify({version:2,heartbeats:t})).length}function Wf(t){Ft(new Ie("platform-logger",e=>new Qs(e),"PRIVATE")),Ft(new Ie("heartbeat",e=>new io(e),"PRIVATE")),Z(eo,Nu,t),Z(eo,Nu,"esm2017"),Z("fire-js","")}Wf("");var Bf="firebase",Gf="10.8.1";Z(Bf,Gf,"app");var _n=new jn("ANGULARFIRE2_VERSION");function ju(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var uo=(t,e)=>{let n=e?[e]:Dr(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Nr=class{constructor(){return uo(qf)}},qf="app-check";function $t(){}var Mr=class{zone;delegate;constructor(e,n=Qo){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},co=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$t,{},$t,$t)),n.pipe(P({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Lr=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Mr(Zone.current)),this.insideAngular=n.run(()=>new Mr(Zone.current,Zo)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(T(j))};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function xr(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Kf(t){return xr().ngZone.runOutsideAngular(()=>t())}function ut(t){return xr().ngZone.run(()=>t())}function Yf(t){return Jf(xr())(t)}function Jf(t){return function(n){return n=n.lift(new co(t.ngZone)),n.pipe(pi(t.outsideAngular),hi(t.insideAngular))}}var Xf=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),ut(()=>t.apply(void 0,r))},bn=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=ut(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$t,{},$t,$t))),r[s]=Xf(r[s],n));let i=Kf(()=>t.apply(this,r));if(!e)if(i instanceof Wt){let s=xr();return i.pipe(pi(s.outsideAngular),hi(s.insideAngular))}else return ut(()=>i);return i instanceof Wt?i.pipe(Yf):i instanceof Promise?ut(()=>new Promise((s,o)=>i.then(a=>ut(()=>s(a)),a=>ut(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:ut(()=>i)};var lt=class{constructor(e){return e}},Tn=class{constructor(){return Dr()}};function Zf(t){return t&&t.length===1?t[0]:new lt(kr())}var lo=new k("angularfire2._apps"),Qf={provide:lt,useFactory:Zf,deps:[[new Te,lo]]},em={provide:Tn,deps:[[new Te,lo]]};function tm(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new lt(r)}}var nm=(()=>{class t{constructor(n){Z("angularfire",_n.full,"core"),Z("angularfire",_n.full,"app"),Z("angular",ya.full,n.toString())}static \u0275fac=function(r){return new(r||t)(T(oe))};static \u0275mod=He({type:t});static \u0275inj=Ve({providers:[Qf,em]})}return t})();function $u(t,...e){return{ngModule:nm,providers:[{provide:lo,useFactory:tm(t),multi:!0,deps:[j,le,Lr,...e]}]}}var Vu=bn(ao,!0);function tl(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var nl=tl,rl=new Me("auth","Firebase",tl());var Hr=new Ut("@firebase/auth");function rm(t,...e){Hr.logLevel<=N.WARN&&Hr.warn(`Auth (${jt}): ${t}`,...e)}function Fr(t,...e){Hr.logLevel<=N.ERROR&&Hr.error(`Auth (${jt}): ${t}`,...e)}function be(t,...e){throw Ro(t,...e)}function Ee(t,...e){return Ro(t,...e)}function il(t,e,n){let r=Object.assign(Object.assign({},nl()),{[e]:n});return new Me("auth","Firebase",r).create(e,{appName:t.name})}function im(t,e,n){let r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&be(t,"argument-error"),il(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ro(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return rl.create(t,...e)}function w(t,e,...n){if(!t)throw Ro(e,...n)}function Le(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Fr(e),new Error(e)}function Ue(t,e){t||Le(e)}function fo(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function sm(){return Hu()==="http:"||Hu()==="https:"}function Hu(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function om(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sm()||Iu()||"connection"in navigator)?navigator.onLine:!0}function am(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var dt=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ue(n>e,"Short delay should be less than long delay!"),this.isMobile=yu()||wu()}get(){return om()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Oo(t,e){Ue(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var zr=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Le("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Le("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Le("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var cm={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var um=new dt(3e4,6e4);function Po(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Ht(s,o,a,u){return l(this,arguments,function*(t,e,n,r,i={}){return sl(t,i,()=>l(this,null,function*(){let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});let p=xt(Object.assign({key:t.config.apiKey},d)).slice(1),f=yield t._getAdditionalHeaders();return f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode),zr.fetch()(ol(t,t.config.apiHost,n,p),Object.assign({method:e,headers:f,referrerPolicy:"no-referrer"},c))}))})}function sl(t,e,n){return l(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},cm),e);try{let i=new mo(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Ur(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ur(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Ur(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Ur(t,"user-disabled",o);let d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw il(t,d,c);be(t,d)}}catch(i){if(i instanceof he)throw i;be(t,"network-request-failed",{message:String(i)})}})}function lm(s,o,a,u){return l(this,arguments,function*(t,e,n,r,i={}){let c=yield Ht(t,e,n,r,i);return"mfaPendingCredential"in c&&be(t,"multi-factor-auth-required",{_serverResponse:c}),c})}function ol(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Oo(t.config,i):`${t.config.apiScheme}://${i}`}var mo=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ee(this.auth,"network-request-failed")),um.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Ur(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Ee(t,e,r);return i.customData._tokenResponse=n,i}function dm(t,e){return l(this,null,function*(){return Ht(t,"POST","/v1/accounts:delete",e)})}function hm(t,e){return l(this,null,function*(){return Ht(t,"POST","/v1/accounts:lookup",e)})}function Sn(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function ko(t,e=!1){return l(this,null,function*(){let n=Ke(t),r=yield n.getIdToken(e),i=Do(r);w(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Sn(ho(i.auth_time)),issuedAtTime:Sn(ho(i.iat)),expirationTime:Sn(ho(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function ho(t){return Number(t)*1e3}function Do(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Fr("JWT malformed, contained fewer than 3 sections"),null;try{let i=Hs(n);return i?JSON.parse(i):(Fr("Failed to decode base64 JWT payload"),null)}catch(i){return Fr("Caught error parsing JWT payload as JSON",i?.toString()),null}}function pm(t){let e=Do(t);return w(e,"internal-error"),w(typeof e.exp<"u","internal-error"),w(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Cn(t,e,n=!1){return l(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof he&&fm(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function fm({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var go=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>l(this,null,function*(){yield this.iteration()}),n)}iteration(){return l(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Wr=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sn(this.lastLoginAt),this.creationTime=Sn(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Br(t){return l(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Cn(t,hm(n,{idToken:r}));w(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?gm(s.providerUserInfo):[],a=mm(t.providerData,o),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!a?.length,d=u?c:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Wr(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,p)})}function No(t){return l(this,null,function*(){let e=Ke(t);yield Br(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function mm(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function gm(t){return t.map(e=>{var{providerId:n}=e,r=Nn(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function vm(t,e){return l(this,null,function*(){let n=yield sl(t,{},()=>l(this,null,function*(){let r=xt({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=ol(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",zr.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function ym(t,e){return l(this,null,function*(){return Ht(t,"POST","/v2/accounts:revokeToken",Po(t,e))})}var Gr=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){w(e.idToken,"internal-error"),w(typeof e.idToken<"u","internal-error"),w(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pm(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return l(this,null,function*(){return w(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return l(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield vm(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(w(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(w(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(w(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Le("not implemented")}};function Je(t,e){w(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var An=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Nn(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new go(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Wr(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return l(this,null,function*(){let n=yield Cn(this,this.stsTokenManager.getToken(this.auth,e));return w(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return ko(this,e)}reload(){return No(this)}_assign(e){this!==e&&(w(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){w(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return l(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Br(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return l(this,null,function*(){let e=yield this.getIdToken();return yield Cn(this,dm(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,d;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,S=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,G=(o=n.photoURL)!==null&&o!==void 0?o:void 0,ce=(a=n.tenantId)!==null&&a!==void 0?a:void 0,A=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,C=(c=n.createdAt)!==null&&c!==void 0?c:void 0,ue=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:ft,emailVerified:H,isAnonymous:mt,providerData:zt,stsTokenManager:Dn}=n;w(ft&&Dn,e,"internal-error");let jl=Gr.fromJSON(this.name,Dn);w(typeof ft=="string",e,"internal-error"),Je(p,e.name),Je(f,e.name),w(typeof H=="boolean",e,"internal-error"),w(typeof mt=="boolean",e,"internal-error"),Je(S,e.name),Je(G,e.name),Je(ce,e.name),Je(A,e.name),Je(C,e.name),Je(ue,e.name);let ui=new t({uid:ft,auth:e,email:f,emailVerified:H,displayName:p,isAnonymous:mt,photoURL:G,phoneNumber:S,tenantId:ce,stsTokenManager:jl,createdAt:C,lastLoginAt:ue});return zt&&Array.isArray(zt)&&(ui.providerData=zt.map($l=>Object.assign({},$l))),A&&(ui._redirectEventId=A),ui}static _fromIdTokenResponse(e,n,r=!1){return l(this,null,function*(){let i=new Gr;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Br(s),s})}};var zu=new Map;function xe(t){Ue(t instanceof Function,"Expected a class definition");let e=zu.get(t);return e?(Ue(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,zu.set(t,e),e)}var Im=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return l(this,null,function*(){return!0})}_set(n,r){return l(this,null,function*(){this.storage[n]=r})}_get(n){return l(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return l(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),vo=Im;function jr(t,e,n){return`firebase:${t}:${e}:${n}`}var qr=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=jr(this.userKey,i.apiKey,s),this.fullPersistenceKey=jr("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return l(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?An._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return l(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return l(this,null,function*(){if(!n.length)return new t(xe(vo),e,r);let i=(yield Promise.all(n.map(c=>l(this,null,function*(){if(yield c._isAvailable())return c})))).filter(c=>c),s=i[0]||xe(vo),o=jr(r,e.config.apiKey,e.name),a=null;for(let c of n)try{let d=yield c._get(o);if(d){let p=An._fromJSON(e,d);c!==s&&(a=p),s=c;break}}catch{}let u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(c=>l(this,null,function*(){if(c!==s)try{yield c._remove(o)}catch{}}))),new t(s,e,r))})}};function Wu(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ul(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(al(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(dl(e))return"Blackberry";if(hl(e))return"Webos";if(Mo(e))return"Safari";if((e.includes("chrome/")||cl(e))&&!e.includes("edge/"))return"Chrome";if(ll(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function al(t=W()){return/firefox\//i.test(t)}function Mo(t=W()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cl(t=W()){return/crios\//i.test(t)}function ul(t=W()){return/iemobile/i.test(t)}function ll(t=W()){return/android/i.test(t)}function dl(t=W()){return/blackberry/i.test(t)}function hl(t=W()){return/webos/i.test(t)}function ni(t=W()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function wm(t=W()){var e;return ni(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Em(){return Eu()&&document.documentMode===10}function pl(t=W()){return ni(t)||ll(t)||hl(t)||dl(t)||/windows phone/i.test(t)||ul(t)}function _m(){try{return!!(window&&window!==window.top)}catch{return!1}}function fl(t,e=[]){let n;switch(t){case"Browser":n=Wu(W());break;case"Worker":n=`${Wu(W())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${jt}/${r}`}var yo=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return l(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function bm(n){return l(this,arguments,function*(t,e={}){return Ht(t,"GET","/v2/passwordPolicy",Po(t,e))})}var Tm=6,Io=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Tm,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var wo=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kr(this),this.idTokenSubscription=new Kr(this),this.beforeStateQueue=new yo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rl,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=xe(n)),this._initializationPromise=this.queue(()=>l(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield qr.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return l(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return l(this,null,function*(){var n;let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return w(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return l(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return l(this,null,function*(){try{yield Br(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=am()}_delete(){return l(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return l(this,null,function*(){let n=e?Ke(e):null;return n&&w(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return l(this,null,function*(){if(!this._deleted)return e&&w(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>l(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return l(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>l(this,null,function*(){yield this.assertedPersistence.setPersistence(xe(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return l(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return l(this,null,function*(){let e=yield bm(this),n=new Io(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Me("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return l(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield ym(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return l(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return l(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&xe(e)||this._popupRedirectResolver;w(n,this,"argument-error"),this.redirectPersistenceManager=yield qr.create(this,[xe(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return l(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>l(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return l(this,null,function*(){if(e===this.currentUser)return this.queue(()=>l(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(w(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return l(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return w(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fl(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return l(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return l(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&rm(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function ri(t){return Ke(t)}var Kr=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Su(n=>this.observer=n)}get next(){return w(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Lo={loadJS(){return l(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Sm(t){Lo=t}function Cm(t){return Lo.loadJS(t)}function Am(){return Lo.gapiScript}function ml(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function xo(t,e){let n=oo(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(Lt(s,e??{}))return i;be(i,"already-initialized")}return n.initialize({options:e})}function Rm(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(xe);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Uo(t,e,n){let r=ri(t);w(r._canInitEmulator,r,"emulator-config-failed"),w(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=gl(e),{host:o,port:a}=Om(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Pm()}function gl(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Om(t){let e=gl(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:Bu(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:Bu(o)}}}function Bu(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function Pm(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Rn=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Le("not implemented")}_getIdTokenResponse(e){return Le("not implemented")}_linkToIdToken(e,n){return Le("not implemented")}_getReauthenticationResolver(e){return Le("not implemented")}};function Vt(t,e){return l(this,null,function*(){return lm(t,"POST","/v1/accounts:signInWithIdp",Po(t,e))})}var km="http://localhost",Yr=class t extends Rn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):be("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Nn(n,["providerId","signInMethod"]);if(!r||!i)return null;let o=new t(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){let n=this.buildRequest();return Vt(e,n)}_linkToIdToken(e,n){let r=this.buildRequest();return r.idToken=n,Vt(e,r)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,Vt(e,n)}buildRequest(){let e={requestUri:km,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=xt(n)}return e}};var On=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Jr=class extends On{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var ii=(()=>{class t extends Jr{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return Yr._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})();var Pn=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return l(this,null,function*(){let s=yield An._fromIdTokenResponse(e,r,i),o=Gu(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return l(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=Gu(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function Gu(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Eo=class t extends he{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function vl(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Eo._fromErrorAndOperation(t,s,e,r):s})}function Dm(t,e,n=!1){return l(this,null,function*(){let r=yield Cn(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Pn._forOperation(t,"link",r)})}function Nm(t,e,n=!1){return l(this,null,function*(){let{auth:r}=t,i="reauthenticate";try{let s=yield Cn(t,vl(r,i,e,t),n);w(s.idToken,r,"internal-error");let o=Do(s.idToken);w(o,r,"internal-error");let{sub:a}=o;return w(t.uid===a,r,"user-mismatch"),Pn._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&be(r,"user-mismatch"),s}})}function Mm(t,e,n=!1){return l(this,null,function*(){let r="signIn",i=yield vl(t,r,e),s=yield Pn._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function Fo(t,e,n,r){return Ke(t).onIdTokenChanged(e,n,r)}function jo(t,e,n){return Ke(t).beforeAuthStateChanged(e,n)}function $o(t){return Ke(t).signOut()}var Xr="__sak";var Zr=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Xr,"1"),this.storage.removeItem(Xr),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function Lm(){let t=W();return Mo(t)||ni(t)}var xm=1e3,Um=10,Fm=(()=>{class t extends Zr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Lm()&&_m(),this.fallbackToPolling=pl(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);Em()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,Um):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},xm)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return l(this,null,function*(){yield Xe(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return l(this,null,function*(){let r=yield Xe(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return l(this,null,function*(){yield Xe(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),yl=Fm;var jm=(()=>{class t extends Zr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Vo=jm;function $m(t){return Promise.all(t.map(e=>l(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var Vm=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return l(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(a).map(d=>l(this,null,function*(){return d(r.origin,o)})),c=yield $m(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:c})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function Ho(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var _o=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return l(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{let c=Ho("",20);i.port1.start();let d=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){let f=p;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function _e(){return window}function Hm(t){_e().location.href=t}function Il(){return typeof _e().WorkerGlobalScope<"u"&&typeof _e().importScripts=="function"}function zm(){return l(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function Wm(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Bm(){return Il()?self:null}var wl="firebaseLocalStorageDb",Gm=1,Qr="firebaseLocalStorage",El="fbase_key",ht=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function si(t,e){return t.transaction([Qr],e?"readwrite":"readonly").objectStore(Qr)}function qm(){let t=indexedDB.deleteDatabase(wl);return new ht(t).toPromise()}function bo(){let t=indexedDB.open(wl,Gm);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Qr,{keyPath:El})}catch(i){n(i)}}),t.addEventListener("success",()=>l(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Qr)?e(r):(r.close(),yield qm(),e(yield bo()))}))})}function qu(t,e,n){return l(this,null,function*(){let r=si(t,!0).put({[El]:e,value:n});return new ht(r).toPromise()})}function Km(t,e){return l(this,null,function*(){let n=si(t,!1).get(e),r=yield new ht(n).toPromise();return r===void 0?null:r.value})}function Ku(t,e){let n=si(t,!0).delete(e);return new ht(n).toPromise()}var Ym=800,Jm=3,Xm=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return l(this,null,function*(){return this.db?this.db:(this.db=yield bo(),this.db)})}_withRetries(n){return l(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>Jm)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return l(this,null,function*(){return Il()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return l(this,null,function*(){this.receiver=Vm._getInstance(Bm()),this.receiver._subscribe("keyChanged",(n,r)=>l(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>l(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return l(this,null,function*(){var n,r;if(this.activeServiceWorker=yield zm(),!this.activeServiceWorker)return;this.sender=new _o(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return l(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||Wm()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return l(this,null,function*(){try{if(!indexedDB)return!1;let n=yield bo();return yield qu(n,Xr,"1"),yield Ku(n,Xr),!0}catch{}return!1})}_withPendingWrite(n){return l(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return l(this,null,function*(){return this._withPendingWrite(()=>l(this,null,function*(){return yield this._withRetries(i=>qu(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return l(this,null,function*(){let r=yield this._withRetries(i=>Km(i,n));return this.localCache[n]=r,r})}_remove(n){return l(this,null,function*(){return this._withPendingWrite(()=>l(this,null,function*(){return yield this._withRetries(r=>Ku(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return l(this,null,function*(){let n=yield this._withRetries(s=>{let o=si(s,!1).getAll();return new ht(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>l(this,null,function*(){return this._poll()}),Ym)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),_l=Xm;var Ww=ml("rcb"),Bw=new dt(3e4,6e4);function bl(t,e){return e?xe(e):(w(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var kn=class extends Rn{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vt(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Vt(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Vt(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function Zm(t){return Mm(t.auth,new kn(t),t.bypassAuthState)}function Qm(t){let{auth:e,user:n}=t;return w(n,e,"internal-error"),Nm(n,new kn(t),t.bypassAuthState)}function eg(t){return l(this,null,function*(){let{auth:e,user:n}=t;return w(n,e,"internal-error"),Dm(n,new kn(t),t.bypassAuthState)})}var ei=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>l(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return l(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(c){this.reject(c)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Zm;case"linkViaPopup":case"linkViaRedirect":return eg;case"reauthViaPopup":case"reauthViaRedirect":return Qm;default:be(this.auth,"internal-error")}}resolve(e){Ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var tg=new dt(2e3,1e4);function oi(t,e,n){return l(this,null,function*(){let r=ri(t);im(t,e,On);let i=bl(r,n);return new ng(r,"signInViaPopup",e,i).executeNotNull()})}var ng=(()=>{class t extends ei{constructor(n,r,i,s,o){super(n,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){return l(this,null,function*(){let n=yield this.execute();return w(n,this.auth,"internal-error"),n})}onExecution(){return l(this,null,function*(){Ue(this.filter.length===1,"Popup operations only handle one event");let n=Ho();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Ee(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var n;return((n=this.authWindow)===null||n===void 0?void 0:n.associatedEvent)||null}cancel(){this.reject(Ee(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let n=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ee(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,tg.get())};n()}}t.currentPopupAction=null;return t})(),rg="pendingRedirect",$r=new Map,To=class t extends ei{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return l(this,null,function*(){let e=$r.get(this.auth._key());if(!e){try{let r=(yield ig(this.resolver,this.auth))?yield Xe(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}$r.set(this.auth._key(),e)}return this.bypassAuthState||$r.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return l(this,null,function*(){if(e.type==="signInViaRedirect")return Xe(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Xe(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return l(this,null,function*(){})}cleanUp(){}};function ig(t,e){return l(this,null,function*(){let n=ag(e),r=og(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function sg(t,e){$r.set(t._key(),e)}function og(t){return xe(t._redirectPersistence)}function ag(t){return jr(rg,t.config.apiKey,t.name)}function cg(t,e,n=!1){return l(this,null,function*(){let r=ri(t),i=bl(r,e),o=yield new To(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var ug=10*60*1e3,So=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!lg(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Tl(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ee(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ug&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yu(e))}saveEventToCache(e){this.cachedEventUids.add(Yu(e)),this.lastProcessedEventTime=Date.now()}};function Yu(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Tl({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function lg(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Tl(t);default:return!1}}function dg(n){return l(this,arguments,function*(t,e={}){return Ht(t,"GET","/v1/projects",e)})}var hg=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pg=/^https?/;function fg(t){return l(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield dg(t);for(let n of e)try{if(mg(n))return}catch{}be(t,"unauthorized-domain")})}function mg(t){let e=fo(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!pg.test(n))return!1;if(hg.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var gg=new dt(3e4,6e4);function Ju(){let t=_e().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function vg(t){return new Promise((e,n)=>{var r,i,s;function o(){Ju(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ju(),n(Ee(t,"network-request-failed"))},timeout:gg.get()})}if(!((i=(r=_e().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=_e().gapi)===null||s===void 0)&&s.load)o();else{let a=ml("iframefcb");return _e()[a]=()=>{gapi.load?o():n(Ee(t,"network-request-failed"))},Cm(`${Am()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Vr=null,e})}var Vr=null;function yg(t){return Vr=Vr||vg(t),Vr}var Ig=new dt(5e3,15e3),wg="__/auth/iframe",Eg="emulator/auth/iframe",_g={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Tg(t){let e=t.config;w(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Oo(e,Eg):`https://${t.config.authDomain}/${wg}`,r={apiKey:e.apiKey,appName:t.name,v:jt},i=bg.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${xt(r).slice(1)}`}function Sg(t){return l(this,null,function*(){let e=yield yg(t),n=_e().gapi;return w(n,t,"internal-error"),e.open({where:document.body,url:Tg(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_g,dontclear:!0},r=>new Promise((i,s)=>l(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Ee(t,"network-request-failed"),a=_e().setTimeout(()=>{s(o)},Ig.get());function u(){_e().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var Cg={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ag=500,Rg=600,Og="_blank",Pg="http://localhost",ti=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function kg(t,e,n,r=Ag,i=Rg){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},Cg),{width:r.toString(),height:i.toString(),top:s,left:o}),c=W().toLowerCase();n&&(a=cl(c)?Og:n),al(c)&&(e=e||Pg,u.scrollbars="yes");let d=Object.entries(u).reduce((f,[S,G])=>`${f}${S}=${G},`,"");if(wm(c)&&a!=="_self")return Dg(e||"",a),new ti(null);let p=window.open(e||"",a,d);w(p,t,"popup-blocked");try{p.focus()}catch{}return new ti(p)}function Dg(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Ng="__/auth/handler",Mg="emulator/auth/handler",Lg=encodeURIComponent("fac");function Xu(t,e,n,r,i,s){return l(this,null,function*(){w(t.config.authDomain,t,"auth-domain-config-required"),w(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:jt,eventId:i};if(e instanceof On){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Tu(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,p]of Object.entries(s||{}))o[d]=p}if(e instanceof Jr){let d=e.getScopes().filter(p=>p!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let u=yield t._getAppCheckToken(),c=u?`#${Lg}=${encodeURIComponent(u)}`:"";return`${xg(t)}?${xt(a).slice(1)}${c}`})}function xg({config:t}){return t.emulator?Oo(t,Mg):`https://${t.authDomain}/${Ng}`}var po="webStorageSupport",Co=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vo,this._completeRedirectFn=cg,this._overrideRedirectResult=sg}_openPopup(e,n,r,i){return l(this,null,function*(){var s;Ue((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield Xu(e,n,r,fo(),i);return kg(e,o,Ho())})}_openRedirect(e,n,r,i){return l(this,null,function*(){yield this._originValidation(e);let s=yield Xu(e,n,r,fo(),i);return Hm(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ue(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return l(this,null,function*(){let n=yield Sg(e),r=new So(e);return n.register("authEvent",i=>(w(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(po,{type:po},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[po];o!==void 0&&n(!!o),be(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=fg(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return pl()||Mo()||ni()}},Sl=Co;var Zu="@firebase/auth",Qu="1.6.1";var Ao=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return l(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){w(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Ug(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Fg(t){Ft(new Ie("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;w(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fl(t)},c=new wo(r,i,s,u);return Rm(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ft(new Ie("auth-internal",e=>{let n=ri(e.getProvider("auth").getImmediate());return(r=>new Ao(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Z(Zu,Qu,Ug(t)),Z(Zu,Qu,"esm2017")}var jg=5*60,$g=Bs("authIdTokenMaxAge")||jg,el=null,Vg=t=>e=>l(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>$g)return;let i=n?.token;el!==i&&(el=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function zo(t=kr()){let e=oo(t,"auth");if(e.isInitialized())return e.getImmediate();let n=xo(t,{popupRedirectResolver:Sl,persistence:[_l,yl,Vo]}),r=Bs("authTokenSyncURL");if(r){let s=Vg(r);jo(n,s,()=>s(n.currentUser)),Fo(n,o=>s(o))}let i=vu("auth");return i&&Uo(n,`http://${i}`),n}function Hg(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Sm({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Ee("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Hg().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Fg("Browser");var Cl="auth",Fe=class{constructor(e){return e}},Wo=class{constructor(){return uo(Cl)}};var Bo=new k("angularfire2.auth-instances");function Mv(t,e){let n=ju(Cl,t,e);return n&&new Fe(n)}function Lv(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Fe(r)}}var xv={provide:Wo,deps:[[new Te,Bo]]},Uv={provide:Fe,useFactory:Mv,deps:[[new Te,Bo],lt]},Fv=(()=>{class t{constructor(){Z("angularfire",_n.full,"auth")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=He({type:t});static \u0275inj=Ve({providers:[Uv,xv]})}return t})();function Al(t,...e){return{ngModule:Fv,providers:[{provide:Bo,useFactory:Lv(t),multi:!0,deps:[j,le,Lr,Tn,[new Te,Nr],...e]}]}}var Rl=bn(zo,!0);var Ol=bn($o,!0);var pt="robertly-idtoken",ai=(()=>{let e=class e{constructor(){this.http=h(ke),this.apiUrl=h(Ne),this.auth=h(Fe),this.toastService=h(Ar)}signIn(r){return this.auth.currentUser?.getIdToken(!0),this.http.post(`${this.apiUrl}/auth/signin`,r,{responseType:"text"}).pipe(P(i=>{localStorage.setItem(pt,i)}))}signInWithGoogle(){return l(this,null,function*(){let r=new ii;r.addScope("https://www.googleapis.com/auth/userinfo.email"),r.setCustomParameters({prompt:"select_account"}),this.auth.useDeviceLanguage();let i=yield oi(this.auth,r),s=ii.credentialFromResult(i);if(s){let o=yield Mn(this.http.post(`${this.apiUrl}/auth/signup/google`,{accessToken:s.accessToken},{responseType:"text"}));localStorage.setItem(pt,o),this.toastService.ok("Successfully signed in with Google")}})}signOut(){return l(this,null,function*(){try{yield Ol(this.auth),this.toastService.ok("Successfully signed out"),localStorage.removeItem(pt)}catch(r){this.toastService.error(JSON.stringify(r))}})}tryRefreshToken(){return l(this,null,function*(){let r=yield this.auth.currentUser?.getIdToken(!0);r?localStorage.setItem(pt,r):localStorage.removeItem(pt)})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Pl=(()=>{let e=class e{constructor(){this.http=h(ke),this.apiUrl=h(Ne)}getUserByFirebaseUuid(r){return this.http.get(`${this.apiUrl}/users/firebase-uuid/${r}`)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ci=(()=>{let e=class e{constructor(){this.auth=h(Fe),this.usersService=h(Pl),this.user=Ia(null),this.auth.onAuthStateChanged(r=>l(this,null,function*(){if(!r){this.user.set(null);return}let i=yield Mn(this.usersService.getUserByFirebaseUuid(r.uid));this.user.set({email:i.email,userId:i.userId,name:i.name,userFirebaseUuid:i.userFirebaseUuid})}))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function $v(t,e){if(t&1&&M(0),t&2){let n=D(),r;tt(" Hello! ",(r=n.authService.user())==null?null:r.name," ")}}var Vv=t=>({active:t});function Hv(t,e){if(t&1){let n=me();y(0,"button",10),F("click",function(){let s=q(n).$implicit,o=D(2);return K(o.exerciseLogService.selectedUsername$.next(s))}),v()}if(t&2){let n=e.$implicit,r=D(2);U("ngClass",Hn(1,Vv,n===r.exerciseLogService.selectedUsername()))}}function zv(t,e){if(t&1){let n=me();y(0,"div",6),$(1,"button",7),y(2,"div",8)(3,"button",9),F("click",function(){q(n);let i=D();return K(i.exerciseLogService.selectedUsername$.next(null))}),M(4,"All Users"),v(),Re(5,Hv,1,3,"button",11,Vn),v()()}if(t&2){let n=D();b(5),Oe(n.exerciseLogService.usernames())}}function Wv(t,e){t&1&&(y(0,"div",12),$(1,"button",13),v())}var kl=(()=>{let e=class e{constructor(){this.exerciseLogService=h(Pe),this.authService=h(ci),this.logsRefreshClicked=new Ae,this.menuSidebarClicked=new Ae,this.isSpinning=!1}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=fe({type:e,selectors:[["app-header"]],outputs:{logsRefreshClicked:"logsRefreshClicked",menuSidebarClicked:"menuSidebarClicked"},standalone:!0,features:[ge],decls:8,vars:2,consts:[[1,"navbar","px-1"],[1,"container-fluid","d-flex"],[2,"color","white","font-weight","bold","font-size","14px"],["ngbDropdown","","display","dynamic","class","d-flex justify-content-end"],["type","button",1,"btn",2,"outline","none","border","none","padding","0"],[1,"fa","fa-bars",2,"font-size","22px","color","white",3,"click"],["ngbDropdown","","display","dynamic",1,"d-flex","justify-content-end"],["type","button","ngbDropdownToggle","",1,"btn","d-flex","justify-content-between","align-items-center","me-3",2,"outline","none","border","none","color","white","font-weight","500"],["ngbDropdownMenu",""],["ngbDropdownItem","",3,"click"],["ngbDropdownItem","",3,"ngClass","click"],["ngbDropdownItem","",3,"ngClass"],["display","dynamic",1,"d-flex","justify-content-end"],["type","button",1,"btn","d-flex","justify-content-between","align-items-center","me-3",2,"outline","none","border","none","color","white","font-weight","500"]],template:function(i,s){i&1&&(y(0,"nav",0)(1,"div",1)(2,"div",2),ee(3,$v,1,1),v(),ee(4,zv,7,0,"div",3)(5,Wv,2,0),y(6,"button",4)(7,"i",5),F("click",function(){return s.menuSidebarClicked.emit()}),v()()()()),i&2&&(b(3),X(3,s.authService.user()?3:-1),b(1),X(4,s.exerciseLogService.usernames().length>1?4:5))},dependencies:[Xn,tr,tc,ec,Qa,Xa,Za,rr,nr,er],styles:["button[_ngcontent-%COMP%]:focus   i.fa.fa-refresh.spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate 1s ease-in-out 0s}@keyframes _ngcontent-%COMP%_rotate{0%{transform:rotate(0)}to{transform:rotate(720deg)}}"],changeDetection:0});let t=e;return t})();var Dl=()=>({exact:!0}),Nl=(()=>{let e=class e{constructor(){this.exerciseLogService=h(Pe),this.Paths=re}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=fe({type:e,selectors:[["app-footer"]],standalone:!0,features:[ge],decls:35,vars:6,consts:[[1,"navbar","fixed-bottom","fw-bold"],[1,"container-fluid"],[1,"navbar-nav","flex-row","gap-3","justify-content-center","w-100"],[1,"nav-item","w-100"],["routerLinkActive","active",1,"nav-link","text-center","d-flex","justify-content-center","align-items-center","gap-2",3,"routerLinkActiveOptions"],[1,"item"],[1,"fa","fa-home"],["routerLinkActive","active",1,"nav-link","text-center","d-flex","justify-content-center","align-items-center","gap-2",3,"routerLink","routerLinkActiveOptions"],[1,"fa","fa-history"],[1,"d-flex","justify-content-center","align-items-center","add-button-container"],[1,"btn","btn-lg","btn-primary","d-flex","justify-content-center","align-items-center",3,"click"],[1,"fa","fa-plus"],["routerLinkActive","active",1,"nav-link","text-center","d-flex","justify-content-center","align-items-center","gap-2",3,"routerLink"],[1,"fa","fa-bar-chart"],["routerLinkActive","active",1,"nav-link","text-center","d-flex","justify-content-center","align-items-center","gap-2"],[1,"fa","fa-cog"]],template:function(i,s){i&1&&(y(0,"nav",0)(1,"div",1)(2,"ul",2)(3,"li",3)(4,"a",4)(5,"div",5)(6,"div"),$(7,"i",6),v(),y(8,"div"),M(9,"Home"),v()()()(),y(10,"li",3)(11,"a",7)(12,"div",5)(13,"div"),$(14,"i",8),v(),y(15,"div"),M(16,"Logs"),v()()()(),y(17,"li",3)(18,"div",9)(19,"button",10),F("click",function(){return s.exerciseLogService.createLogClicked$.next()}),$(20,"i",11),v()()(),y(21,"li",3)(22,"a",12)(23,"div")(24,"div"),$(25,"i",13),v(),y(26,"div"),M(27,"Stats"),v()()()(),y(28,"li",3)(29,"a",14)(30,"div")(31,"div"),$(32,"i",15),v(),y(33,"div"),M(34,"Settings"),v()()()()()()()),i&2&&(b(4),U("routerLinkActiveOptions",Ri(4,Dl)),b(7),U("routerLink",s.Paths.LOGS)("routerLinkActiveOptions",Ri(5,Dl)),b(11),U("routerLink",s.Paths.STATS))},dependencies:[Nt,uu],styles:['nav.navbar.fixed-bottom[_ngcontent-%COMP%]{padding-bottom:max(env(safe-area-inset-bottom),.4rem);background:#2a2f3c}nav.navbar.fixed-bottom[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:11px;color:#fff;opacity:.4}nav.navbar.fixed-bottom[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px}nav.navbar.fixed-bottom[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{opacity:1}.add-button-container[_ngcontent-%COMP%]{position:relative}.add-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;border-radius:100%;height:50px;width:50px;z-index:10}.add-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:before{content:"";position:absolute;background:#2a2f3c;width:25px;height:25px;z-index:5;top:-9px;left:-36px;box-shadow:11px -5px var(--bs-body-bg);border-top-right-radius:20px}.add-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:after{content:"";position:absolute;background:#2a2f3c;width:25px;height:25px;z-index:5;top:-9px;right:-36px;box-shadow:-10px -5px var(--bs-body-bg);border-top-left-radius:20px}.add-button-container[_ngcontent-%COMP%]:before{content:"";position:absolute;height:75px;width:70px;top:-15px;background:var(--bs-body-bg);z-index:5;border-bottom-left-radius:35px;border-bottom-right-radius:35px;overflow:hidden}'],changeDetection:0});let t=e;return t})();function Bv(t,e){if(t&1){let n=me();y(0,"a",6),F("click",function(){q(n);let i=D().$implicit;return K(i.dismiss())}),M(1,"Sign In"),v(),y(2,"a",6),F("click",function(){q(n);let i=D().$implicit;return K(i.dismiss())}),M(3,"Sign Up"),v()}if(t&2){let n=D(2);U("routerLink",n.Paths.SIGN_IN),b(2),U("routerLink",n.Paths.SIGN_UP)}}function Gv(t,e){if(t&1){let n=me();y(0,"button",7),F("click",function(){q(n);let i=D().$implicit;return D().signOut(),K(i.dismiss())}),M(1,"Sign Out"),v()}}function qv(t,e){if(t&1){let n=me();y(0,"a",6),F("click",function(){q(n);let i=D().$implicit;return K(i.dismiss())}),M(1,"Exercises"),v(),y(2,"a",6),F("click",function(){q(n);let i=D().$implicit;return K(i.dismiss())}),M(3,"Food Tracker"),v(),y(4,"a",6),F("click",function(){q(n);let i=D().$implicit;return K(i.dismiss())}),M(5,"Developer"),v()}if(t&2){let n=D(2);U("routerLink",n.Paths.EXERCISES),b(2),U("routerLink",n.Paths.FOODS),b(2),U("routerLink",n.Paths.DEVELOPER)}}function Kv(t,e){if(t&1){let n=me();y(0,"div",2)(1,"button",3),F("click",function(){let s=q(n).$implicit;return K(s.dismiss("Cross click"))}),v()(),y(2,"div",4),ee(3,Bv,4,2)(4,Gv,2,0,"button",5)(5,qv,6,3),v()}if(t&2){let n=D();b(3),X(3,n.authService.user()?-1:3),b(1),X(4,n.authService.user()?4:-1),b(1),X(5,n.authService.user()?5:-1)}}function Yv(t,e){if(t&1){let n=me();y(0,"ngb-toast",8),F("hidden",function(){let s=q(n).$implicit,o=D();return K(o.toastService.remove(s))}),y(1,"ngb-alert",9),F("closed",function(){let s=q(n).$implicit,o=D();return K(o.toastService.remove(s))}),M(2),v()()}if(t&2){let n=e.$implicit;U("autohide",!0)("delay",n.delay||3e3),b(1),U("type",n.type),b(1),wt(n.text)}}function Jv(t,e){t&1&&$(0,"app-footer")}function Xv(t,e){if(t&1){let n=me();y(0,"app-header",10),F("logsRefreshClicked",function(){q(n);let i=D();return K(i.fetchData(!0,!0))})("menuSidebarClicked",function(){q(n);let i=D(),s=Sa(1);return K(i.openSidebar(s))}),v(),y(1,"div",11),$(2,"router-outlet"),v(),ee(3,Jv,1,0,"app-footer")}if(t&2){let n=D();b(3),X(3,n.authService.user()?3:-1)}}function Zv(t,e){if(t&1&&(y(0,"div",12)(1,"div",13)(2,"div",14),M(3,"ROBERTLY"),v(),y(4,"div",15),$(5,"div",16),v(),y(6,"div",17),M(7),v()()()),t&2){let n=D();b(5),_a("width",n.preloaderProgress,"%"),b(2),tt(" ",n.preloaderMessage," ")}}var Go="robertly-get-data-cache";var qo="robertly-create-log-value",Qv=5*60,Ml=t=>{let e=t,n=new Map;xi.required(e.controls.user)&&n.set("user",L(m({},n.get("user")),{required:"Username is required"})),e.value.user==="peron"&&n.set("user",L(m({},n.get("user")),{invalidPeron:"Peron is not allowed"})),xi.required(e.controls.exercise)&&n.set("exercise",L(m({},n.get("exercise")),{exerciseRequired:"Exercise is required"})),typeof e.value.exercise=="string"&&e.value.exercise?.toLowerCase()==="peron"&&n.set("exercise",L(m({},n.get("exercise")),{invalidPeron:"Peron is not allowed"})),e.controls.series.value.map(o=>(o.reps??0)>0&&(o.weightInKg??0)>0).every(o=>!o)&&n.set("series",L(m({},n.get("series")),{allSeriesAreEmpty:"Needs at least one serie"})),e.controls.series.value.some(o=>!Number.isInteger(o.reps??0))&&n.set("series",L(m({},n.get("series")),{repsMustBeInteger:"Reps needs to be whole numbers"}));let s={};for(let[o,a]of n.entries())s[o]=a;return s},Ll=(()=>{let e=class e{constructor(){this.exerciseLogService=h(Pe),this.toastService=h(Ar),this.authApiService=h(ai),this.authService=h(ci),this.exerciseLogApiService=h(du),this.exerciseApiService=h(hu),this.serviceWorkerUpdates=h(Fi),this.document=h(z),this.dayjsService=h($a),this.dayjs=this.dayjsService.instance,this.injector=h(le),this.router=h(qe),this.modalService=h(rc),this.offcanvasService=h(oc),this.createLogFormGroup=new te({user:new O(""),userId:new O(""),exercise:new O(null),date:new O(""),series:new Ui([new te({reps:new O,weightInKg:new O}),new te({reps:new O,weightInKg:new O}),new te({reps:new O,weightInKg:new O}),new te({reps:new O,weightInKg:new O}),new te({reps:new O,weightInKg:new O})])},[Ml]),this.updateLogFormGroup=new te({user:new O(""),userId:new O(""),exercise:new O(null),date:new O(""),series:new Ui([new te({reps:new O,weightInKg:new O}),new te({reps:new O,weightInKg:new O}),new te({reps:new O,weightInKg:new O}),new te({reps:new O,weightInKg:new O}),new te({reps:new O,weightInKg:new O})])},[Ml]),this.Paths=re,this.hasAppLoaded=qn(),this.preloaderMessage="Searching for updates...",this.preloaderProgress=10;let r=localStorage.getItem(Go),i=!1;if(!r)localStorage.setItem(Go,this.dayjs().unix().toString()),i=!0;else{let s=this.dayjs.unix(+r);this.dayjs().diff(s,"seconds")>Qv&&(i=!0,localStorage.setItem(Go,this.dayjs().unix().toString()))}this.fetchData(i,i),this.serviceWorkerUpdates.unrecoverable.pipe(_t()).subscribe(s=>console.error(s)),this.serviceWorkerUpdates.versionUpdates.subscribe(s=>{if(s.type==="VERSION_DETECTED")this.preloaderMessage="New version found. Preparing to install...",this.preloaderProgress=60;else if(s.type==="NO_NEW_VERSION_DETECTED")this.preloaderMessage="Everything up to date",this.preloaderProgress=100,setTimeout(()=>{this.hasAppLoaded=!0},500);else if(s.type==="VERSION_READY")this.document.location.reload();else if(s.type==="VERSION_INSTALLATION_FAILED")this.preloaderMessage="Failed to install new version",this.preloaderProgress=100,setTimeout(()=>{this.hasAppLoaded=!0},500);else throw new Error("Impossible state")}),this.createLogFormGroup.valueChanges.pipe(_t(),ra(1e3)).subscribe(s=>localStorage.setItem(qo,JSON.stringify(s))),this.exerciseLogService.logClicked$.pipe(_t()).subscribe(s=>{this.updateLogFormGroup.reset(),this.updateLogFormGroup.patchValue({exercise:s.exercise,date:this.dayjsService.parseDate(s.date).format("YYYY-MM-DD"),user:s.user.name,series:s.series.map(o=>({reps:o.reps,weightInKg:o.weightInKg}))}),this.open("update",s)}),this.exerciseLogService.createLogClicked$.pipe(_t()).subscribe(()=>{this.open("create")}),this.exerciseLogService.deleteLog$.pipe(V(s=>this.exerciseLogApiService.deleteExerciseLog(s.id).pipe(P(()=>{this.fetchData(),this.toastService.ok("Log deleted successfully!")}))),_t()).subscribe()}ngOnInit(){let r=JSON.parse(localStorage.getItem(qo)??"null");r&&this.createLogFormGroup.patchValue(r)}open(r,i){let s=this.modalService.open(pu,{injector:this.injector,fullscreen:!0,animation:!1}),o=s.componentInstance;o.createOrUpdateLogFormGroup=r==="update"?this.updateLogFormGroup:this.createLogFormGroup,o.mode=r,r==="create"&&!this.createLogFormGroup.value.date&&this.createLogFormGroup.controls.date.patchValue(this.dayjs().format("YYYY-MM-DD")),i&&(o.originalValue=i),s.result.then(()=>{if(r==="create"){if(this.createLogFormGroup.invalid||typeof this.createLogFormGroup.value.exercise=="string")return;let a=this.authService.user(),u={exerciseLog:{exerciseLogUsername:a?.name??this.createLogFormGroup.value.user.toLocaleLowerCase(),exerciseLogUserId:a?.userId,exerciseLogExerciseId:this.createLogFormGroup.value.exercise.exerciseId,exerciseLogDate:this.dayjsService.parseDate(this.createLogFormGroup.value.date).format("YYYY-MM-DD"),series:(this.createLogFormGroup.value.series??[]).filter(c=>!!c.reps&&!!c.weightInKg).map(c=>({reps:+c.reps,weightInKg:+c.weightInKg.toFixed(1)}))}};this.exerciseLogApiService.createExerciseLog(u).subscribe({next:()=>{this.createLogFormGroup.reset(),localStorage.removeItem(qo),this.fetchData(),this.toastService.ok("Log created successfully!")},error:()=>{this.fetchData(),this.toastService.error()}})}else{if(this.updateLogFormGroup.invalid)return;let a=this.exerciseLogService.logs().find(c=>c.user.name.toLowerCase()===this.updateLogFormGroup.value.user?.toLowerCase()&&!!c.user.userId)??null;if(typeof this.updateLogFormGroup.value.exercise=="string")return;let u={id:i.id,date:this.dayjsService.parseDate(this.updateLogFormGroup.value.date).format("YYYY-MM-DD"),exerciseId:this.updateLogFormGroup.value.exercise.exerciseId,user:a?.user.name??this.updateLogFormGroup.value.user.toLowerCase(),userId:a?.user.userId??null,series:(this.updateLogFormGroup.value.series??[]).filter(c=>!!c.reps&&!!c.weightInKg).map(c=>({reps:+c.reps,weightInKg:+c.weightInKg.toFixed(1)}))};this.exerciseLogApiService.updateExerciseLog(u).subscribe({next:()=>{this.updateLogFormGroup.reset(),this.fetchData(),this.toastService.ok("Log updated successfully!")},error:()=>{this.fetchData(),this.toastService.error()}})}},()=>{this.createLogFormGroup.markAsPristine(),this.updateLogFormGroup.markAsPristine()})}fetchData(r=!1,i=!0){let s=this.exerciseApiService.getExercises();this.exerciseLogService.withLoading(na([s]).pipe(P(([o])=>{this.exerciseLogService.updateExercises$.next(o)})))}signOut(){this.authApiService.signOut(),this.router.navigate([re.SIGN_IN])}openSidebar(r){this.offcanvasService.open(r,{position:"end"})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=fe({type:e,selectors:[["app-root"]],standalone:!0,features:[Ca([Pe]),ge],decls:7,vars:1,consts:[["content",""],[1,"toast-container"],[1,"offcanvas-header"],["tabindex","-1","type","button","aria-label","Close",1,"btn-close","btn-close-white",2,"margin-left","auto",3,"click"],[1,"offcanvas-body"],["class","btn btn-link","style","cursor: pointer"],[3,"routerLink","click"],[1,"btn","btn-link",2,"cursor","pointer",3,"click"],[3,"autohide","delay","hidden"],[3,"type","closed"],[3,"logsRefreshClicked","menuSidebarClicked"],[1,"main"],[1,"preloader"],[1,"preloader-content"],[1,"preloader-title"],[1,"progress"],[1,"progress-bar"],[1,"preloader-message"],[3,"autohide","delay"]],template:function(i,s){i&1&&(ee(0,Kv,6,3,"ng-template",null,0,Na),y(2,"div",1),Re(3,Yv,3,4,"ngb-toast",18,Vn),v(),ee(5,Xv,4,1)(6,Zv,8,3)),i&2&&(b(3),Oe(s.toastService.toasts),b(2),X(5,s.hasAppLoaded?5:6))},dependencies:[kl,Nl,Nt,ks,tr,rr,nr,ic,er,Ja],styles:["button[_ngcontent-%COMP%]:has(.fa.fa-plus){border-radius:100%;position:fixed;right:25px;bottom:75px;z-index:4}@supports (-webkit-hyphens: none){button[_ngcontent-%COMP%]:has(.fa.fa-plus){bottom:100px}}.offcanvas-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{box-shadow:none}.main[_ngcontent-%COMP%]{background-color:var(--bs-body-bg);height:100vh;padding-top:2rem}.toast-container[_ngcontent-%COMP%]{position:fixed;top:15px;left:50%;transform:translate(-50%);z-index:1200}.toast-container[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:last-child){--bs-toast-spacing: .5rem}.offcanvas-body[_ngcontent-%COMP%]{display:flex;flex-direction:column}.preloader[_ngcontent-%COMP%]{background-color:var(--bs-primary);height:100vh;width:100vw}.preloader[_ngcontent-%COMP%]   .preloader-content[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;padding-top:80%;color:#fff}.preloader[_ngcontent-%COMP%]   .preloader-content[_ngcontent-%COMP%]   .preloader-title[_ngcontent-%COMP%]{font-weight:700;font-size:36px}.preloader[_ngcontent-%COMP%]   .preloader-content[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{width:180px;height:5px;border-radius:0;background-color:#ffffff4d}.preloader[_ngcontent-%COMP%]   .preloader-content[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{background-color:#fff}.preloader[_ngcontent-%COMP%]   .preloader-content[_ngcontent-%COMP%]   .preloader-message[_ngcontent-%COMP%]{padding-top:.3rem;font-size:14px}"]});let t=e;return t})();var ey="@",Ko=class{constructor(e,n,r,i,s){this.doc=e,this.delegate=n,this.zone=r,this.animationType=i,this.moduleImpl=s,this._rendererFactoryPromise=null}loadImpl(){return(this.moduleImpl??import("./chunk-2JOOZPMB.js")).catch(n=>{throw new x(5300,!1)}).then(({\u0275createEngine:n,\u0275AnimationRendererFactory:r})=>{let i=n(this.animationType,this.doc),s=new r(this.delegate,i,this.zone);return this.delegate=s,s})}createRenderer(e,n){let r=this.delegate.createRenderer(e,n);if(r.\u0275type===0)return r;typeof r.throwOnSyntheticProps=="boolean"&&(r.throwOnSyntheticProps=!1);let i=new Yo(r);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(s=>{let o=s.createRenderer(e,n);i.use(o)}).catch(s=>{i.use(r)}),i}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}},Yo=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let n of this.replay)n(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,n){this.delegate.appendChild(e,n)}insertBefore(e,n,r,i){this.delegate.insertBefore(e,n,r,i)}removeChild(e,n,r){this.delegate.removeChild(e,n,r)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){this.shouldReplay(n)&&this.replay.push(i=>i.setProperty(e,n,r)),this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.shouldReplay(n)&&this.replay.push(i=>i.listen(e,n,r)),this.delegate.listen(e,n,r)}shouldReplay(e){return this.replay!==null&&e.startsWith(ey)}};function xl(t="animations"){return Se([{provide:Fn,useFactory:(e,n,r)=>new Ko(e,n,r,t),deps:[z,ur,j]},{provide:ga,useValue:t==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Ul={apiUrl:"https://robertly.azurewebsites.net/api"};function Fl(t,e){let n=h(ai),r=h(qe),i=localStorage.getItem(pt);return i&&(t=t.clone({setHeaders:{Authorization:`Bearer ${i}`}})),e(t).pipe(je(s=>(s instanceof St&&s.status===401&&r.navigate([re.SIGN_IN]),g(s))))}var re={LOGS:"",STATS:"stats",EXERCISES:"exercises",SIGN_IN:"signin",SIGN_UP:"signup",DEVELOPER:"developer",FOODS:"foods"},ty=[{path:re.EXERCISES,loadComponent:()=>import("./chunk-OAZPFMCM.js").then(t=>t.ExercisesPageComponent)},{path:re.STATS,loadComponent:()=>import("./chunk-23TB2E5W.js").then(t=>t.StatsPageComponent)},{path:re.SIGN_IN,loadComponent:()=>import("./chunk-PNMHQDTX.js").then(t=>t.SignInComponent)},{path:re.LOGS,pathMatch:"full",loadComponent:()=>import("./chunk-B4LN2CTC.js").then(t=>t.ExerciseLogsPageComponent)},{path:re.DEVELOPER,pathMatch:"full",loadComponent:()=>import("./chunk-KT6ZPC4E.js").then(t=>t.DeveloperPageComponent)},{path:re.FOODS,pathMatch:"full",loadComponent:()=>import("./chunk-WQR6XPDX.js").then(t=>t.FoodsPageComponent)}],Ne=new k("API_URL");Rc(Ll,{providers:[Zn,Ua,xl(),wc(Ec([Fl])),lu(ty),dc("ngsw-worker.js",{enabled:!qn()}),_i($u(()=>Vu({projectId:"gymtracker-b0b72",appId:"1:1063566206093:web:a3154a1ae143b91f05eec4",storageBucket:"gymtracker-b0b72.appspot.com",apiKey:"AIzaSyCA0ExS-7mRUULdk7CYFORL5zwYXd4lJ-E",authDomain:"auth.robertly.ar",messagingSenderId:"1063566206093"}))),_i(Al(()=>Rl())),{provide:Ne,useValue:Ul.apiUrl}]}).catch(t=>console.error(t));export{qe as a,du as b,hu as c,Ar as d,pt as e,ai as f,re as g,Ne as h};
