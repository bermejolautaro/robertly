import{A as ic,M as sc,N as er,O as oc,P as ac,Q as tr,R as cc,a as wt,b as Va,c as De,d as Ha,e as Li,f as za,g as Wa,h as te,i as Ba,j as O,l as Ga,m as qa,n as Ka,o as xi,p as Ya,q as Ja,r as Xa,s as Zn,t as Za,u as Qa,v as ec,w as tc,x as nc,y as Qn,z as rc}from"./chunk-NQXA3QBO.js";import{a as ki,b as La,c as xa,d as z,e as Di,f as Kn,g as Yn,h as Jn,j as Ua,k as Fa,l as ja,m as $a,n as Ni,o as Mi,p as Xn}from"./chunk-5CC42QX7.js";import{$ as aa,A as pi,Aa as Ce,B as ie,Ba as Ae,C as fi,Ca as Ei,Cb as fe,D as Ln,Da as pa,E as pt,Ea as vt,Eb as Ta,F as ta,Fa as Re,Fb as x,G as mi,Gb as M,Ha as le,I as gi,Ia as fa,J as ft,Ja as _i,Jb as Sa,K as J,Ka as ma,Kb as N,La as se,Lb as yt,Ma as ga,Mb as Qe,N as mt,Na as bi,O as Se,Ob as Ca,P as na,Pb as Aa,Q as vi,Qa as Bt,Qb as Ra,R as Z,Rb as me,S as ra,Sa as va,Sb as Ai,T as ia,Ta as Ti,Tb as qt,Ua as Fn,Ub as Oa,Va as Si,W as gt,Wa as jn,Wb as Hn,X as Ve,Xa as ya,Xb as zn,Y as yi,Z as sa,Za as Ia,_ as oa,_b as Pa,a as m,aa as ca,ab as Ci,ac as ka,b as L,bb as b,bc as Da,ca as la,cb as ue,cc as Na,da as V,db as $n,dc as Ri,e as Xe,ea as ua,ec as Wn,f as u,fa as P,fc as Bn,g as Yo,gc as Oi,h as Jo,hb as Oe,hc as Pi,i as zt,ia as U,ib as j,ic as Ma,j as li,ja as I,jc as It,k as ui,ka as He,kb as wa,kc as Gn,l as he,la as da,lb as Ea,lc as qn,m as re,ma as Ii,mb as F,n as Xo,na as k,nb as _a,o as Zo,oa as T,p as Te,pa as h,q as Nn,qa as Wt,qb as ba,r as di,ra as pe,rb as Q,s as hi,sa as ze,sb as ee,t as B,ta as xn,tb as Gt,u as g,ub as Vn,v as Ze,va as Un,vb as Pe,w as Qo,wa as K,wb as ke,x as ea,xa as Y,xb as y,y as Mn,ya as wi,yb as v,z as E,za as ha,zb as $}from"./chunk-ISSSIWYW.js";var Yt="Service workers are disabled or not supported by this browser";function Wu(t){return pt(()=>Ze(new Error(t)))}var Et=class{constructor(e){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=Wu(Yt);else{let r=mi(e,"controllerchange").pipe(E(()=>e.controller)),i=pt(()=>g(e.controller)),s=Ln(i,r);this.worker=s.pipe(J(d=>!!d)),this.registration=this.worker.pipe(V(()=>e.getRegistration()));let c=mi(e,"message").pipe(E(d=>d.data)).pipe(J(d=>d&&d.type)).pipe(oa());c.connect(),this.events=c}}postMessage(e,n){return this.worker.pipe(Z(1),P(r=>{r.postMessage(m({action:e},n))})).toPromise().then(()=>{})}postMessageWithOperation(e,n,r){let i=this.waitForOperationCompleted(r),s=this.postMessage(e,n);return Promise.all([s,i]).then(([,o])=>o)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(e){let n;return typeof e=="string"?n=r=>r.type===e:n=r=>e.includes(r.type),this.events.pipe(J(n))}nextEventOfType(e){return this.eventsOfType(e).pipe(Z(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(J(n=>n.nonce===e),Z(1),E(n=>{if(n.result!==void 0)return n.result;throw new Error(n.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},Bu=(()=>{let e=class e{get isEnabled(){return this.sw.isEnabled}constructor(r){if(this.sw=r,this.pushManager=null,this.subscriptionChanges=new he,!r.isEnabled){this.messages=ft,this.notificationClicks=ft,this.subscription=ft;return}this.messages=this.sw.eventsOfType("PUSH").pipe(E(s=>s.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(E(s=>s.data)),this.pushManager=this.sw.registration.pipe(E(s=>s.pushManager));let i=this.pushManager.pipe(V(s=>s.getSubscription()));this.subscription=gi(i,this.subscriptionChanges)}requestSubscription(r){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(Yt));let i={userVisibleOnly:!0},s=this.decodeBase64(r.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(s.length));for(let a=0;a<s.length;a++)o[a]=s.charCodeAt(a);return i.applicationServerKey=o,this.pushManager.pipe(V(a=>a.subscribe(i)),Z(1)).toPromise().then(a=>(this.subscriptionChanges.next(a),a))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(Yt));let r=i=>{if(i===null)throw new Error("Not subscribed to push notifications.");return i.unsubscribe().then(s=>{if(!s)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(Z(1),V(r)).toPromise()}decodeBase64(r){return atob(r)}};e.\u0275fac=function(i){return new(i||e)(T(Et))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),Ui=(()=>{let e=class e{get isEnabled(){return this.sw.isEnabled}constructor(r){if(this.sw=r,!r.isEnabled){this.versionUpdates=ft,this.unrecoverable=ft;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Yt));let r=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:r},r)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Yt));let r=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:r},r)}};e.\u0275fac=function(i){return new(i||e)(T(Et))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})();var lc=new k("NGSW_REGISTER_SCRIPT");function Gu(t,e,n,r){return()=>{if(!(Ni(r)&&"serviceWorker"in navigator&&n.enabled!==!1))return;navigator.serviceWorker.addEventListener("controllerchange",()=>{navigator.serviceWorker.controller!==null&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})});let i;if(typeof n.registrationStrategy=="function")i=n.registrationStrategy();else{let[o,...a]=(n.registrationStrategy||"registerWhenStable:30000").split(":");switch(o){case"registerImmediately":i=g(null);break;case"registerWithDelay":i=uc(+a[0]||0);break;case"registerWhenStable":i=a[0]?gi(dc(t),uc(+a[0])):dc(t);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${n.registrationStrategy}`)}}t.get(j).runOutsideAngular(()=>i.pipe(Z(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:n.scope}).catch(o=>console.error("Service worker registration failed with:",o))))}}function uc(t){return g(null).pipe(ia(t))}function dc(t){return t.get(It).isStable.pipe(J(n=>n))}function qu(t,e){return new Et(Ni(e)&&t.enabled!==!1?navigator.serviceWorker:void 0)}var Kt=class{};function hc(t,e={}){return Ae([Bu,Ui,{provide:lc,useValue:t},{provide:Kt,useValue:e},{provide:Et,useFactory:qu,deps:[Kt,se]},{provide:Ri,useFactory:Gu,deps:[le,lc,Kt,se],multi:!0}])}var Xt=class{},rr=class{},et=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var ji=class{encodeKey(e){return pc(e)}encodeValue(e){return pc(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function Zu(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],l=n.get(o)||[];l.push(a),n.set(o,l)}),n}var Qu=/%(\d[a-f0-9])/gi,ed={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function pc(t){return encodeURIComponent(t).replace(Qu,(e,n)=>ed[n]??e)}function nr(t){return`${t}`}var We=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new ji,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Zu(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(nr):[nr(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(nr(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(nr(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var $i=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function td(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function fc(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function mc(t){return typeof Blob<"u"&&t instanceof Blob}function gc(t){return typeof FormData<"u"&&t instanceof FormData}function nd(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Jt=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(td(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers||(this.headers=new et),this.context||(this.context=new $i),!this.params)this.params=new We,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),l=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+l+o}}}serializeBody(){return this.body===null?null:fc(this.body)||mc(this.body)||gc(this.body)||nd(this.body)||typeof this.body=="string"?this.body:this.body instanceof We?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||gc(this.body)?null:mc(this.body)?this.body.type||null:fc(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof We?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.body!==void 0?e.body:this.body,o=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,a=e.reportProgress!==void 0?e.reportProgress:this.reportProgress,l=e.headers||this.headers,c=e.params||this.params,d=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((p,f)=>p.set(f,e.setHeaders[f]),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((p,f)=>p.set(f,e.setParams[f]),c)),new t(n,r,s,{params:c,headers:l,context:d,reportProgress:a,responseType:i,withCredentials:o})}},_t=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(_t||{}),Zt=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new et,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Vi=class t extends Zt{constructor(e={}){super(e),this.type=_t.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ir=class t extends Zt{constructor(e={}){super(e),this.type=_t.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},bt=class extends Zt{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}};function Fi(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Ne=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,s={}){let o;if(r instanceof Jt)o=r;else{let c;s.headers instanceof et?c=s.headers:c=new et(s.headers);let d;s.params&&(s.params instanceof We?d=s.params:d=new We({fromObject:s.params})),o=new Jt(r,i,s.body!==void 0?s.body:null,{headers:c,context:s.context,params:d,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=g(o).pipe(Se(c=>this.handler.handle(c)));if(r instanceof Jt||s.observe==="events")return a;let l=a.pipe(J(c=>c instanceof ir));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return l.pipe(E(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(E(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(E(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return l.pipe(E(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new We().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,Fi(s,i))}post(r,i,s={}){return this.request("POST",r,Fi(s,i))}put(r,i,s={}){return this.request("PUT",r,Fi(s,i))}};e.\u0275fac=function(i){return new(i||e)(T(Xt))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})();function rd(t,e){return e(t)}function id(t,e,n){return(r,i)=>Re(n,()=>e(r,s=>t(s,i)))}var Hi=new k(""),sd=new k(""),od=new k("");var vc=(()=>{let e=class e extends Xt{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=h(Bn);let s=h(od,{optional:!0});this.backend=s??r}handle(r){if(this.chain===null){let s=Array.from(new Set([...this.injector.get(Hi),...this.injector.get(sd,[])]));this.chain=s.reduceRight((o,a)=>id(o,a,this.injector),rd)}let i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(gt(()=>this.pendingTasks.remove(i)))}};e.\u0275fac=function(i){return new(i||e)(T(rr),T(vt))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})();var ad=/^\)\]\}',?\n/;function cd(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var yc=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new U(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?B(i.\u0275loadImpl()):g(null)).pipe(V(()=>new zt(o=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((A,C)=>a.setRequestHeader(A,C.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let A=r.detectContentTypeHeader();A!==null&&a.setRequestHeader("Content-Type",A)}if(r.responseType){let A=r.responseType.toLowerCase();a.responseType=A!=="json"?A:"text"}let l=r.serializeBody(),c=null,d=()=>{if(c!==null)return c;let A=a.statusText||"OK",C=new et(a.getAllResponseHeaders()),ce=cd(a)||r.url;return c=new Vi({headers:C,status:a.status,statusText:A,url:ce}),c},p=()=>{let{headers:A,status:C,statusText:ce,url:dt}=d(),H=null;C!==204&&(H=typeof a.response>"u"?a.responseText:a.response),C===0&&(C=H?200:0);let ht=C>=200&&C<300;if(r.responseType==="json"&&typeof H=="string"){let Ht=H;H=H.replace(ad,"");try{H=H!==""?JSON.parse(H):null}catch(Dn){H=Ht,ht&&(ht=!1,H={error:Dn,text:H})}}ht?(o.next(new ir({body:H,headers:A,status:C,statusText:ce,url:dt||void 0})),o.complete()):o.error(new bt({error:H,headers:A,status:C,statusText:ce,url:dt||void 0}))},f=A=>{let{url:C}=d(),ce=new bt({error:A,status:a.status||0,statusText:a.statusText||"Unknown Error",url:C||void 0});o.error(ce)},S=!1,q=A=>{S||(o.next(d()),S=!0);let C={type:_t.DownloadProgress,loaded:A.loaded};A.lengthComputable&&(C.total=A.total),r.responseType==="text"&&a.responseText&&(C.partialText=a.responseText),o.next(C)},ae=A=>{let C={type:_t.UploadProgress,loaded:A.loaded};A.lengthComputable&&(C.total=A.total),o.next(C)};return a.addEventListener("load",p),a.addEventListener("error",f),a.addEventListener("timeout",f),a.addEventListener("abort",f),r.reportProgress&&(a.addEventListener("progress",q),l!==null&&a.upload&&a.upload.addEventListener("progress",ae)),a.send(l),o.next({type:_t.Sent}),()=>{a.removeEventListener("error",f),a.removeEventListener("abort",f),a.removeEventListener("load",p),a.removeEventListener("timeout",f),r.reportProgress&&(a.removeEventListener("progress",q),l!==null&&a.upload&&a.upload.removeEventListener("progress",ae)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(T(Xn))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),Ic=new k("XSRF_ENABLED"),ld="XSRF-TOKEN",ud=new k("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>ld}),dd="X-XSRF-TOKEN",hd=new k("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>dd}),sr=class{},pd=(()=>{let e=class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=Yn(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(T(z),T(se),T(ud))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})();function fd(t,e){let n=t.url.toLowerCase();if(!h(Ic)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=h(sr).getToken(),i=h(hd);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var wc=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(wc||{});function md(t,e){return{\u0275kind:t,\u0275providers:e}}function Ec(...t){let e=[Ne,yc,vc,{provide:Xt,useExisting:vc},{provide:rr,useExisting:yc},{provide:Hi,useValue:fd,multi:!0},{provide:Ic,useValue:!0},{provide:sr,useClass:pd}];for(let n of t)e.push(...n.\u0275providers);return Ae(e)}function _c(t){return md(wc.Interceptors,t.map(e=>({provide:Hi,useValue:e,multi:!0})))}var Bi=class extends xa{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Gi=class t extends Bi{static makeCurrent(){La(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=vd();return n==null?null:yd(n)}resetBaseElement(){Qt=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Yn(document.cookie,e)}},Qt=null;function vd(){return Qt=Qt||document.querySelector("base"),Qt?Qt.getAttribute("href"):null}function yd(t){return new URL(t,"http://a").pathname}var Id=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),qi=new k("EventManagerPlugins"),Sc=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new U(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(T(qi),T(j))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),or=class{constructor(e){this._doc=e}},zi="ng-app-id",Cc=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Mi(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${zi}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(zi),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(zi,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(T(z),T(_i),T(bi,8),T(se))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),Wi={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Yi=/%COMP%/g,Ac="%COMP%",wd=`_nghost-${Ac}`,Ed=`_ngcontent-${Ac}`,_d=!0,bd=new k("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>_d});function Td(t){return Ed.replace(Yi,t)}function Sd(t){return wd.replace(Yi,t)}function Rc(t,e){return e.map(n=>n.replace(Yi,t))}var ar=(()=>{let e=class e{constructor(r,i,s,o,a,l,c,d=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=Mi(l),this.defaultRenderer=new en(r,a,c,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Wt.ShadowDom&&(i=L(m({},i),{encapsulation:Wt.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof cr?s.applyToHost(r):s instanceof tn&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,l=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case Wt.Emulated:o=new cr(c,d,i,this.appId,p,a,l,f);break;case Wt.ShadowDom:return new Ki(c,d,r,i,a,l,this.nonce,f);default:o=new tn(c,d,i,p,a,l,f);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(T(Sc),T(Cc),T(_i),T(bd),T(z),T(se),T(j),T(bi))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),en=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Wi[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(bc(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(bc(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new U(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Wi[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Wi[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Bt.DashCase|Bt.Important)?e.style.setProperty(n,r,i&Bt.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Bt.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=ki().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function bc(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Ki=class extends en{constructor(e,n,r,i,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=Rc(i.id,i.styles);for(let d of c){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=d,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},tn=class extends en{constructor(e,n,r,i,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?Rc(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},cr=class extends tn{constructor(e,n,r,i,s,o,a,l){let c=i+"-"+r.id;super(e,n,r,s,o,a,l,c),this.contentAttr=Td(c),this.hostAttr=Sd(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},Cd=(()=>{let e=class e extends or{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(T(z))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),Tc=["alt","control","meta","shift"],Ad={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Rd={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Od=(()=>{let e=class e extends or{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ki().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),a="code."),Tc.forEach(d=>{let p=i.indexOf(d);p>-1&&(i.splice(p,1),a+=d+".")}),a+=o,i.length!=0||o.length===0)return null;let c={};return c.domEventName=s,c.fullKey=a,c}static matchEventFullKeyCode(r,i){let s=Ad[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),Tc.forEach(a=>{if(a!==s){let l=Rd[a];l(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(T(z))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})();function Oc(t,e){return Ma(m({rootComponent:t},Pd(e)))}function Pd(t){return{appProviders:[...Ld,...t?.providers??[]],platformProviders:Md}}function kd(){Gi.makeCurrent()}function Dd(){return new Ci}function Nd(){return fa(document),document}var Md=[{provide:se,useValue:$a},{provide:ma,useValue:kd,multi:!0},{provide:z,useFactory:Nd,deps:[]}];var Ld=[{provide:pa,useValue:"root"},{provide:Ci,useFactory:Dd,deps:[]},{provide:qi,useClass:Cd,multi:!0,deps:[z,j,se]},{provide:qi,useClass:Od,multi:!0,deps:[z]},ar,Cc,Sc,{provide:Fn,useExisting:ar},{provide:Xn,useClass:Id,deps:[]},[]];function xd(){return new Ji(T(z))}var Ji=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(T(z))},e.\u0275prov=I({token:e,factory:function(i){let s=null;return i?s=new i:s=xd(),s},providedIn:"root"});let t=e;return t})();var _="primary",vn=Symbol("RouteTitle"),ts=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Rt(t){return new ts(t)}function Fd(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function jd(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ge(t[n],e[n]))return!1;return!0}function ge(t,e){let n=t?ns(t):void 0,r=e?ns(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!xc(t[i],e[i]))return!1;return!0}function ns(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function xc(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function Uc(t){return t.length>0?t[t.length-1]:null}function qe(t){return Qo(t)?t:Ta(t)?B(Promise.resolve(t)):g(t)}var $d={exact:jc,subset:$c},Fc={exact:Vd,subset:Hd,ignored:()=>!0};function Pc(t,e,n){return $d[n.paths](t.root,e.root,n.matrixParams)&&Fc[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function Vd(t,e){return ge(t,e)}function jc(t,e,n){if(!nt(t.segments,e.segments)||!dr(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!jc(t.children[r],e.children[r],n))return!1;return!0}function Hd(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>xc(t[n],e[n]))}function $c(t,e,n){return Vc(t,e,e.segments,n)}function Vc(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!nt(i,n)||e.hasChildren()||!dr(i,n,r))}else if(t.segments.length===n.length){if(!nt(t.segments,n)||!dr(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!$c(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!nt(t.segments,i)||!dr(t.segments,i,r)||!t.children[_]?!1:Vc(t.children[_],e,s,r)}}function dr(t,e,n){return e.every((r,i)=>Fc[n](t[i].parameters,r.parameters))}var Be=class{constructor(e=new R([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Rt(this.queryParams)),this._queryParamMap}toString(){return Bd.serialize(this)}},R=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return hr(this)}},tt=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Rt(this.parameters)),this._parameterMap}toString(){return zc(this)}};function zd(t,e){return nt(t,e)&&t.every((n,r)=>ge(n.parameters,e[r].parameters))}function nt(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function Wd(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===_&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==_&&(n=n.concat(e(i,r)))}),n}var As=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:()=>(()=>new fr)(),providedIn:"root"});let t=e;return t})(),fr=class{parse(e){let n=new is(e);return new Be(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${nn(e.root,!0)}`,r=Kd(e.queryParams),i=typeof e.fragment=="string"?`#${Gd(e.fragment)}`:"";return`${n}${r}${i}`}},Bd=new fr;function hr(t){return t.segments.map(e=>zc(e)).join("/")}function nn(t,e){if(!t.hasChildren())return hr(t);if(e){let n=t.children[_]?nn(t.children[_],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==_&&r.push(`${i}:${nn(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=Wd(t,(r,i)=>i===_?[nn(t.children[_],!1)]:[`${i}:${nn(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[_]!=null?`${hr(t)}/${n[0]}`:`${hr(t)}/(${n.join("//")})`}}function Hc(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function lr(t){return Hc(t).replace(/%3B/gi,";")}function Gd(t){return encodeURI(t)}function rs(t){return Hc(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function pr(t){return decodeURIComponent(t)}function kc(t){return pr(t.replace(/\+/g,"%20"))}function zc(t){return`${rs(t.path)}${qd(t.parameters)}`}function qd(t){return Object.keys(t).map(e=>`;${rs(e)}=${rs(t[e])}`).join("")}function Kd(t){let e=Object.keys(t).map(n=>{let r=t[n];return Array.isArray(r)?r.map(i=>`${lr(n)}=${lr(i)}`).join("&"):`${lr(n)}=${lr(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}var Yd=/^[^\/()?;#]+/;function Xi(t){let e=t.match(Yd);return e?e[0]:""}var Jd=/^[^\/()?;=#]+/;function Xd(t){let e=t.match(Jd);return e?e[0]:""}var Zd=/^[^=?&#]+/;function Qd(t){let e=t.match(Zd);return e?e[0]:""}var eh=/^[^&#]+/;function th(t){let e=t.match(eh);return e?e[0]:""}var is=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new R([],{}):new R([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[_]=new R(e,n)),r}parseSegment(){let e=Xi(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new U(4009,!1);return this.capture(e),new tt(pr(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=Xd(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Xi(this.remaining);i&&(r=i,this.capture(r))}e[pr(n)]=pr(r)}parseQueryParam(e){let n=Qd(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=th(this.remaining);o&&(r=o,this.capture(r))}let i=kc(n),s=kc(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Xi(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new U(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=_);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[_]:new R([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new U(4011,!1)}};function Wc(t){return t.segments.length>0?new R([],{[_]:t}):t}function Bc(t){let e={};for(let r of Object.keys(t.children)){let i=t.children[r],s=Bc(i);if(r===_&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new R(t.segments,e);return nh(n)}function nh(t){if(t.numberOfChildren===1&&t.children[_]){let e=t.children[_];return new R(t.segments.concat(e.segments),e.children)}return t}function Ot(t){return t instanceof Be}function rh(t,e,n=null,r=null){let i=Gc(t);return qc(i,e,n,r)}function Gc(t){let e;function n(s){let o={};for(let l of s.children){let c=n(l);o[l.outlet]=c}let a=new R(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=Wc(r);return e??i}function qc(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Zi(i,i,i,n,r);let s=ih(e);if(s.toRoot())return Zi(i,i,new R([],{}),n,r);let o=sh(s,i,t),a=o.processChildren?on(o.segmentGroup,o.index,s.commands):Yc(o.segmentGroup,o.index,s.commands);return Zi(i,o.segmentGroup,a,n,r)}function mr(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ln(t){return typeof t=="object"&&t!=null&&t.outlets}function Zi(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let o;t===e?o=n:o=Kc(t,e,n);let a=Wc(Bc(o));return new Be(a,s,i)}function Kc(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=Kc(s,e,n)}),new R(t.segments,r)}var gr=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&mr(r[0]))throw new U(4003,!1);let i=r.find(ln);if(i&&i!==Uc(r))throw new U(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function ih(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new gr(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new gr(n,e,r)}var Ct=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function sh(t,e,n){if(t.isAbsolute)return new Ct(e,!0,0);if(!n)return new Ct(e,!1,NaN);if(n.parent===null)return new Ct(n,!0,0);let r=mr(t.commands[0])?0:1,i=n.segments.length-1+r;return oh(n,i,t.numberOfDoubleDots)}function oh(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new U(4005,!1);i=r.segments.length}return new Ct(r,!1,i-s)}function ah(t){return ln(t[0])?t[0].outlets:{[_]:t}}function Yc(t,e,n){if(t||(t=new R([],{})),t.segments.length===0&&t.hasChildren())return on(t,e,n);let r=ch(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new R(t.segments.slice(0,r.pathIndex),{});return s.children[_]=new R(t.segments.slice(r.pathIndex),t.children),on(s,0,i)}else return r.match&&i.length===0?new R(t.segments,{}):r.match&&!t.hasChildren()?ss(t,e,n):r.match?on(t,0,i):ss(t,e,n)}function on(t,e,n){if(n.length===0)return new R(t.segments,{});{let r=ah(n),i={};if(Object.keys(r).some(s=>s!==_)&&t.children[_]&&t.numberOfChildren===1&&t.children[_].segments.length===0){let s=on(t.children[_],e,n);return new R(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=Yc(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new R(t.segments,i)}}function ch(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(ln(a))break;let l=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!Nc(l,c,o))return s;r+=2}else{if(!Nc(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function ss(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(ln(s)){let l=lh(s.outlets);return new R(r,l)}if(i===0&&mr(n[0])){let l=t.segments[e];r.push(new tt(l.path,Dc(n[0]))),i++;continue}let o=ln(s)?s.outlets[_]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&mr(a)?(r.push(new tt(o,Dc(a))),i+=2):(r.push(new tt(o,{})),i++)}return new R(r,{})}function lh(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=ss(new R([],{}),0,r))}),e}function Dc(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function Nc(t,e,n){return t==n.path&&ge(e,n.parameters)}var an="imperative",oe=class{constructor(e,n){this.id=e,this.url=n}},un=class extends oe{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Me=class extends oe{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ge=class extends oe{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},rt=class extends oe{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}},dn=class extends oe{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},vr=class extends oe{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},os=class extends oe{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},as=class extends oe{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},cs=class extends oe{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ls=class extends oe{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},us=class{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ds=class{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},hs=class{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ps=class{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fs=class{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ms=class{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var hn=class{},pn=class{constructor(e){this.url=e}};var gs=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new br,this.attachRef=null}},br=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new gs,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),yr=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=vs(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=vs(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=ys(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return ys(e,this._root).map(n=>n.value)}};function vs(t,e){if(t===e.value)return e;for(let n of e.children){let r=vs(t,n);if(r)return r}return null}function ys(t,e){if(t===e.value)return[e];for(let n of e.children){let r=ys(t,n);if(r.length)return r.unshift(e),r}return[]}var ne=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function St(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Ir=class extends yr{constructor(e,n){super(e),this.snapshot=n,Os(this,e)}toString(){return this.snapshot.toString()}};function Jc(t,e){let n=uh(t,e),r=new re([new tt("",{})]),i=new re({}),s=new re({}),o=new re({}),a=new re(""),l=new it(r,i,o,a,s,_,e,n.root);return l.snapshot=n.root,new Ir(new ne(l,[]),n)}function uh(t,e){let n={},r={},i={},s="",o=new fn([],n,i,s,r,_,e,null,{});return new wr("",new ne(o,[]))}var it=class{constructor(e,n,r,i,s,o,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(E(c=>c[vn]))??g(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(E(e=>Rt(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(E(e=>Rt(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Rs(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:m(m({},e.params),t.params),data:m(m({},e.data),t.data),resolve:m(m(m(m({},t.data),e.data),i?.data),t._resolvedData)}:r={params:t.params,data:t.data,resolve:m(m({},t.data),t._resolvedData??{})},i&&Zc(i)&&(r.resolve[vn]=i.title),r}var fn=class{get title(){return this.data?.[vn]}constructor(e,n,r,i,s,o,a,l,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Rt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Rt(this.queryParams)),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},wr=class extends yr{constructor(e,n){super(n),this.url=e,Os(this,n)}toString(){return Xc(this._root)}};function Os(t,e){e.value._routerState=t,e.children.forEach(n=>Os(t,n))}function Xc(t){let e=t.children.length>0?` { ${t.children.map(Xc).join(", ")} } `:"";return`${t.value}${e}`}function Qi(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ge(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),ge(e.params,n.params)||t.paramsSubject.next(n.params),jd(e.url,n.url)||t.urlSubject.next(n.url),ge(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Is(t,e){let n=ge(t.params,e.params)&&zd(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Is(t.parent,e.parent))}function Zc(t){return typeof t.title=="string"||t.title===null}var Ps=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=_,this.activateEvents=new Oe,this.deactivateEvents=new Oe,this.attachEvents=new Oe,this.detachEvents=new Oe,this.parentContexts=h(br),this.location=h(ba),this.changeDetector=h($n),this.environmentInjector=h(vt),this.inputBinder=h(ks,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new U(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new U(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new U(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new U(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new ws(r,l,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=xn({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Un]});let t=e;return t})(),ws=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===it?this.route:e===br?this.childContexts:this.parent.get(e,n)}},ks=new k("");function dh(t,e,n){let r=mn(t,e._root,n?n._root:void 0);return new Ir(r,e)}function mn(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=hh(t,e,n);return new ne(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>mn(t,a)),o}}let r=ph(e.value),i=e.children.map(s=>mn(t,s));return new ne(r,i)}}function hh(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return mn(t,r,i);return mn(t,r)})}function ph(t){return new it(new re(t.url),new re(t.params),new re(t.queryParams),new re(t.fragment),new re(t.data),t.outlet,t.component,t)}var Qc="ngNavigationCancelingError";function el(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Ot(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=tl(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function tl(t,e,n){let r=new Error("NavigationCancelingError: "+(t||""));return r[Qc]=!0,r.cancellationCode=e,n&&(r.url=n),r}function fh(t){return nl(t)&&Ot(t.url)}function nl(t){return t&&t[Qc]}var mh=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=pe({type:e,selectors:[["ng-component"]],standalone:!0,features:[me],decls:1,vars:0,template:function(i,s){i&1&&$(0,"router-outlet")},dependencies:[Ps],encapsulation:2});let t=e;return t})();function gh(t,e){return t.providers&&!t._injector&&(t._injector=Ra(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Ds(t){let e=t.children&&t.children.map(Ds),n=e?L(m({},t),{children:e}):m({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==_&&(n.component=mh),n}function ve(t){return t.outlet||_}function vh(t,e){let n=t.filter(r=>ve(r)===e);return n.push(...t.filter(r=>ve(r)!==e)),n}function yn(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var yh=(t,e,n,r)=>E(i=>(new Es(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Es=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Qi(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=St(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=St(e);for(let o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=St(e);for(let o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=St(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new ms(s.value.snapshot))}),e.children.length&&this.forwardEvent(new ps(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Qi(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Qi(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=yn(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},Er=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},At=class{constructor(e,n){this.component=e,this.route=n}};function Ih(t,e,n){let r=t._root,i=e?e._root:null;return rn(r,i,n,[r.value])}function wh(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Dt(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!da(t)?t:e.get(t):r}function rn(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=St(e);return t.children.forEach(o=>{Eh(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>cn(a,n.getContext(o),i)),i}function Eh(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=_h(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Er(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?rn(t,e,a?a.children:null,r,i):rn(t,e,n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new At(a.outlet.component,o))}else o&&cn(e,a,i),i.canActivateChecks.push(new Er(r)),s.component?rn(t,null,a?a.children:null,r,i):rn(t,null,n,r,i);return i}function _h(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!nt(t.url,e.url);case"pathParamsOrQueryParamsChange":return!nt(t.url,e.url)||!ge(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Is(t,e)||!ge(t.queryParams,e.queryParams);case"paramsChange":default:return!Is(t,e)}}function cn(t,e,n){let r=St(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?cn(o,e.children.getContext(s),n):cn(o,null,n):cn(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new At(e.outlet.component,i)):n.canDeactivateChecks.push(new At(null,i)):n.canDeactivateChecks.push(new At(null,i))}function In(t){return typeof t=="function"}function bh(t){return typeof t=="boolean"}function Th(t){return t&&In(t.canLoad)}function Sh(t){return t&&In(t.canActivate)}function Ch(t){return t&&In(t.canActivateChild)}function Ah(t){return t&&In(t.canDeactivate)}function Rh(t){return t&&In(t.canMatch)}function rl(t){return t instanceof ea||t?.name==="EmptyError"}var ur=Symbol("INITIAL_VALUE");function Pt(){return V(t=>pi(t.map(e=>e.pipe(Z(1),la(ur)))).pipe(E(e=>{for(let n of e)if(n!==!0){if(n===ur)return ur;if(n===!1||n instanceof Be)return n}return!0}),J(e=>e!==ur),Z(1)))}function Oh(t,e){return ie(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?g(L(m({},n),{guardsResult:!0})):Ph(o,r,i,t).pipe(ie(a=>a&&bh(a)?kh(r,s,t,e):g(a)),E(a=>L(m({},n),{guardsResult:a})))})}function Ph(t,e,n,r){return B(t).pipe(ie(i=>xh(i.component,i.route,n,e,r)),Ve(i=>i!==!0,!0))}function kh(t,e,n,r){return B(e).pipe(Se(i=>Ln(Nh(i.route.parent,r),Dh(i.route,r),Lh(t,i.path,n),Mh(t,i.route,n))),Ve(i=>i!==!0,!0))}function Dh(t,e){return t!==null&&e&&e(new fs(t)),g(!0)}function Nh(t,e){return t!==null&&e&&e(new hs(t)),g(!0)}function Mh(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return g(!0);let i=r.map(s=>pt(()=>{let o=yn(e)??n,a=Dt(s,o),l=Sh(a)?a.canActivate(e,t):Re(o,()=>a(e,t));return qe(l).pipe(Ve())}));return g(i).pipe(Pt())}function Lh(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>wh(o)).filter(o=>o!==null).map(o=>pt(()=>{let a=o.guards.map(l=>{let c=yn(o.node)??n,d=Dt(l,c),p=Ch(d)?d.canActivateChild(r,t):Re(c,()=>d(r,t));return qe(p).pipe(Ve())});return g(a).pipe(Pt())}));return g(s).pipe(Pt())}function xh(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return g(!0);let o=s.map(a=>{let l=yn(e)??i,c=Dt(a,l),d=Ah(c)?c.canDeactivate(t,e,n,r):Re(l,()=>c(t,e,n,r));return qe(d).pipe(Ve())});return g(o).pipe(Pt())}function Uh(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return g(!0);let s=i.map(o=>{let a=Dt(o,t),l=Th(a)?a.canLoad(e,n):Re(t,()=>a(e,n));return qe(l)});return g(s).pipe(Pt(),il(r))}function il(t){return Jo(P(e=>{if(Ot(e))throw el(t,e)}),E(e=>e===!0))}function Fh(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return g(!0);let s=i.map(o=>{let a=Dt(o,t),l=Rh(a)?a.canMatch(e,n):Re(t,()=>a(e,n));return qe(l)});return g(s).pipe(Pt(),il(r))}var gn=class{constructor(e){this.segmentGroup=e||null}},_r=class extends Error{constructor(e){super(),this.urlTree=e}};function Tt(t){return Ze(new gn(t))}function jh(t){return Ze(new U(4e3,!1))}function $h(t){return Ze(tl(!1,3))}var _s=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new U(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return g(r);if(i.numberOfChildren>1||!i.children[_])return jh(e.redirectTo);i=i.children[_]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new _r(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Be(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,r,i)}),new R(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new U(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},bs={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Vh(t,e,n,r,i){let s=Ns(t,e,n);return s.matched?(r=gh(e,r),Fh(r,e,n,i).pipe(E(o=>o===!0?s:m({},bs)))):g(s)}function Ns(t,e,n){if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?m({},bs):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Fd)(n,t,e);if(!i)return m({},bs);let s={};Object.entries(i.posParams??{}).forEach(([a,l])=>{s[a]=l.path});let o=i.consumed.length>0?m(m({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Mc(t,e,n,r){return n.length>0&&Wh(t,n,r)?{segmentGroup:new R(e,zh(r,new R(n,t.children))),slicedSegments:[]}:n.length===0&&Bh(t,n,r)?{segmentGroup:new R(t.segments,Hh(t,e,n,r,t.children)),slicedSegments:n}:{segmentGroup:new R(t.segments,t.children),slicedSegments:n}}function Hh(t,e,n,r,i){let s={};for(let o of r)if(Tr(t,n,o)&&!i[ve(o)]){let a=new R([],{});s[ve(o)]=a}return m(m({},i),s)}function zh(t,e){let n={};n[_]=e;for(let r of t)if(r.path===""&&ve(r)!==_){let i=new R([],{});n[ve(r)]=i}return n}function Wh(t,e,n){return n.some(r=>Tr(t,e,r)&&ve(r)!==_)}function Bh(t,e,n){return n.some(r=>Tr(t,e,r))}function Tr(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Gh(t,e,n,r){return ve(t)!==r&&(r===_||!Tr(e,n,t))?!1:t.path==="**"?!0:Ns(e,t,n).matched}function qh(t,e,n){return e.length===0&&!t.children[n]}var Ts=class{};function Kh(t,e,n,r,i,s,o="emptyOnly"){return new Ss(t,e,n,r,i,o,s).recognize()}var Yh=31,Ss=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new _s(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new U(4002,!1)}recognize(){let e=Mc(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(E(n=>{let r=new fn([],Object.freeze({}),Object.freeze(m({},this.urlTree.queryParams)),this.urlTree.fragment,{},_,this.rootComponentType,null,{}),i=new ne(r,n),s=new wr("",i),o=rh(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,_).pipe(mt(r=>{if(r instanceof _r)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof gn?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Rs(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(E(s=>s instanceof ne?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return B(i).pipe(Se(s=>{let o=r.children[s],a=vh(n,s);return this.processSegmentGroup(e,a,o,s)}),ca((s,o)=>(s.push(...o),s)),vi(null),sa(),ie(s=>{if(s===null)return Tt(r);let o=sl(s);return Jh(o),g(o)}))}processSegment(e,n,r,i,s,o){return B(n).pipe(Se(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(mt(l=>{if(l instanceof gn)return g(null);throw l}))),Ve(a=>!!a),mt(a=>{if(rl(a))return qh(r,i,s)?g(new Ts):Tt(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return Gh(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Tt(i):Tt(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:d}=i.path==="**"?Lc(s):Ns(n,i,s);if(!a)return Tt(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Yh&&(this.allowRedirects=!1));let p=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,c);return this.applyRedirects.lineralizeSegments(i,p).pipe(ie(f=>this.processSegment(e,r,n,f.concat(d),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o;return r.path==="**"?(o=g(Lc(i)),n.children={}):o=Vh(n,r,i,e,this.urlSerializer),o.pipe(V(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(V(({routes:l})=>{let c=r._loadedInjector??e,{consumedSegments:d,remainingSegments:p,parameters:f}=a,S=new fn(d,f,Object.freeze(m({},this.urlTree.queryParams)),this.urlTree.fragment,Zh(r),ve(r),r.component??r._loadedComponent??null,r,Qh(r)),{segmentGroup:q,slicedSegments:ae}=Mc(n,d,p,l);if(ae.length===0&&q.hasChildren())return this.processChildren(c,l,q).pipe(E(C=>C===null?null:new ne(S,C)));if(l.length===0&&ae.length===0)return g(new ne(S,[]));let A=ve(r)===s;return this.processSegment(c,l,q,ae,A?_:s,!0).pipe(E(C=>new ne(S,C instanceof ne?[C]:[])))}))):Tt(n)))}getChildConfig(e,n,r){return n.children?g({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?g({routes:n._loadedRoutes,injector:n._loadedInjector}):Uh(e,n,r,this.urlSerializer).pipe(ie(i=>i?this.configLoader.loadChildren(e,n).pipe(P(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):$h(n))):g({routes:[],injector:e})}};function Jh(t){t.sort((e,n)=>e.value.outlet===_?-1:n.value.outlet===_?1:e.value.outlet.localeCompare(n.value.outlet))}function Xh(t){let e=t.value.routeConfig;return e&&e.path===""}function sl(t){let e=[],n=new Set;for(let r of t){if(!Xh(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=sl(r.children);e.push(new ne(r.value,i))}return e.filter(r=>!n.has(r))}function Zh(t){return t.data||{}}function Qh(t){return t.resolve||{}}function Lc(t){return{matched:!0,parameters:t.length>0?Uc(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function ep(t,e,n,r,i,s){return ie(o=>Kh(t,e,n,r,o.extractedUrl,i,s).pipe(E(({state:a,tree:l})=>L(m({},o),{targetSnapshot:a,urlAfterRedirects:l}))))}function tp(t,e){return ie(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return g(n);let s=new Set(i.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let c of ol(l))o.add(c);let a=0;return B(o).pipe(Se(l=>s.has(l)?np(l,r,t,e):(l.data=Rs(l,l.parent,t).resolve,g(void 0))),P(()=>a++),yi(1),ie(l=>a===o.size?g(n):Te))})}function ol(t){let e=t.children.map(n=>ol(n)).flat();return[t,...e]}function np(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!Zc(i)&&(s[vn]=i.title),rp(s,t,e,r).pipe(E(o=>(t._resolvedData=o,t.data=Rs(t,t.parent,n).resolve,null)))}function rp(t,e,n,r){let i=ns(t);if(i.length===0)return g({});let s={};return B(i).pipe(ie(o=>ip(t[o],e,n,r).pipe(Ve(),P(a=>{s[o]=a}))),yi(1),ra(s),mt(o=>rl(o)?Te:Ze(o)))}function ip(t,e,n,r){let i=yn(e)??r,s=Dt(t,i),o=s.resolve?s.resolve(e,n):Re(i,()=>s(e,n));return qe(o)}function es(t){return V(e=>{let n=t(e);return n?B(n).pipe(E(()=>e)):g(e)})}var al=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===_);return i}getResolvedTitleForRoute(r){return r.data[vn]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:()=>(()=>h(sp))(),providedIn:"root"});let t=e;return t})(),sp=(()=>{let e=class e extends al{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(T(Ji))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ms=new k("",{providedIn:"root",factory:()=>({})}),Ls=new k("ROUTES"),op=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=h(Oi)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return g(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=qe(r.loadComponent()).pipe(E(cl),P(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),gt(()=>{this.componentLoaders.delete(r)})),s=new ui(i,()=>new he).pipe(li());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return g({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=ap(i,this.compiler,r,this.onLoadEndListener).pipe(gt(()=>{this.childrenLoaders.delete(i)})),a=new ui(o,()=>new he).pipe(li());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ap(t,e,n,r){return qe(t.loadChildren()).pipe(E(cl),ie(i=>i instanceof Aa||Array.isArray(i)?g(i):B(e.compileModuleAsync(i))),E(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Ls,[],{optional:!0,self:!0}).flat()),{routes:o.map(Ds),injector:s}}))}function cp(t){return t&&typeof t=="object"&&"default"in t}function cl(t){return cp(t)?t.default:t}var xs=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:()=>(()=>h(lp))(),providedIn:"root"});let t=e;return t})(),lp=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),up=new k("");var dp=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new he,this.transitionAbortSubject=new he,this.configLoader=h(op),this.environmentInjector=h(vt),this.urlSerializer=h(As),this.rootContexts=h(br),this.location=h(Kn),this.inputBindingEnabled=h(ks,{optional:!0})!==null,this.titleStrategy=h(al),this.options=h(Ms,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=h(xs),this.createViewTransition=h(up,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>g(void 0),this.rootComponentType=null;let r=s=>this.events.next(new us(s)),i=s=>this.events.next(new ds(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(L(m(m({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new re({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:an,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(J(o=>o.id!==0),E(o=>L(m({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),V(o=>{this.currentTransition=o;let a=!1,l=!1;return g(o).pipe(P(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?L(m({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),V(c=>{let d=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=c.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!d&&p!=="reload"){let f="";return this.events.next(new rt(c.id,this.urlSerializer.serialize(c.rawUrl),f,0)),c.resolve(null),Te}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return g(c).pipe(V(f=>{let S=this.transitions?.getValue();return this.events.next(new un(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),S!==this.transitions?.getValue()?Te:Promise.resolve(f)}),ep(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),P(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=L(m({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let S=new vr(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(S)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:f,extractedUrl:S,source:q,restoredState:ae,extras:A}=c,C=new un(f,this.urlSerializer.serialize(S),q,ae);this.events.next(C);let ce=Jc(S,this.rootComponentType).snapshot;return this.currentTransition=o=L(m({},c),{targetSnapshot:ce,urlAfterRedirects:S,extras:L(m({},A),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=S,g(o)}else{let f="";return this.events.next(new rt(c.id,this.urlSerializer.serialize(c.extractedUrl),f,1)),c.resolve(null),Te}}),P(c=>{let d=new os(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),E(c=>(this.currentTransition=o=L(m({},c),{guards:Ih(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),Oh(this.environmentInjector,c=>this.events.next(c)),P(c=>{if(o.guardsResult=c.guardsResult,Ot(c.guardsResult))throw el(this.urlSerializer,c.guardsResult);let d=new as(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(d)}),J(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",3),!1)),es(c=>{if(c.guards.canActivateChecks.length)return g(c).pipe(P(d=>{let p=new cs(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}),V(d=>{let p=!1;return g(d).pipe(tp(this.paramsInheritanceStrategy,this.environmentInjector),P({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(d,"",2)}}))}),P(d=>{let p=new ls(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}))}),es(c=>{let d=p=>{let f=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(p.routeConfig).pipe(P(S=>{p.component=S}),E(()=>{})));for(let S of p.children)f.push(...d(S));return f};return pi(d(c.targetSnapshot.root)).pipe(vi(),Z(1))}),es(()=>this.afterPreactivation()),V(()=>{let{currentSnapshot:c,targetSnapshot:d}=o,p=this.createViewTransition?.(this.environmentInjector,c.root,d.root);return p?B(p).pipe(E(()=>o)):g(o)}),E(c=>{let d=dh(r.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=L(m({},c),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),P(()=>{this.events.next(new hn)}),yh(this.rootContexts,r.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Z(1),P({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Me(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),ua(this.transitionAbortSubject.pipe(P(c=>{throw c}))),gt(()=>{if(!a&&!l){let c="";this.cancelNavigationTransition(o,c,1)}this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),mt(c=>{if(l=!0,nl(c))this.events.next(new Ge(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),fh(c)?this.events.next(new pn(c.url)):o.resolve(!1);else{this.events.next(new dn(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(c))}catch(d){o.reject(d)}}return Te}))}))}cancelNavigationTransition(r,i,s){let o=new Ge(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function hp(t){return t!==an}var pp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:()=>(()=>h(fp))(),providedIn:"root"});let t=e;return t})(),Cs=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},fp=(()=>{let e=class e extends Cs{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=wi(e)))(s||e)}})(),e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ll=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:()=>(()=>h(mp))(),providedIn:"root"});let t=e;return t})(),mp=(()=>{let e=class e extends ll{constructor(){super(...arguments),this.location=h(Kn),this.urlSerializer=h(As),this.options=h(Ms,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=h(xs),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Be,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Jc(this.currentUrlTree,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof un)this.stateMemento=this.createStateMemento();else if(r instanceof rt)this.rawUrlTree=i.initialUrl;else if(r instanceof vr){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof hn?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Ge&&(r.code===3||r.code===2)?this.restoreHistory(i):r instanceof dn?this.restoreHistory(i,!0):r instanceof Me&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=m(m({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=m(m({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=wi(e)))(s||e)}})(),e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),sn=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(sn||{});function gp(t,e){t.events.pipe(J(n=>n instanceof Me||n instanceof Ge||n instanceof dn||n instanceof rt),E(n=>n instanceof Me||n instanceof rt?sn.COMPLETE:(n instanceof Ge?n.code===0||n.code===1:!1)?sn.REDIRECTING:sn.FAILED),J(n=>n!==sn.REDIRECTING),Z(1)).subscribe(()=>{e()})}function vp(t){throw t}var yp={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ip={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Sr=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=h(Wn),this.stateManager=h(ll),this.options=h(Ms,{optional:!0})||{},this.pendingTasks=h(Bn),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=h(dp),this.urlSerializer=h(As),this.location=h(Kn),this.urlHandlingStrategy=h(xs),this._events=new he,this.errorHandler=this.options.errorHandler||vp,this.navigated=!1,this.routeReuseStrategy=h(pp),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=h(Ls,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!h(ks,{optional:!0}),this.eventsSubscription=new Yo,this.isNgZoneEnabled=h(j)instanceof j&&j.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Ge&&i.code!==0&&i.code!==1)this.navigated=!0;else if(i instanceof Me)this.navigated=!0;else if(i instanceof pn){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),l={skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||hp(s.source)};this.scheduleNavigation(a,an,null,l,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}Ep(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),an,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)}))}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let c=m({},s);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let l=this.parseUrl(r);this.scheduleNavigation(l,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Ds),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:l,preserveFragment:c}=i,d=c?this.currentUrlTree.fragment:a,p=null;switch(l){case"merge":p=m(m({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}p!==null&&(p=this.removeEmptyProps(p));let f;try{let S=s?s.snapshot:this.routerState.snapshot.root;f=Gc(S)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),f=this.currentUrlTree.root}return qc(f,r,p,d??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=Ot(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,an,null,i)}navigate(r,i={skipLocationChange:!1}){return wp(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=m({},yp):i===!1?s=m({},Ip):s=i,Ot(r))return Pc(this.currentUrlTree,r,s);let o=this.parseUrl(r);return Pc(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.keys(r).reduce((i,s)=>{let o=r[s];return o!=null&&(i[s]=o),i},{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let l,c,d;a?(l=a.resolve,c=a.reject,d=a.promise):d=new Promise((f,S)=>{l=f,c=S});let p=this.pendingTasks.add();return gp(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:l,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(f=>Promise.reject(f))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function wp(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new U(4008,!1)}function Ep(t){return!(t instanceof hn)&&!(t instanceof pn)}var kt=(()=>{let e=class e{constructor(r,i,s,o,a,l){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=l,this.href=null,this.commands=null,this.onChanges=new he,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=r.events.subscribe(d=>{d instanceof Me&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){if(this.urlTree===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state};return this.router.navigateByUrl(this.urlTree,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=this.urlTree!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;let r=this.href===null?null:va(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(ue(Sr),ue(it),ha("tabindex"),ue(Si),ue(Ti),ue(Di))},e.\u0275dir=xn({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&x("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&Ea("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",qn],skipLocationChange:["skipLocationChange","skipLocationChange",qn],replaceUrl:["replaceUrl","replaceUrl",qn],routerLink:"routerLink"},standalone:!0,features:[wa,Un]});let t=e;return t})(),ul=(()=>{let e=class e{get isActive(){return this._isActive}constructor(r,i,s,o,a){this.router=r,this.element=i,this.renderer=s,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Oe,this.routerEventsSubscription=r.events.subscribe(l=>{l instanceof Me&&this.update()})}ngAfterContentInit(){g(this.links.changes,g(null)).pipe(fi()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=B(r).pipe(fi()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(s=>!!s)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(r))})}isLinkActive(r){let i=_p(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>s.urlTree?r.isActive(s.urlTree,i):!1}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};e.\u0275fac=function(i){return new(i||e)(ue(Sr),ue(Ti),ue(Si),ue($n),ue(kt,8))},e.\u0275dir=xn({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,s,o){if(i&1&&ka(o,kt,5),i&2){let a;Pa(a=Da())&&(s.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Un]});let t=e;return t})();function _p(t){return!!t.paths}var bp=new k("");function dl(t,...e){return Ae([{provide:Ls,multi:!0,useValue:t},[],{provide:it,useFactory:Tp,deps:[Sr]},{provide:Pi,multi:!0,useFactory:Sp},e.map(n=>n.\u0275providers)])}function Tp(t){return t.routerState.root}function Sp(){let t=h(le);return e=>{let n=t.get(It);if(e!==n.components[0])return;let r=t.get(Sr),i=t.get(Cp);t.get(Ap)===1&&r.initialNavigation(),t.get(Rp,null,Ii.Optional)?.setUpPreloading(),t.get(bp,null,Ii.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Cp=new k("",{factory:()=>new he}),Ap=new k("",{providedIn:"root",factory:()=>1});var Rp=new k("");var hl=(()=>{let e=class e{constructor(){this.http=h(Ne),this.netApiUrl=h(Le)}getExerciseLogsv2(){return this.http.get(`${this.netApiUrl}/logs?page=0&count=5`).pipe(E(r=>r.data))}createExerciseLog(r){return this.http.post(`${this.netApiUrl}/logs`,r)}updateExerciseLog(r){return this.http.put(`${this.netApiUrl}/logs/${r.id}`,r)}deleteExerciseLog(r){return this.http.delete(`${this.netApiUrl}/logs/${r}`)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var pl=(()=>{let e=class e{constructor(){this.http=h(Ne),this.netApiUrl=h(Le)}getExercises(){return this.http.get(`${this.netApiUrl}/exercises`).pipe(E(r=>r.data))}createExercise(r){return this.http.post(`${this.netApiUrl}/exercises`,r)}updateExercise(r){return this.http.put(`${this.netApiUrl}/exercises/${r.id}`,r)}deleteExercise(r){return this.http.delete(`${this.netApiUrl}/exercises/${r}`)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Op(t,e){if(t&1&&(y(0,"div",12),N(1),v()),t&2){let n=e.$implicit;b(1),yt(n.value)}}function Pp(t,e){if(t&1&&(Pe(0,Op,2,1,"div",13,Gt),Hn(2,"keyvalue")),t&2){let n=M();ke(zn(2,0,n.createOrUpdateLogFormGroup.errors==null?null:n.createOrUpdateLogFormGroup.errors.user))}}function kp(t,e){if(t&1&&(y(0,"div",12),N(1),v()),t&2){let n=e.$implicit;b(1),yt(n.value)}}function Dp(t,e){if(t&1&&(Pe(0,kp,2,1,"div",13,Gt),Hn(2,"keyvalue")),t&2){let n=M();ke(zn(2,0,n.createOrUpdateLogFormGroup.errors==null?null:n.createOrUpdateLogFormGroup.errors.exercise))}}function Np(t,e){if(t&1&&(y(0,"div",14)(1,"span",15),N(2),v(),$(3,"input",16)(4,"input",17),v()),t&2){let n=e.$implicit,r=e.$index;b(2),Qe("Serie ",r+1,""),b(1),F("formControl",n.controls.reps),b(1),F("formControl",n.controls.weightInKg)}}function Mp(t,e){if(t&1&&(y(0,"div",12),N(1),v()),t&2){let n=e.$implicit;b(1),yt(n.value)}}function Lp(t,e){if(t&1&&(Pe(0,Mp,2,1,"div",13,Gt),Hn(2,"keyvalue")),t&2){let n=M();ke(zn(2,0,n.createOrUpdateLogFormGroup.errors==null?null:n.createOrUpdateLogFormGroup.errors.series))}}function xp(t,e){}var Up=t=>({"justify-content-between":t}),Fp=(t,e)=>({"btn-primary":t,"btn-secondary":e}),fl=(()=>{let e=class e{constructor(){this.modal=h(rc),this.exerciseLogService=h(De),this.mode=null,this.createOrUpdateLogFormGroup=null,this.originalValue=null,this.exerciseSelector=r=>typeof r=="string"?"":r?.name??""}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=pe({type:e,selectors:[["app-exercise-row-body"]],inputs:{mode:"mode",createOrUpdateLogFormGroup:"createOrUpdateLogFormGroup",originalValue:"originalValue"},standalone:!0,features:[me],decls:25,vars:19,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3"],[1,"input-group"],["placeholder","Username",3,"items","control"],["type","date","placeholder","DD-MM-YYYY","placeholder","Reps",1,"form-control",3,"formControl"],["placeholder","Exercise",3,"items","control","itemSelector"],[1,"modal-footer",3,"ngClass"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn",3,"ngClass","disabled","click"],[1,"d-block","invalid-feedback"],["class","d-block invalid-feedback"],[1,"input-group","mb-3","align-items-center"],[1,"input-group-text"],["type","number","placeholder","Reps",1,"form-control",3,"formControl"],["type","number","placeholder","Kg",1,"form-control",3,"formControl"],["class","input-group mb-3 align-items-center"]],template:function(i,s){i&1&&(y(0,"div",0)(1,"h4",1),N(2),v(),y(3,"button",2),x("click",function(){return s.modal.dismiss()}),v()(),y(4,"div",3)(5,"form")(6,"div",4)(7,"div",5),$(8,"app-typeahead",6),v(),Q(9,Pp,3,2),v(),y(10,"div",4),$(11,"input",7),v(),y(12,"div",4)(13,"div",5),$(14,"app-typeahead",8),v(),Q(15,Dp,3,2),v(),Pe(16,Np,5,3,"div",18,Gt),Q(18,Lp,3,2),v()(),y(19,"div",9),Q(20,xp,0,0),y(21,"button",10),x("click",function(){return s.modal.dismiss()}),N(22," Cancel "),v(),y(23,"button",11),x("click",function(){return s.modal.close()}),N(24," Save "),v()()),i&2&&(b(2),Qe("",s.mode==="update"?"Edit":"Create"," Log"),b(6),F("items",s.exerciseLogService.usernames)("control",s.createOrUpdateLogFormGroup.controls.user),b(1),ee(9,s.createOrUpdateLogFormGroup.controls.user.pristine?-1:9),b(2),F("formControl",s.createOrUpdateLogFormGroup.controls.date),b(3),F("items",s.exerciseLogService.exercises)("control",s.createOrUpdateLogFormGroup.controls.exercise)("itemSelector",s.exerciseSelector),b(1),ee(15,s.createOrUpdateLogFormGroup.controls.exercise.pristine?-1:15),b(1),ke(s.createOrUpdateLogFormGroup.controls.series.controls),b(2),ee(18,s.createOrUpdateLogFormGroup.controls.series.pristine?-1:18),b(1),F("ngClass",qt(14,Up,s.mode==="update")),b(1),ee(20,s.mode==="update"?20:-1),b(3),F("ngClass",Oa(16,Fp,s.createOrUpdateLogFormGroup.valid,s.createOrUpdateLogFormGroup.invalid))("disabled",s.createOrUpdateLogFormGroup.invalid))},dependencies:[Ja,Ga,Ha,qa,za,Wa,Ka,Ya,Ba,oc,Jn,cc,ja],styles:["[_nghost-%COMP%]{--bs-heading-color: white;--bs-modal-color: white;--bs-body-bg: var(--light-bg);--bs-body-color: var(--font-color);--bs-tertiary-bg: var(--primary);--bs-border-width: 0;--bs-modal-footer-border-width: 0;--bs-modal-header-border-width: 0;--bs-modal-header-padding: .5rem}"],changeDetection:0});let t=e;return t})();var Cr=(()=>{let e=class e{constructor(){this.toasts=[]}show(r){this.toasts.push(r)}ok(r){this.show({text:r,type:"success"})}error(r){this.show({text:r??"An error ocurred",type:"danger"})}remove(r){this.toasts=this.toasts.filter(i=>i!==r)}clear(){this.toasts=[]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var gl=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},jp=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},vl={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=s>>2,p=(s&3)<<4|a>>4,f=(a&15)<<2|c>>6,S=c&63;l||(S=64,o||(f=64)),r.push(n[d],n[p],n[f],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(gl(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):jp(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let c=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||p==null)throw new Fs;let f=s<<2|a>>4;if(r.push(f),c!==64){let S=a<<4&240|c>>2;if(r.push(S),p!==64){let q=c<<6&192|p;r.push(q)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Fs=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},$p=function(t){let e=gl(t);return vl.encodeByteArray(e,!0)},$s=function(t){return $p(t).replace(/\./g,"")},Vs=function(t){try{return vl.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Vp(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Hp=()=>Vp().__FIREBASE_DEFAULTS__,zp=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Wp=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Vs(t[1]);return e&&JSON.parse(e)},Hs=()=>{try{return Hp()||zp()||Wp()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},yl=t=>{var e,n;return(n=(e=Hs())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]};var zs=()=>{var t;return(t=Hs())===null||t===void 0?void 0:t.config},Ws=t=>{var e;return(e=Hs())===null||e===void 0?void 0:e[`_${t}`]};var Ar=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function W(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Il(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(W())}function wl(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function El(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _l(){let t=W();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function bl(){try{return typeof indexedDB=="object"}catch{return!1}}function Tl(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var Bp="FirebaseError",de=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Bp,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xe.prototype.create)}},xe=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Gp(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new de(i,a,r)}};function Gp(t,e){return t.replace(qp,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var qp=/\{\$([^}]+)}/g;function Sl(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Nt(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(ml(s)&&ml(o)){if(!Nt(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function ml(t){return t!==null&&typeof t=="object"}function Mt(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Cl(t,e){let n=new js(t,e);return n.subscribe.bind(n)}var js=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Kp(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Us),i.error===void 0&&(i.error=Us),i.complete===void 0&&(i.complete=Us);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Kp(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Us(){}var tw=4*60*60*1e3;function Ke(t){return t&&t._delegate?t._delegate:t}var ye=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var st="[DEFAULT]";var Bs=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Ar;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Jp(e))try{this.getOrInitializeService({instanceIdentifier:st})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=st){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return u(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=st){return this.instances.has(e)}getOptions(e=st){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Yp(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=st){return this.component?this.component.multipleInstances?e:st:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Yp(t){return t===st?void 0:t}function Jp(t){return t.instantiationMode==="EAGER"}var Rr=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Bs(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var Xp=[],D=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(D||{}),Zp={debug:D.DEBUG,verbose:D.VERBOSE,info:D.INFO,warn:D.WARN,error:D.ERROR,silent:D.SILENT},Qp=D.INFO,ef={[D.DEBUG]:"log",[D.VERBOSE]:"log",[D.INFO]:"info",[D.WARN]:"warn",[D.ERROR]:"error"},tf=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=ef[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Lt=class{constructor(e){this.name=e,this._logLevel=Qp,this._logHandler=tf,this._userLogHandler=null,Xp.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in D))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Zp[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,D.DEBUG,...e),this._logHandler(this,D.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,D.VERBOSE,...e),this._logHandler(this,D.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,D.INFO,...e),this._logHandler(this,D.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,D.WARN,...e),this._logHandler(this,D.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,D.ERROR,...e),this._logHandler(this,D.ERROR,...e)}};var nf=(t,e)=>e.some(n=>t instanceof n),Al,Rl;function rf(){return Al||(Al=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sf(){return Rl||(Rl=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Ol=new WeakMap,qs=new WeakMap,Pl=new WeakMap,Gs=new WeakMap,Ys=new WeakMap;function of(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ie(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Ol.set(n,t)}).catch(()=>{}),Ys.set(e,t),e}function af(t){if(qs.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});qs.set(t,e)}var Ks={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return qs.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Pl.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ie(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function kl(t){Ks=t(Ks)}function cf(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Or(this),e,...n);return Pl.set(r,e.sort?e.sort():[e]),Ie(r)}:sf().includes(t)?function(...e){return t.apply(Or(this),e),Ie(Ol.get(this))}:function(...e){return Ie(t.apply(Or(this),e))}}function lf(t){return typeof t=="function"?cf(t):(t instanceof IDBTransaction&&af(t),nf(t,rf())?new Proxy(t,Ks):t)}function Ie(t){if(t instanceof IDBRequest)return of(t);if(Gs.has(t))return Gs.get(t);let e=lf(t);return e!==t&&(Gs.set(t,e),Ys.set(e,t)),e}var Or=t=>Ys.get(t);function Nl(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=Ie(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ie(o.result),l.oldVersion,l.newVersion,Ie(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}var uf=["get","getKey","getAll","getAllKeys","count"],df=["put","add","delete","clear"],Js=new Map;function Dl(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Js.get(e))return Js.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=df.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||uf.includes(n)))return;let s=function(o,...a){return u(this,null,function*(){let l=this.transaction(o,i?"readwrite":"readonly"),c=l.store;return r&&(c=c.index(a.shift())),(yield Promise.all([c[n](...a),i&&l.done]))[0]})};return Js.set(e,s),s}kl(t=>L(m({},t),{get:(e,n,r)=>Dl(e,n)||t.get(e,n,r),has:(e,n)=>!!Dl(e,n)||t.has(e,n)}));var Zs=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hf(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function hf(t){let e=t.getComponent();return e?.type==="VERSION"}var Qs="@firebase/app",Ml="0.9.28";var ot=new Lt("@firebase/app"),pf="@firebase/app-compat",ff="@firebase/analytics-compat",mf="@firebase/analytics",gf="@firebase/app-check-compat",vf="@firebase/app-check",yf="@firebase/auth",If="@firebase/auth-compat",wf="@firebase/database",Ef="@firebase/database-compat",_f="@firebase/functions",bf="@firebase/functions-compat",Tf="@firebase/installations",Sf="@firebase/installations-compat",Cf="@firebase/messaging",Af="@firebase/messaging-compat",Rf="@firebase/performance",Of="@firebase/performance-compat",Pf="@firebase/remote-config",kf="@firebase/remote-config-compat",Df="@firebase/storage",Nf="@firebase/storage-compat",Mf="@firebase/firestore",Lf="@firebase/firestore-compat",xf="firebase",Uf="10.8.1";var eo="[DEFAULT]",Ff={[Qs]:"fire-core",[pf]:"fire-core-compat",[mf]:"fire-analytics",[ff]:"fire-analytics-compat",[vf]:"fire-app-check",[gf]:"fire-app-check-compat",[yf]:"fire-auth",[If]:"fire-auth-compat",[wf]:"fire-rtdb",[Ef]:"fire-rtdb-compat",[_f]:"fire-fn",[bf]:"fire-fn-compat",[Tf]:"fire-iid",[Sf]:"fire-iid-compat",[Cf]:"fire-fcm",[Af]:"fire-fcm-compat",[Rf]:"fire-perf",[Of]:"fire-perf-compat",[Pf]:"fire-rc",[kf]:"fire-rc-compat",[Df]:"fire-gcs",[Nf]:"fire-gcs-compat",[Mf]:"fire-fst",[Lf]:"fire-fst-compat","fire-js":"fire-js",[xf]:"fire-js-all"};var wn=new Map,to=new Map;function jf(t,e){try{t.container.addComponent(e)}catch(n){ot.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function xt(t){let e=t.name;if(to.has(e))return ot.debug(`There were multiple attempts to register component ${e}.`),!1;to.set(e,t);for(let n of wn.values())jf(n,t);return!0}function so(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var $f={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ye=new xe("app","Firebase",$f);var no=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ye("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ye.create("app-deleted",{appName:this._name})}};var Ut=Uf;function oo(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:eo,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ye.create("bad-app-name",{appName:String(i)});if(n||(n=zs()),!n)throw Ye.create("no-options");let s=wn.get(i);if(s){if(Nt(n,s.options)&&Nt(r,s.config))return s;throw Ye.create("duplicate-app",{appName:i})}let o=new Rr(i);for(let l of to.values())o.addComponent(l);let a=new no(n,r,o);return wn.set(i,a),a}function Pr(t=eo){let e=wn.get(t);if(!e&&t===eo&&zs())return oo();if(!e)throw Ye.create("no-app",{appName:t});return e}function kr(){return Array.from(wn.values())}function X(t,e,n){var r;let i=(r=Ff[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ot.warn(a.join(" "));return}xt(new ye(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Vf="firebase-heartbeat-database",Hf=1,En="firebase-heartbeat-store",Xs=null;function Fl(){return Xs||(Xs=Nl(Vf,Hf,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(En)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ye.create("idb-open",{originalErrorMessage:t.message})})),Xs}function zf(t){return u(this,null,function*(){try{let n=(yield Fl()).transaction(En),r=yield n.objectStore(En).get(jl(t));return yield n.done,r}catch(e){if(e instanceof de)ot.warn(e.message);else{let n=Ye.create("idb-get",{originalErrorMessage:e?.message});ot.warn(n.message)}}})}function Ll(t,e){return u(this,null,function*(){try{let r=(yield Fl()).transaction(En,"readwrite");yield r.objectStore(En).put(e,jl(t)),yield r.done}catch(n){if(n instanceof de)ot.warn(n.message);else{let r=Ye.create("idb-set",{originalErrorMessage:n?.message});ot.warn(r.message)}}})}function jl(t){return`${t.name}!${t.options.appId}`}var Wf=1024,Bf=30*24*60*60*1e3,ro=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new io(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return u(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=xl();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=Bf}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return u(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=xl(),{heartbeatsToSend:r,unsentEntries:i}=Gf(this._heartbeatsCache.heartbeats),s=$s(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function xl(){return new Date().toISOString().substring(0,10)}function Gf(t,e=Wf){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Ul(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ul(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var io=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return u(this,null,function*(){return bl()?Tl().then(()=>!0).catch(()=>!1):!1})}read(){return u(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield zf(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return u(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Ll(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return u(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Ll(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function Ul(t){return $s(JSON.stringify({version:2,heartbeats:t})).length}function qf(t){xt(new ye("platform-logger",e=>new Zs(e),"PRIVATE")),xt(new ye("heartbeat",e=>new ro(e),"PRIVATE")),X(Qs,Ml,t),X(Qs,Ml,"esm2017"),X("fire-js","")}qf("");var Kf="firebase",Yf="10.8.1";X(Kf,Yf,"app");var _n=new jn("ANGULARFIRE2_VERSION");function $l(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var co=(t,e)=>{let n=e?[e]:kr(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Dr=class{constructor(){return co(Jf)}},Jf="app-check";function Ft(){}var Nr=class{zone;delegate;constructor(e,n=Zo){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},ao=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ft,{},Ft,Ft)),n.pipe(P({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Mr=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Nr(Zone.current)),this.insideAngular=n.run(()=>new Nr(Zone.current,Xo)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(T(j))};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Lr(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Xf(t){return Lr().ngZone.runOutsideAngular(()=>t())}function at(t){return Lr().ngZone.run(()=>t())}function Zf(t){return Qf(Lr())(t)}function Qf(t){return function(n){return n=n.lift(new ao(t.ngZone)),n.pipe(hi(t.outsideAngular),di(t.insideAngular))}}var em=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),at(()=>t.apply(void 0,r))},bn=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=at(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ft,{},Ft,Ft))),r[s]=em(r[s],n));let i=Xf(()=>t.apply(this,r));if(!e)if(i instanceof zt){let s=Lr();return i.pipe(hi(s.outsideAngular),di(s.insideAngular))}else return at(()=>i);return i instanceof zt?i.pipe(Zf):i instanceof Promise?at(()=>new Promise((s,o)=>i.then(a=>at(()=>s(a)),a=>at(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:at(()=>i)};var ct=class{constructor(e){return e}},Tn=class{constructor(){return kr()}};function tm(t){return t&&t.length===1?t[0]:new ct(Pr())}var lo=new k("angularfire2._apps"),nm={provide:ct,useFactory:tm,deps:[[new Ce,lo]]},rm={provide:Tn,deps:[[new Ce,lo]]};function im(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ct(r)}}var sm=(()=>{class t{constructor(n){X("angularfire",_n.full,"core"),X("angularfire",_n.full,"app"),X("angular",ya.full,n.toString())}static \u0275fac=function(r){return new(r||t)(T(se))};static \u0275mod=ze({type:t});static \u0275inj=He({providers:[nm,rm]})}return t})();function Vl(t,...e){return{ngModule:sm,providers:[{provide:lo,useFactory:im(t),multi:!0,deps:[j,le,Mr,...e]}]}}var Hl=bn(oo,!0);function nu(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var ru=nu,iu=new xe("auth","Firebase",nu());var Vr=new Lt("@firebase/auth");function om(t,...e){Vr.logLevel<=D.WARN&&Vr.warn(`Auth (${Ut}): ${t}`,...e)}function Ur(t,...e){Vr.logLevel<=D.ERROR&&Vr.error(`Auth (${Ut}): ${t}`,...e)}function _e(t,...e){throw Ao(t,...e)}function we(t,...e){return Ao(t,...e)}function su(t,e,n){let r=Object.assign(Object.assign({},ru()),{[e]:n});return new xe("auth","Firebase",r).create(e,{appName:t.name})}function am(t,e,n){let r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&_e(t,"argument-error"),su(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ao(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return iu.create(t,...e)}function w(t,e,...n){if(!t)throw Ao(e,...n)}function Ue(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Ur(e),new Error(e)}function je(t,e){t||Ue(e)}function po(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function cm(){return zl()==="http:"||zl()==="https:"}function zl(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function lm(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cm()||wl()||"connection"in navigator)?navigator.onLine:!0}function um(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var lt=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,je(n>e,"Short delay should be less than long delay!"),this.isMobile=Il()||El()}get(){return lm()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Ro(t,e){je(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Hr=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ue("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ue("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ue("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var dm={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var hm=new lt(3e4,6e4);function Oo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function $t(s,o,a,l){return u(this,arguments,function*(t,e,n,r,i={}){return ou(t,i,()=>u(this,null,function*(){let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});let p=Mt(Object.assign({key:t.config.apiKey},d)).slice(1),f=yield t._getAdditionalHeaders();return f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode),Hr.fetch()(au(t,t.config.apiHost,n,p),Object.assign({method:e,headers:f,referrerPolicy:"no-referrer"},c))}))})}function ou(t,e,n){return u(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},dm),e);try{let i=new fo(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw xr(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw xr(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw xr(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw xr(t,"user-disabled",o);let d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw su(t,d,c);_e(t,d)}}catch(i){if(i instanceof de)throw i;_e(t,"network-request-failed",{message:String(i)})}})}function pm(s,o,a,l){return u(this,arguments,function*(t,e,n,r,i={}){let c=yield $t(t,e,n,r,i);return"mfaPendingCredential"in c&&_e(t,"multi-factor-auth-required",{_serverResponse:c}),c})}function au(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Ro(t.config,i):`${t.config.apiScheme}://${i}`}var fo=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(we(this.auth,"network-request-failed")),hm.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function xr(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=we(t,e,r);return i.customData._tokenResponse=n,i}function fm(t,e){return u(this,null,function*(){return $t(t,"POST","/v1/accounts:delete",e)})}function mm(t,e){return u(this,null,function*(){return $t(t,"POST","/v1/accounts:lookup",e)})}function Sn(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Po(t,e=!1){return u(this,null,function*(){let n=Ke(t),r=yield n.getIdToken(e),i=ko(r);w(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Sn(uo(i.auth_time)),issuedAtTime:Sn(uo(i.iat)),expirationTime:Sn(uo(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function uo(t){return Number(t)*1e3}function ko(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ur("JWT malformed, contained fewer than 3 sections"),null;try{let i=Vs(n);return i?JSON.parse(i):(Ur("Failed to decode base64 JWT payload"),null)}catch(i){return Ur("Caught error parsing JWT payload as JSON",i?.toString()),null}}function gm(t){let e=ko(t);return w(e,"internal-error"),w(typeof e.exp<"u","internal-error"),w(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Cn(t,e,n=!1){return u(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof de&&vm(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function vm({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var mo=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>u(this,null,function*(){yield this.iteration()}),n)}iteration(){return u(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var zr=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sn(this.lastLoginAt),this.creationTime=Sn(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Wr(t){return u(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Cn(t,mm(n,{idToken:r}));w(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Im(s.providerUserInfo):[],a=ym(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!a?.length,d=l?c:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new zr(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,p)})}function Do(t){return u(this,null,function*(){let e=Ke(t);yield Wr(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function ym(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Im(t){return t.map(e=>{var{providerId:n}=e,r=Nn(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function wm(t,e){return u(this,null,function*(){let n=yield ou(t,{},()=>u(this,null,function*(){let r=Mt({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=au(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Hr.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function Em(t,e){return u(this,null,function*(){return $t(t,"POST","/v2/accounts:revokeToken",Oo(t,e))})}var Br=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){w(e.idToken,"internal-error"),w(typeof e.idToken<"u","internal-error"),w(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gm(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return u(this,null,function*(){return w(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return u(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield wm(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(w(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(w(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(w(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Ue("not implemented")}};function Je(t,e){w(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var An=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Nn(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new zr(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return u(this,null,function*(){let n=yield Cn(this,this.stsTokenManager.getToken(this.auth,e));return w(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Po(this,e)}reload(){return Do(this)}_assign(e){this!==e&&(w(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){w(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return u(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Wr(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return u(this,null,function*(){let e=yield this.getIdToken();return yield Cn(this,fm(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,d;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,S=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,q=(o=n.photoURL)!==null&&o!==void 0?o:void 0,ae=(a=n.tenantId)!==null&&a!==void 0?a:void 0,A=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,C=(c=n.createdAt)!==null&&c!==void 0?c:void 0,ce=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:dt,emailVerified:H,isAnonymous:ht,providerData:Ht,stsTokenManager:Dn}=n;w(dt&&Dn,e,"internal-error");let Hu=Br.fromJSON(this.name,Dn);w(typeof dt=="string",e,"internal-error"),Je(p,e.name),Je(f,e.name),w(typeof H=="boolean",e,"internal-error"),w(typeof ht=="boolean",e,"internal-error"),Je(S,e.name),Je(q,e.name),Je(ae,e.name),Je(A,e.name),Je(C,e.name),Je(ce,e.name);let ci=new t({uid:dt,auth:e,email:f,emailVerified:H,displayName:p,isAnonymous:ht,photoURL:q,phoneNumber:S,tenantId:ae,stsTokenManager:Hu,createdAt:C,lastLoginAt:ce});return Ht&&Array.isArray(Ht)&&(ci.providerData=Ht.map(zu=>Object.assign({},zu))),A&&(ci._redirectEventId=A),ci}static _fromIdTokenResponse(e,n,r=!1){return u(this,null,function*(){let i=new Br;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Wr(s),s})}};var Wl=new Map;function Fe(t){je(t instanceof Function,"Expected a class definition");let e=Wl.get(t);return e?(je(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Wl.set(t,e),e)}var _m=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return u(this,null,function*(){return!0})}_set(n,r){return u(this,null,function*(){this.storage[n]=r})}_get(n){return u(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return u(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),go=_m;function Fr(t,e,n){return`firebase:${t}:${e}:${n}`}var Gr=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Fr(this.userKey,i.apiKey,s),this.fullPersistenceKey=Fr("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return u(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?An._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return u(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return u(this,null,function*(){if(!n.length)return new t(Fe(go),e,r);let i=(yield Promise.all(n.map(c=>u(this,null,function*(){if(yield c._isAvailable())return c})))).filter(c=>c),s=i[0]||Fe(go),o=Fr(r,e.config.apiKey,e.name),a=null;for(let c of n)try{let d=yield c._get(o);if(d){let p=An._fromJSON(e,d);c!==s&&(a=p),s=c;break}}catch{}let l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new t(s,e,r):(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(c=>u(this,null,function*(){if(c!==s)try{yield c._remove(o)}catch{}}))),new t(s,e,r))})}};function Bl(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uu(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cu(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hu(e))return"Blackberry";if(pu(e))return"Webos";if(No(e))return"Safari";if((e.includes("chrome/")||lu(e))&&!e.includes("edge/"))return"Chrome";if(du(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function cu(t=W()){return/firefox\//i.test(t)}function No(t=W()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lu(t=W()){return/crios\//i.test(t)}function uu(t=W()){return/iemobile/i.test(t)}function du(t=W()){return/android/i.test(t)}function hu(t=W()){return/blackberry/i.test(t)}function pu(t=W()){return/webos/i.test(t)}function ti(t=W()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function bm(t=W()){var e;return ti(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Tm(){return _l()&&document.documentMode===10}function fu(t=W()){return ti(t)||du(t)||pu(t)||hu(t)||/windows phone/i.test(t)||uu(t)}function Sm(){try{return!!(window&&window!==window.top)}catch{return!1}}function mu(t,e=[]){let n;switch(t){case"Browser":n=Bl(W());break;case"Worker":n=`${Bl(W())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ut}/${r}`}var vo=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return u(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Cm(n){return u(this,arguments,function*(t,e={}){return $t(t,"GET","/v2/passwordPolicy",Oo(t,e))})}var Am=6,yo=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Am,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Io=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qr(this),this.idTokenSubscription=new qr(this),this.beforeStateQueue=new vo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iu,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fe(n)),this._initializationPromise=this.queue(()=>u(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Gr.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return u(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return u(this,null,function*(){var n;let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!o||o===a)&&l?.user&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return w(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return u(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return u(this,null,function*(){try{yield Wr(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=um()}_delete(){return u(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return u(this,null,function*(){let n=e?Ke(e):null;return n&&w(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return u(this,null,function*(){if(!this._deleted)return e&&w(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>u(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return u(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>u(this,null,function*(){yield this.assertedPersistence.setPersistence(Fe(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return u(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return u(this,null,function*(){let e=yield Cm(this),n=new yo(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new xe("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return u(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Em(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return u(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return u(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Fe(e)||this._popupRedirectResolver;w(n,this,"argument-error"),this.redirectPersistenceManager=yield Gr.create(this,[Fe(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return u(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>u(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return u(this,null,function*(){if(e===this.currentUser)return this.queue(()=>u(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(w(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{let l=e.addObserver(n);return()=>{o=!0,l()}}}directlySetCurrentUser(e){return u(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return w(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mu(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return u(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return u(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&om(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function ni(t){return Ke(t)}var qr=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Cl(n=>this.observer=n)}get next(){return w(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Mo={loadJS(){return u(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Rm(t){Mo=t}function Om(t){return Mo.loadJS(t)}function Pm(){return Mo.gapiScript}function gu(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function Lo(t,e){let n=so(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(Nt(s,e??{}))return i;_e(i,"already-initialized")}return n.initialize({options:e})}function km(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Fe);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function xo(t,e,n){let r=ni(t);w(r._canInitEmulator,r,"emulator-config-failed"),w(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=vu(e),{host:o,port:a}=Dm(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Nm()}function vu(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Dm(t){let e=vu(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:Gl(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:Gl(o)}}}function Gl(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function Nm(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Rn=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ue("not implemented")}_getIdTokenResponse(e){return Ue("not implemented")}_linkToIdToken(e,n){return Ue("not implemented")}_getReauthenticationResolver(e){return Ue("not implemented")}};function jt(t,e){return u(this,null,function*(){return pm(t,"POST","/v1/accounts:signInWithIdp",Oo(t,e))})}var Mm="http://localhost",Kr=class t extends Rn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):_e("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Nn(n,["providerId","signInMethod"]);if(!r||!i)return null;let o=new t(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){let n=this.buildRequest();return jt(e,n)}_linkToIdToken(e,n){let r=this.buildRequest();return r.idToken=n,jt(e,r)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,jt(e,n)}buildRequest(){let e={requestUri:Mm,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Mt(n)}return e}};var On=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Yr=class extends On{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var ri=(()=>{class t extends Yr{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return Kr._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})();var Pn=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return u(this,null,function*(){let s=yield An._fromIdTokenResponse(e,r,i),o=ql(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return u(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=ql(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function ql(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var wo=class t extends de{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function yu(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?wo._fromErrorAndOperation(t,s,e,r):s})}function Lm(t,e,n=!1){return u(this,null,function*(){let r=yield Cn(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Pn._forOperation(t,"link",r)})}function xm(t,e,n=!1){return u(this,null,function*(){let{auth:r}=t,i="reauthenticate";try{let s=yield Cn(t,yu(r,i,e,t),n);w(s.idToken,r,"internal-error");let o=ko(s.idToken);w(o,r,"internal-error");let{sub:a}=o;return w(t.uid===a,r,"user-mismatch"),Pn._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&_e(r,"user-mismatch"),s}})}function Um(t,e,n=!1){return u(this,null,function*(){let r="signIn",i=yield yu(t,r,e),s=yield Pn._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function Uo(t,e,n,r){return Ke(t).onIdTokenChanged(e,n,r)}function Fo(t,e,n){return Ke(t).beforeAuthStateChanged(e,n)}function jo(t){return Ke(t).signOut()}var Jr="__sak";var Xr=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Jr,"1"),this.storage.removeItem(Jr),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function Fm(){let t=W();return No(t)||ti(t)}var jm=1e3,$m=10,Vm=(()=>{class t extends Xr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Fm()&&Sm(),this.fallbackToPolling=fu(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);Tm()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,$m):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},jm)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return u(this,null,function*(){yield Xe(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return u(this,null,function*(){let r=yield Xe(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return u(this,null,function*(){yield Xe(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),Iu=Vm;var Hm=(()=>{class t extends Xr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),$o=Hm;function zm(t){return Promise.all(t.map(e=>u(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var Wm=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return u(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let l=Array.from(a).map(d=>u(this,null,function*(){return d(r.origin,o)})),c=yield zm(l);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:c})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function Vo(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Eo=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return u(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{let c=Vo("",20);i.port1.start();let d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){let f=p;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function Ee(){return window}function Bm(t){Ee().location.href=t}function wu(){return typeof Ee().WorkerGlobalScope<"u"&&typeof Ee().importScripts=="function"}function Gm(){return u(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function qm(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Km(){return wu()?self:null}var Eu="firebaseLocalStorageDb",Ym=1,Zr="firebaseLocalStorage",_u="fbase_key",ut=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function ii(t,e){return t.transaction([Zr],e?"readwrite":"readonly").objectStore(Zr)}function Jm(){let t=indexedDB.deleteDatabase(Eu);return new ut(t).toPromise()}function _o(){let t=indexedDB.open(Eu,Ym);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Zr,{keyPath:_u})}catch(i){n(i)}}),t.addEventListener("success",()=>u(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Zr)?e(r):(r.close(),yield Jm(),e(yield _o()))}))})}function Kl(t,e,n){return u(this,null,function*(){let r=ii(t,!0).put({[_u]:e,value:n});return new ut(r).toPromise()})}function Xm(t,e){return u(this,null,function*(){let n=ii(t,!1).get(e),r=yield new ut(n).toPromise();return r===void 0?null:r.value})}function Yl(t,e){let n=ii(t,!0).delete(e);return new ut(n).toPromise()}var Zm=800,Qm=3,eg=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return u(this,null,function*(){return this.db?this.db:(this.db=yield _o(),this.db)})}_withRetries(n){return u(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>Qm)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return u(this,null,function*(){return wu()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return u(this,null,function*(){this.receiver=Wm._getInstance(Km()),this.receiver._subscribe("keyChanged",(n,r)=>u(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>u(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return u(this,null,function*(){var n,r;if(this.activeServiceWorker=yield Gm(),!this.activeServiceWorker)return;this.sender=new Eo(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return u(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||qm()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return u(this,null,function*(){try{if(!indexedDB)return!1;let n=yield _o();return yield Kl(n,Jr,"1"),yield Yl(n,Jr),!0}catch{}return!1})}_withPendingWrite(n){return u(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return u(this,null,function*(){return this._withPendingWrite(()=>u(this,null,function*(){return yield this._withRetries(i=>Kl(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return u(this,null,function*(){let r=yield this._withRetries(i=>Xm(i,n));return this.localCache[n]=r,r})}_remove(n){return u(this,null,function*(){return this._withPendingWrite(()=>u(this,null,function*(){return yield this._withRetries(r=>Yl(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return u(this,null,function*(){let n=yield this._withRetries(s=>{let o=ii(s,!1).getAll();return new ut(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>u(this,null,function*(){return this._poll()}),Zm)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),bu=eg;var qw=gu("rcb"),Kw=new lt(3e4,6e4);function Tu(t,e){return e?Fe(e):(w(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var kn=class extends Rn{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jt(e,this._buildIdpRequest())}_linkToIdToken(e,n){return jt(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return jt(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function tg(t){return Um(t.auth,new kn(t),t.bypassAuthState)}function ng(t){let{auth:e,user:n}=t;return w(n,e,"internal-error"),xm(n,new kn(t),t.bypassAuthState)}function rg(t){return u(this,null,function*(){let{auth:e,user:n}=t;return w(n,e,"internal-error"),Lm(n,new kn(t),t.bypassAuthState)})}var Qr=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>u(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return u(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(l))}catch(c){this.reject(c)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tg;case"linkViaPopup":case"linkViaRedirect":return rg;case"reauthViaPopup":case"reauthViaRedirect":return ng;default:_e(this.auth,"internal-error")}}resolve(e){je(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){je(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var ig=new lt(2e3,1e4);function si(t,e,n){return u(this,null,function*(){let r=ni(t);am(t,e,On);let i=Tu(r,n);return new sg(r,"signInViaPopup",e,i).executeNotNull()})}var sg=(()=>{class t extends Qr{constructor(n,r,i,s,o){super(n,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){return u(this,null,function*(){let n=yield this.execute();return w(n,this.auth,"internal-error"),n})}onExecution(){return u(this,null,function*(){je(this.filter.length===1,"Popup operations only handle one event");let n=Vo();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(we(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var n;return((n=this.authWindow)===null||n===void 0?void 0:n.associatedEvent)||null}cancel(){this.reject(we(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let n=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(we(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,ig.get())};n()}}t.currentPopupAction=null;return t})(),og="pendingRedirect",jr=new Map,bo=class t extends Qr{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return u(this,null,function*(){let e=jr.get(this.auth._key());if(!e){try{let r=(yield ag(this.resolver,this.auth))?yield Xe(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}jr.set(this.auth._key(),e)}return this.bypassAuthState||jr.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return u(this,null,function*(){if(e.type==="signInViaRedirect")return Xe(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Xe(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return u(this,null,function*(){})}cleanUp(){}};function ag(t,e){return u(this,null,function*(){let n=ug(e),r=lg(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function cg(t,e){jr.set(t._key(),e)}function lg(t){return Fe(t._redirectPersistence)}function ug(t){return Fr(og,t.config.apiKey,t.name)}function dg(t,e,n=!1){return u(this,null,function*(){let r=ni(t),i=Tu(r,e),o=yield new bo(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var hg=10*60*1e3,To=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!pg(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Su(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(we(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hg&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jl(e))}saveEventToCache(e){this.cachedEventUids.add(Jl(e)),this.lastProcessedEventTime=Date.now()}};function Jl(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Su({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function pg(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Su(t);default:return!1}}function fg(n){return u(this,arguments,function*(t,e={}){return $t(t,"GET","/v1/projects",e)})}var mg=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gg=/^https?/;function vg(t){return u(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield fg(t);for(let n of e)try{if(yg(n))return}catch{}_e(t,"unauthorized-domain")})}function yg(t){let e=po(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!gg.test(n))return!1;if(mg.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var Ig=new lt(3e4,6e4);function Xl(){let t=Ee().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function wg(t){return new Promise((e,n)=>{var r,i,s;function o(){Xl(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Xl(),n(we(t,"network-request-failed"))},timeout:Ig.get()})}if(!((i=(r=Ee().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Ee().gapi)===null||s===void 0)&&s.load)o();else{let a=gu("iframefcb");return Ee()[a]=()=>{gapi.load?o():n(we(t,"network-request-failed"))},Om(`${Pm()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw $r=null,e})}var $r=null;function Eg(t){return $r=$r||wg(t),$r}var _g=new lt(5e3,15e3),bg="__/auth/iframe",Tg="emulator/auth/iframe",Sg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Cg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ag(t){let e=t.config;w(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Ro(e,Tg):`https://${t.config.authDomain}/${bg}`,r={apiKey:e.apiKey,appName:t.name,v:Ut},i=Cg.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Mt(r).slice(1)}`}function Rg(t){return u(this,null,function*(){let e=yield Eg(t),n=Ee().gapi;return w(n,t,"internal-error"),e.open({where:document.body,url:Ag(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Sg,dontclear:!0},r=>new Promise((i,s)=>u(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=we(t,"network-request-failed"),a=Ee().setTimeout(()=>{s(o)},_g.get());function l(){Ee().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})})))})}var Og={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Pg=500,kg=600,Dg="_blank",Ng="http://localhost",ei=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Mg(t,e,n,r=Pg,i=kg){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",l=Object.assign(Object.assign({},Og),{width:r.toString(),height:i.toString(),top:s,left:o}),c=W().toLowerCase();n&&(a=lu(c)?Dg:n),cu(c)&&(e=e||Ng,l.scrollbars="yes");let d=Object.entries(l).reduce((f,[S,q])=>`${f}${S}=${q},`,"");if(bm(c)&&a!=="_self")return Lg(e||"",a),new ei(null);let p=window.open(e||"",a,d);w(p,t,"popup-blocked");try{p.focus()}catch{}return new ei(p)}function Lg(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var xg="__/auth/handler",Ug="emulator/auth/handler",Fg=encodeURIComponent("fac");function Zl(t,e,n,r,i,s){return u(this,null,function*(){w(t.config.authDomain,t,"auth-domain-config-required"),w(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ut,eventId:i};if(e instanceof On){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Sl(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,p]of Object.entries(s||{}))o[d]=p}if(e instanceof Yr){let d=e.getScopes().filter(p=>p!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let l=yield t._getAppCheckToken(),c=l?`#${Fg}=${encodeURIComponent(l)}`:"";return`${jg(t)}?${Mt(a).slice(1)}${c}`})}function jg({config:t}){return t.emulator?Ro(t,Ug):`https://${t.authDomain}/${xg}`}var ho="webStorageSupport",So=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$o,this._completeRedirectFn=dg,this._overrideRedirectResult=cg}_openPopup(e,n,r,i){return u(this,null,function*(){var s;je((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield Zl(e,n,r,po(),i);return Mg(e,o,Vo())})}_openRedirect(e,n,r,i){return u(this,null,function*(){yield this._originValidation(e);let s=yield Zl(e,n,r,po(),i);return Bm(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(je(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return u(this,null,function*(){let n=yield Rg(e),r=new To(e);return n.register("authEvent",i=>(w(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ho,{type:ho},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[ho];o!==void 0&&n(!!o),_e(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=vg(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return fu()||No()||ti()}},Cu=So;var Ql="@firebase/auth",eu="1.6.1";var Co=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return u(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){w(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function $g(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Vg(t){xt(new ye("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;w(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mu(t)},c=new Io(r,i,s,l);return km(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),xt(new ye("auth-internal",e=>{let n=ni(e.getProvider("auth").getImmediate());return(r=>new Co(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),X(Ql,eu,$g(t)),X(Ql,eu,"esm2017")}var Hg=5*60,zg=Ws("authIdTokenMaxAge")||Hg,tu=null,Wg=t=>e=>u(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>zg)return;let i=n?.token;tu!==i&&(tu=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Ho(t=Pr()){let e=so(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Lo(t,{popupRedirectResolver:Cu,persistence:[bu,Iu,$o]}),r=Ws("authTokenSyncURL");if(r){let s=Wg(r);Fo(n,s,()=>s(n.currentUser)),Uo(n,o=>s(o))}let i=yl("auth");return i&&xo(n,`http://${i}`),n}function Bg(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Rm({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=we("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Bg().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Vg("Browser");var Au="auth",$e=class{constructor(e){return e}},zo=class{constructor(){return co(Au)}};var Wo=new k("angularfire2.auth-instances");function Uv(t,e){let n=$l(Au,t,e);return n&&new $e(n)}function Fv(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new $e(r)}}var jv={provide:zo,deps:[[new Ce,Wo]]},$v={provide:$e,useFactory:Uv,deps:[[new Ce,Wo],ct]},Vv=(()=>{class t{constructor(){X("angularfire",_n.full,"auth")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=ze({type:t});static \u0275inj=He({providers:[$v,jv]})}return t})();function Ru(t,...e){return{ngModule:Vv,providers:[{provide:Wo,useFactory:Fv(t),multi:!0,deps:[j,le,Mr,Tn,[new Ce,Dr],...e]}]}}var Ou=bn(Ho,!0);var Pu=bn(jo,!0);var Vt="robertly-idtoken",oi=(()=>{let e=class e{constructor(){this.http=h(Ne),this.apiUrl=h(Le),this.auth=h($e),this.toastService=h(Cr)}signIn(r){return this.auth.currentUser?.getIdToken(!0),this.http.post(`${this.apiUrl}/auth/signin`,r,{responseType:"text"}).pipe(P(i=>{localStorage.setItem(Vt,i)}))}signInWithGoogle(){return u(this,null,function*(){let r=new ri;r.addScope("https://www.googleapis.com/auth/userinfo.email"),r.setCustomParameters({prompt:"select_account"}),this.auth.useDeviceLanguage();let i=yield si(this.auth,r),s=ri.credentialFromResult(i);if(s){let o=yield Mn(this.http.post(`${this.apiUrl}/auth/signup/google`,{accessToken:s.accessToken},{responseType:"text"}));localStorage.setItem(Vt,o),this.toastService.ok("Successfully signed in with Google")}})}signOut(){return u(this,null,function*(){try{yield Pu(this.auth),this.toastService.ok("Successfully signed out")}catch(r){this.toastService.error(JSON.stringify(r))}})}tryRefreshToken(){return u(this,null,function*(){let r=yield this.auth.currentUser?.getIdToken(!0);r?localStorage.setItem(Vt,r):localStorage.removeItem(Vt)})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ku=(()=>{let e=class e{constructor(){this.http=h(Ne),this.apiUrl=h(Le)}getUserByFirebaseUuid(r){return this.http.get(`${this.apiUrl}/users/firebase-uuid/${r}`)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ai=(()=>{let e=class e{constructor(){this.auth=h($e),this.usersService=h(ku),this.user=Ia(null),this.auth.onAuthStateChanged(r=>u(this,null,function*(){if(!r){this.user.set(null);return}let i=yield Mn(this.usersService.getUserByFirebaseUuid(r.uid));this.user.set({email:i.email,userId:i.userId,name:i.name,userFirebaseUuid:i.userFirebaseUuid})}))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function zv(t,e){if(t&1&&N(0),t&2){let n=M(),r;Qe(" Hello! ",(r=n.authService.user())==null?null:r.name," ")}}var Wv=t=>({active:t});function Bv(t,e){if(t&1){let n=fe();y(0,"button",12),x("click",function(){let s=K(n).$implicit,o=M(2);return Y(o.exerciseLogService.selectedUsername$.next(s))}),v()}if(t&2){let n=e.$implicit,r=M(2);F("ngClass",qt(1,Wv,n===r.exerciseLogService.selectedUsername()))}}function Gv(t,e){if(t&1){let n=fe();y(0,"div",8),$(1,"button",9),y(2,"div",10)(3,"button",11),x("click",function(){K(n);let i=M();return Y(i.exerciseLogService.selectedUsername$.next(null))}),N(4,"All Users"),v(),Pe(5,Bv,1,3,"button",13,Vn),v()()}if(t&2){let n=M();b(5),ke(n.exerciseLogService.usernames())}}function qv(t,e){t&1&&(y(0,"div",14),$(1,"button",15),v())}var Kv=t=>({spin:t}),Du=(()=>{let e=class e{constructor(){this.exerciseLogService=h(De),this.authService=h(ai),this.logsRefreshClicked=new Oe,this.menuSidebarClicked=new Oe,this.isSpinning=!1}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=pe({type:e,selectors:[["app-header"]],outputs:{logsRefreshClicked:"logsRefreshClicked",menuSidebarClicked:"menuSidebarClicked"},standalone:!0,features:[me],decls:10,vars:5,consts:[[1,"navbar","px-1"],[1,"container-fluid","d-flex"],[2,"color","white","font-weight","bold","font-size","14px"],["ngbDropdown","","display","dynamic","class","d-flex justify-content-end"],["type","button",1,"btn","me-3",2,"outline","none","border","none","padding","0"],[1,"fa","fa-refresh",2,"font-size","22px","color","white",3,"ngClass","click","animationend"],["type","button",1,"btn",2,"outline","none","border","none","padding","0"],[1,"fa","fa-bars",2,"font-size","22px","color","white",3,"click"],["ngbDropdown","","display","dynamic",1,"d-flex","justify-content-end"],["type","button","ngbDropdownToggle","",1,"btn","d-flex","justify-content-between","align-items-center","me-3",2,"outline","none","border","none","color","white","font-weight","500"],["ngbDropdownMenu",""],["ngbDropdownItem","",3,"click"],["ngbDropdownItem","",3,"ngClass","click"],["ngbDropdownItem","",3,"ngClass"],["display","dynamic",1,"d-flex","justify-content-end"],["type","button",1,"btn","d-flex","justify-content-between","align-items-center","me-3",2,"outline","none","border","none","color","white","font-weight","500"]],template:function(i,s){i&1&&(y(0,"nav",0)(1,"div",1)(2,"div",2),Q(3,zv,1,1),v(),Q(4,Gv,7,0,"div",3)(5,qv,2,0),y(6,"button",4)(7,"i",5),x("click",function(){return s.isSpinning=!0,s.logsRefreshClicked.emit()})("animationend",function(){return s.isSpinning=!1}),v()(),y(8,"button",6)(9,"i",7),x("click",function(){return s.menuSidebarClicked.emit()}),v()()()()),i&2&&(b(3),ee(3,s.authService.user()?3:-1),b(1),ee(4,s.exerciseLogService.usernames().length>1?4:5),b(3),F("ngClass",qt(3,Kv,s.isSpinning)))},dependencies:[Jn,Qn,nc,tc,ec,Za,Qa,tr,er,Zn],styles:["button[_ngcontent-%COMP%]:focus   i.fa.fa-refresh.spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate 1s ease-in-out 0s}@keyframes _ngcontent-%COMP%_rotate{0%{transform:rotate(0)}to{transform:rotate(720deg)}}"],changeDetection:0});let t=e;return t})();var Nu=()=>({exact:!0}),Mu=(()=>{let e=class e{constructor(){this.exerciseLogService=h(De),this.Paths=be}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=pe({type:e,selectors:[["app-footer"]],standalone:!0,features:[me],decls:35,vars:6,consts:[[1,"navbar","fixed-bottom","fw-bold"],[1,"container-fluid"],[1,"navbar-nav","flex-row","gap-3","justify-content-center","w-100"],[1,"nav-item","w-100"],["routerLinkActive","active",1,"nav-link","text-center","d-flex","justify-content-center","align-items-center","gap-2",3,"routerLinkActiveOptions"],[1,"item"],[1,"fa","fa-home"],["routerLinkActive","active",1,"nav-link","text-center","d-flex","justify-content-center","align-items-center","gap-2",3,"routerLink","routerLinkActiveOptions"],[1,"fa","fa-history"],[1,"d-flex","justify-content-center","align-items-center","add-button-container"],[1,"btn","btn-lg","btn-primary","d-flex","justify-content-center","align-items-center",3,"click"],[1,"fa","fa-plus"],["routerLinkActive","active",1,"nav-link","text-center","d-flex","justify-content-center","align-items-center","gap-2",3,"routerLink"],[1,"fa","fa-bar-chart"],["routerLinkActive","active",1,"nav-link","text-center","d-flex","justify-content-center","align-items-center","gap-2"],[1,"fa","fa-cog"]],template:function(i,s){i&1&&(y(0,"nav",0)(1,"div",1)(2,"ul",2)(3,"li",3)(4,"a",4)(5,"div",5)(6,"div"),$(7,"i",6),v(),y(8,"div"),N(9,"Home"),v()()()(),y(10,"li",3)(11,"a",7)(12,"div",5)(13,"div"),$(14,"i",8),v(),y(15,"div"),N(16,"Logs"),v()()()(),y(17,"li",3)(18,"div",9)(19,"button",10),x("click",function(){return s.exerciseLogService.createLogClicked$.next()}),$(20,"i",11),v()()(),y(21,"li",3)(22,"a",12)(23,"div")(24,"div"),$(25,"i",13),v(),y(26,"div"),N(27,"Stats"),v()()()(),y(28,"li",3)(29,"a",14)(30,"div")(31,"div"),$(32,"i",15),v(),y(33,"div"),N(34,"Settings"),v()()()()()()()),i&2&&(b(4),F("routerLinkActiveOptions",Ai(4,Nu)),b(7),F("routerLink",s.Paths.LOGS)("routerLinkActiveOptions",Ai(5,Nu)),b(11),F("routerLink",s.Paths.STATS))},dependencies:[kt,ul],styles:['nav.navbar.fixed-bottom[_ngcontent-%COMP%]{padding-bottom:max(env(safe-area-inset-bottom),.4rem);background:#2a2f3c}nav.navbar.fixed-bottom[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:11px;color:#fff;opacity:.4}nav.navbar.fixed-bottom[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px}nav.navbar.fixed-bottom[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{opacity:1}.add-button-container[_ngcontent-%COMP%]{position:relative}.add-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;border-radius:100%;height:50px;width:50px;z-index:10}.add-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:before{content:"";position:absolute;background:#2a2f3c;width:25px;height:25px;z-index:5;top:-9px;left:-36px;box-shadow:11px -5px var(--bs-body-bg);border-top-right-radius:20px}.add-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:after{content:"";position:absolute;background:#2a2f3c;width:25px;height:25px;z-index:5;top:-9px;right:-36px;box-shadow:-10px -5px var(--bs-body-bg);border-top-left-radius:20px}.add-button-container[_ngcontent-%COMP%]:before{content:"";position:absolute;height:75px;width:70px;top:-15px;background:var(--bs-body-bg);z-index:5;border-bottom-left-radius:35px;border-bottom-right-radius:35px;overflow:hidden}'],changeDetection:0});let t=e;return t})();function Yv(t,e){if(t&1){let n=fe();y(0,"a",6),x("click",function(){K(n);let i=M().$implicit;return Y(i.dismiss())}),N(1,"Sign In"),v(),y(2,"a",6),x("click",function(){K(n);let i=M().$implicit;return Y(i.dismiss())}),N(3,"Sign Up"),v()}if(t&2){let n=M(2);F("routerLink",n.Paths.SIGN_IN),b(2),F("routerLink",n.Paths.SIGN_UP)}}function Jv(t,e){if(t&1){let n=fe();y(0,"a",7),x("click",function(){K(n);let i=M().$implicit;return M().authApiService.signOut(),Y(i.dismiss())}),N(1,"Sign Out"),v()}}function Xv(t,e){if(t&1){let n=fe();y(0,"a",6),x("click",function(){K(n);let i=M().$implicit;return Y(i.dismiss())}),N(1,"Food Tracker"),v(),y(2,"a",6),x("click",function(){K(n);let i=M().$implicit;return Y(i.dismiss())}),N(3,"Developer"),v()}if(t&2){let n=M(2);F("routerLink",n.Paths.FOODS),b(2),F("routerLink",n.Paths.DEVELOPER)}}function Zv(t,e){if(t&1){let n=fe();y(0,"div",2)(1,"button",3),x("click",function(){let s=K(n).$implicit;return Y(s.dismiss("Cross click"))}),v()(),y(2,"div",4),Q(3,Yv,4,2)(4,Jv,2,0,"a",5),y(5,"a",6),x("click",function(){let s=K(n).$implicit;return Y(s.dismiss())}),N(6,"Exercises"),v(),Q(7,Xv,4,2),v()}if(t&2){let n=M();b(3),ee(3,n.authService.user()?-1:3),b(1),ee(4,n.authService.user()?4:-1),b(1),F("routerLink",n.Paths.EXERCISES),b(2),ee(7,n.authService.user()?7:-1)}}function Qv(t,e){if(t&1){let n=fe();y(0,"ngb-toast",8),x("hidden",function(){let s=K(n).$implicit,o=M();return Y(o.toastService.remove(s))}),y(1,"ngb-alert",9),x("closed",function(){let s=K(n).$implicit,o=M();return Y(o.toastService.remove(s))}),N(2),v()()}if(t&2){let n=e.$implicit;F("autohide",!0)("delay",n.delay||3e3),b(1),F("type",n.type),b(1),yt(n.text)}}function ey(t,e){if(t&1){let n=fe();y(0,"app-header",10),x("logsRefreshClicked",function(){K(n);let i=M();return Y(i.fetchData(!0,!0))})("menuSidebarClicked",function(){K(n);let i=M(),s=Sa(1);return Y(i.openSidebar(s))}),v(),y(1,"div",11),$(2,"router-outlet"),v(),$(3,"app-footer")}}function ty(t,e){if(t&1&&(y(0,"div",12)(1,"div",13)(2,"div",14),N(3,"ROBERTLY"),v(),y(4,"div",15),$(5,"div",16),v(),y(6,"div",17),N(7),v()()()),t&2){let n=M();b(5),_a("width",n.preloaderProgress,"%"),b(2),Qe(" ",n.preloaderMessage," ")}}var Bo="robertly-get-data-cache",Lu="robertly-exercise-logs",xu="robertly-exercises",Go="robertly-create-log-value",ny=5*60,Uu=t=>{let e=t,n=new Map;Li.required(e.controls.user)&&n.set("user",L(m({},n.get("user")),{required:"Username is required"})),e.value.user==="peron"&&n.set("user",L(m({},n.get("user")),{invalidPeron:"Peron is not allowed"})),Li.required(e.controls.exercise)&&n.set("exercise",L(m({},n.get("exercise")),{exerciseRequired:"Exercise is required"})),typeof e.value.exercise=="string"&&e.value.exercise?.toLowerCase()==="peron"&&n.set("exercise",L(m({},n.get("exercise")),{invalidPeron:"Peron is not allowed"})),e.controls.series.value.map(o=>(o.reps??0)>0&&(o.weightInKg??0)>0).every(o=>!o)&&n.set("series",L(m({},n.get("series")),{allSeriesAreEmpty:"Needs at least one serie"})),e.controls.series.value.some(o=>!Number.isInteger(o.reps??0))&&n.set("series",L(m({},n.get("series")),{repsMustBeInteger:"Reps needs to be whole numbers"}));let s={};for(let[o,a]of n.entries())s[o]=a;return s},Fu=(()=>{let e=class e{constructor(){this.exerciseLogService=h(De),this.toastService=h(Cr),this.authApiService=h(oi),this.authService=h(ai),this.exerciseLogApiService=h(hl),this.exerciseApiService=h(pl),this.serviceWorkerUpdates=h(Ui),this.modalService=h(ic),this.document=h(z),this.dayjsService=h(Va),this.dayjs=this.dayjsService.instance,this.injector=h(le),this.offcanvasService=h(ac),this.createLogFormGroup=new te({user:new O(""),userId:new O(""),exercise:new O(null),date:new O(""),series:new xi([new te({reps:new O,weightInKg:new O}),new te({reps:new O,weightInKg:new O}),new te({reps:new O,weightInKg:new O}),new te({reps:new O,weightInKg:new O}),new te({reps:new O,weightInKg:new O})])},[Uu]),this.updateLogFormGroup=new te({user:new O(""),userId:new O(""),exercise:new O(null),date:new O(""),series:new xi([new te({reps:new O,weightInKg:new O}),new te({reps:new O,weightInKg:new O}),new te({reps:new O,weightInKg:new O}),new te({reps:new O,weightInKg:new O}),new te({reps:new O,weightInKg:new O})])},[Uu]),this.Paths=be,this.hasAppLoaded=Gn(),this.preloaderMessage="Searching for updates...",this.preloaderProgress=10;let r=localStorage.getItem(Bo),i=!1;if(!r)localStorage.setItem(Bo,this.dayjs().unix().toString()),i=!0;else{let s=this.dayjs.unix(+r);this.dayjs().diff(s,"seconds")>ny&&(i=!0,localStorage.setItem(Bo,this.dayjs().unix().toString()))}this.fetchData(i,i),this.serviceWorkerUpdates.unrecoverable.pipe(wt()).subscribe(s=>console.error(s)),this.serviceWorkerUpdates.versionUpdates.subscribe(s=>{if(s.type==="VERSION_DETECTED")this.preloaderMessage="New version found. Preparing to install...",this.preloaderProgress=60;else if(s.type==="NO_NEW_VERSION_DETECTED")this.preloaderMessage="Everything up to date",this.preloaderProgress=100,setTimeout(()=>{this.hasAppLoaded=!0},500);else if(s.type==="VERSION_READY")this.document.location.reload();else if(s.type==="VERSION_INSTALLATION_FAILED")this.preloaderMessage="Failed to install new version",this.preloaderProgress=100,setTimeout(()=>{this.hasAppLoaded=!0},500);else throw new Error("Impossible state")}),this.createLogFormGroup.valueChanges.pipe(wt(),na(1e3)).subscribe(s=>localStorage.setItem(Go,JSON.stringify(s))),this.exerciseLogService.logClicked$.pipe(wt()).subscribe(s=>{this.updateLogFormGroup.reset(),this.updateLogFormGroup.patchValue({exercise:s.exercise,date:this.dayjsService.parseDate(s.date).format("YYYY-MM-DD"),user:s.user.name,series:s.series.map(o=>({reps:o.reps,weightInKg:o.weightInKg}))}),this.open("update",s)}),this.exerciseLogService.createLogClicked$.pipe(wt()).subscribe(()=>{this.open("create")}),this.exerciseLogService.deleteLog$.pipe(V(s=>this.exerciseLogApiService.deleteExerciseLog(s.id).pipe(P(()=>{this.fetchData(),this.toastService.ok("Log deleted successfully!")}))),wt()).subscribe()}ngOnInit(){let r=JSON.parse(localStorage.getItem(Go)??"null");r&&this.createLogFormGroup.patchValue(r)}open(r,i){let s=this.modalService.open(fl,{injector:this.injector,fullscreen:!0}),o=s.componentInstance;o.createOrUpdateLogFormGroup=r==="update"?this.updateLogFormGroup:this.createLogFormGroup,o.mode=r,r==="create"&&!this.createLogFormGroup.value.date&&this.createLogFormGroup.controls.date.patchValue(this.dayjs().format("YYYY-MM-DD")),i&&(o.originalValue=i),s.result.then(()=>{if(r==="create"){if(this.createLogFormGroup.invalid||typeof this.createLogFormGroup.value.exercise=="string")return;let a=this.authService.user(),l={exerciseLog:{exerciseLogUsername:a?.name??this.createLogFormGroup.value.user.toLocaleLowerCase(),exerciseLogUserId:a?.userId,exerciseLogExerciseId:this.createLogFormGroup.value.exercise.exerciseId,exerciseLogDate:this.dayjsService.parseDate(this.createLogFormGroup.value.date).format("YYYY-MM-DD"),series:(this.createLogFormGroup.value.series??[]).filter(c=>!!c.reps&&!!c.weightInKg).map(c=>({reps:+c.reps,weightInKg:+c.weightInKg.toFixed(1)}))}};this.exerciseLogApiService.createExerciseLog(l).subscribe({next:()=>{this.createLogFormGroup.reset(),localStorage.removeItem(Go),this.fetchData(),this.toastService.ok("Log created successfully!")},error:()=>{this.fetchData(),this.toastService.error()}})}else{if(this.updateLogFormGroup.invalid)return;let a=this.exerciseLogService.logs().find(c=>c.user.name.toLowerCase()===this.updateLogFormGroup.value.user?.toLowerCase()&&!!c.user.userId)??null;if(typeof this.updateLogFormGroup.value.exercise=="string")return;let l={id:i.id,date:this.dayjsService.parseDate(this.updateLogFormGroup.value.date).format("YYYY-MM-DD"),exerciseId:this.updateLogFormGroup.value.exercise.exerciseId,user:a?.user.name??this.updateLogFormGroup.value.user.toLowerCase(),userId:a?.user.userId??null,series:(this.updateLogFormGroup.value.series??[]).filter(c=>!!c.reps&&!!c.weightInKg).map(c=>({reps:+c.reps,weightInKg:+c.weightInKg.toFixed(1)}))};this.exerciseLogApiService.updateExerciseLog(l).subscribe({next:()=>{this.updateLogFormGroup.reset(),this.fetchData(),this.toastService.ok("Log updated successfully!")},error:()=>{this.fetchData(),this.toastService.error()}})}},()=>{this.createLogFormGroup.markAsPristine(),this.updateLogFormGroup.markAsPristine()})}fetchData(r=!1,i=!0){let s=JSON.parse(localStorage.getItem(xu)??"[]"),o=JSON.parse(localStorage.getItem(Lu)??"[]"),a=this.exerciseApiService.getExercises(),l=this.exerciseLogApiService.getExerciseLogsv2();this.exerciseLogService.withLoading(ta([l,a]).pipe(P(([c,d])=>{localStorage.setItem(Lu,JSON.stringify(c)),localStorage.setItem(xu,JSON.stringify(d)),this.exerciseLogService.updateLogs$.next(c),this.exerciseLogService.updateExercises$.next(d)})))}openSidebar(r){this.offcanvasService.open(r,{position:"end"})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=pe({type:e,selectors:[["app-root"]],standalone:!0,features:[Ca([De]),me],decls:7,vars:1,consts:[["content",""],[1,"toast-container"],[1,"offcanvas-header"],["tabindex","-1","type","button","aria-label","Close",1,"btn-close",2,"margin-left","auto",3,"click"],[1,"offcanvas-body"],["class","link-primary","style","cursor: pointer"],[3,"routerLink","click"],[1,"link-primary",2,"cursor","pointer",3,"click"],[3,"autohide","delay","hidden"],[3,"type","closed"],[3,"logsRefreshClicked","menuSidebarClicked"],[1,"main"],[1,"preloader"],[1,"preloader-content"],[1,"preloader-title"],[1,"progress"],[1,"progress-bar"],[1,"preloader-message"],[3,"autohide","delay"]],template:function(i,s){i&1&&(Q(0,Zv,8,4,"ng-template",null,0,Na),y(2,"div",1),Pe(3,Qv,3,4,"ngb-toast",18,Vn),v(),Q(5,ey,4,0)(6,ty,8,3)),i&2&&(b(3),ke(s.toastService.toasts),b(2),ee(5,s.hasAppLoaded?5:6))},dependencies:[Du,Mu,kt,Ps,Qn,tr,er,sc,Zn,Xa],styles:["button[_ngcontent-%COMP%]:has(.fa.fa-plus){border-radius:100%;position:fixed;right:25px;bottom:75px;z-index:4}@supports (-webkit-hyphens: none){button[_ngcontent-%COMP%]:has(.fa.fa-plus){bottom:100px}}.offcanvas-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{box-shadow:none}.main[_ngcontent-%COMP%]{background-color:var(--bs-body-bg);height:100vh;padding-top:2rem}.toast-container[_ngcontent-%COMP%]{position:fixed;top:15px;left:50%;transform:translate(-50%);z-index:1200}.toast-container[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:last-child){--bs-toast-spacing: .5rem}.offcanvas-body[_ngcontent-%COMP%]{display:flex;flex-direction:column}.preloader[_ngcontent-%COMP%]{background-color:var(--bs-primary);height:100vh;width:100vw}.preloader[_ngcontent-%COMP%]   .preloader-content[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;padding-top:80%;color:#fff}.preloader[_ngcontent-%COMP%]   .preloader-content[_ngcontent-%COMP%]   .preloader-title[_ngcontent-%COMP%]{font-weight:700;font-size:36px}.preloader[_ngcontent-%COMP%]   .preloader-content[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{width:180px;height:5px;border-radius:0;background-color:#ffffff4d}.preloader[_ngcontent-%COMP%]   .preloader-content[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{background-color:#fff}.preloader[_ngcontent-%COMP%]   .preloader-content[_ngcontent-%COMP%]   .preloader-message[_ngcontent-%COMP%]{padding-top:.3rem;font-size:14px}"]});let t=e;return t})();var ry="@",qo=class{constructor(e,n,r,i,s){this.doc=e,this.delegate=n,this.zone=r,this.animationType=i,this.moduleImpl=s,this._rendererFactoryPromise=null}loadImpl(){return(this.moduleImpl??import("./chunk-OD2JDPVA.js")).catch(n=>{throw new U(5300,!1)}).then(({\u0275createEngine:n,\u0275AnimationRendererFactory:r})=>{let i=n(this.animationType,this.doc),s=new r(this.delegate,i,this.zone);return this.delegate=s,s})}createRenderer(e,n){let r=this.delegate.createRenderer(e,n);if(r.\u0275type===0)return r;typeof r.throwOnSyntheticProps=="boolean"&&(r.throwOnSyntheticProps=!1);let i=new Ko(r);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(s=>{let o=s.createRenderer(e,n);i.use(o)}).catch(s=>{i.use(r)}),i}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}},Ko=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let n of this.replay)n(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,n){this.delegate.appendChild(e,n)}insertBefore(e,n,r,i){this.delegate.insertBefore(e,n,r,i)}removeChild(e,n,r){this.delegate.removeChild(e,n,r)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){this.shouldReplay(n)&&this.replay.push(i=>i.setProperty(e,n,r)),this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.shouldReplay(n)&&this.replay.push(i=>i.listen(e,n,r)),this.delegate.listen(e,n,r)}shouldReplay(e){return this.replay!==null&&e.startsWith(ry)}};function ju(t="animations"){return Ae([{provide:Fn,useFactory:(e,n,r)=>new qo(e,n,r,t),deps:[z,ar,j]},{provide:ga,useValue:t==="noop"?"NoopAnimations":"BrowserAnimations"}])}var $u={apiUrl:"https://robertly.azurewebsites.net/api"};function Vu(t,e){let n=h(oi),r=localStorage.getItem(Vt);return r&&(t=t.clone({setHeaders:{Authorization:`Bearer ${r}`}})),e(t).pipe(aa({delay:(i,s)=>i instanceof bt&&i.status===401&&s<2?B(n.tryRefreshToken()).pipe(Se(()=>g(null))):Te}))}var be={LOGS:"",STATS:"stats",EXERCISES:"exercises",SIGN_IN:"signin",SIGN_UP:"signup",DEVELOPER:"developer",FOODS:"foods"},iy=[{path:be.EXERCISES,loadComponent:()=>import("./chunk-W6DEYEYQ.js").then(t=>t.ExercisesPageComponent)},{path:be.STATS,loadComponent:()=>import("./chunk-JA5N3DMF.js").then(t=>t.StatsPageComponent)},{path:be.SIGN_IN,loadComponent:()=>import("./chunk-EVUCDYNX.js").then(t=>t.SignInComponent)},{path:be.LOGS,pathMatch:"full",loadComponent:()=>import("./chunk-FP2HWO5F.js").then(t=>t.ExerciseLogsPageComponent)},{path:be.DEVELOPER,pathMatch:"full",loadComponent:()=>import("./chunk-ZKO22S2W.js").then(t=>t.DeveloperPageComponent)},{path:be.FOODS,pathMatch:"full",loadComponent:()=>import("./chunk-7KOKTWCC.js").then(t=>t.FoodsPageComponent)}],Le=new k("API_URL");Oc(Fu,{providers:[Ua,Fa,ju(),Ec(_c([Vu])),dl(iy),hc("ngsw-worker.js",{enabled:!Gn()}),Ei(Vl(()=>Hl({projectId:"gymtracker-b0b72",appId:"1:1063566206093:web:a3154a1ae143b91f05eec4",storageBucket:"gymtracker-b0b72.appspot.com",apiKey:"AIzaSyCA0ExS-7mRUULdk7CYFORL5zwYXd4lJ-E",authDomain:"auth.robertly.ar",messagingSenderId:"1063566206093"}))),Ei(Ru(()=>Ou())),{provide:Le,useValue:$u.apiUrl}]}).catch(t=>console.error(t));export{Sr as a,pl as b,Cr as c,Vt as d,oi as e,be as f,Le as g};
